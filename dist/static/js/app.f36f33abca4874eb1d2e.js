var app=webpackJsonp_name_([1,0],[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=i(18),s=n(a),r=i(37),o=n(r),l=i(378),u=n(l),c=i(387),d=n(c);i(376),i(377),i(267);var p=i(3),h=n(p),f=i(268),v=n(f);o.default.set("es"),u.default.attach(document.body),s.default.use(d.default),h.default.on("load",function(){new s.default({el:"#app",router:v.default})}),h.default.on("notification",function(e,t){h.default.api.clear("people/"+h.default.user.id+"/posts/types"),h.default.api.clear("people/"+h.default.user.id+"/posts/inbox"),h.default.api.clear("/people/"+h.default.user.id+"/threads/inbox"),h.default.api.clear("/people/"+h.default.user.id+"/threads/archive"),h.default.api.clear("/people/"+h.default.user.id+"/threads/inbox/"+e.post.thread),t.additionalData.foreground||v.default.push({name:"thread",params:{threadId:e.post.thread2}})}),document.addEventListener("deviceready",function(){ons.setDefaultDeviceBackButtonListener(function(e){}),document.addEventListener("backbutton",function(e){v.default.currentRoute.meta.exitOnBack?navigator.app.exitApp():v.default.go(-1)},!1)},!1)},,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(266),a=new n.App("core");t.default=a},function(e,t,i){i(336);var n=i(2)(i(202),i(470),"data-v-3b9fd473",null);e.exports=n.exports},,,,function(e,t,i){var n=i(2)(i(203),i(485),null,null);e.exports=n.exports},,,,,,,,,,,,,,function(e,t,i){var n=i(2)(i(193),i(467),null,null);e.exports=n.exports},,,,,,,,,,,,,,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(18),s=n(a),r=i(392),o=n(r),l=i(1),u=n(l),c=i(257),d=n(c);s.default.use(o.default),s.default.locale("es",d.default),t.default={language:null,set:function(e){this.language=e,u.default.locale(e),s.default.config.lang=e}}},,,,,,,,,,,,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(28),s=n(a),r=i(24),o=n(r),l=i(13),u=n(l),c=i(9),d=n(c),p=i(10),h=n(p);i(516);var f=i(259),v=n(f),m=i(260),g=n(m),_=function(){function e(t){(0,d.default)(this,e),this.host=t,this.token=null,this.cache=new v.default,this.isLoading=!1,this.cacheIsEnabled=!1,this.authorization={}}return(0,h.default)(e,[{key:"collection",value:function(e,t){return new g.default(this,e,t)}},{key:"setCaching",value:function(e){this.cacheIsEnabled=!!e}},{key:"setToken",value:function(e){this.token=e}},{key:"buildRequest",value:function(t,i){t=this.host+"/"+t;var n=i.method?i.method.toLowerCase():"get";"get"==n&&i.body&&(t+="?"+e.serialize(i.body),i.body=null),!i.body||"string"==typeof i.body||i.body instanceof FormData||(i.body=(0,u.default)(i.body));var a=new Request(t,i);return!this.token||i&&i.headers&&i.headers.Authorization||a.headers.set("Authorization","Bearer "+this.token),a}},{key:"fetch",value:function(e){function t(t,i){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){var i,n=this,a=this.buildRequest(e,t);"GET"==a.method&&this.cacheIsEnabled?i=this.cache.fetch(a).then(function(e){return void 0!=e?e:fetch(a)}).then(function(e){return n.cache.store(a,e)}):(this.cache.clear(e),i=fetch(a));var s=setTimeout(function(){n.isLoading=!0},100);return i.then(function(e){if(clearTimeout(s),n.isLoading=!1,!e.ok)throw Error(e.statusText);return e})})},{key:"clear",value:function(e){return e=this.host+"/"+e,this.cache.clear(e)}},{key:"get",value:function(e,t){return this.fetch(e,{method:"GET",body:t}).then(function(e){return e.json()})}},{key:"post",value:function(e,t){return this.fetch(e,{method:"POST",body:t}).then(function(e){return e.json()})}},{key:"put",value:function(e,t){return this.fetch(e,{method:"PUT",body:t}).then(function(e){return e.json()})}},{key:"delete",value:function(e,t){return this.fetch(e,{method:"DELETE",body:t}).then(function(e){return e.json()})}},{key:"patch",value:function(e,t){return this.fetch(e,{method:"PATCH",body:t}).then(function(e){return e.json()})}},{key:"options",value:function(e,t){return this.fetch(e,{method:"OPTIONS",body:t}).then(function(e){return e.json()})}},{key:"allowed",value:function(e){var t=this;return"undefined"!=typeof this.authorization[e]?new o.default(function(i,n){i(t.authorization[e])}):this.get("allowed\\"+e).then(function(i){return t.authorization[e]=i[e],t.authorization[e]})}}],[{key:"serialize",value:function(e){function t(t,i){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){var i=[];for(var n in e)if(e.hasOwnProperty(n)){var a=t?t+"["+n+"]":n,r=e[n];if(null==r)continue;"object"==("undefined"==typeof r?"undefined":(0,s.default)(r))?i.push(serialize(r,a)):("number"==typeof r||r.length>0)&&i.push(encodeURIComponent(a)+"="+encodeURIComponent(r))}return i.join("&")})}]),e}();t.default=_},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(24),s=n(a),r={subscribe:function(){return"serviceWorker"in navigator?navigator.serviceWorker.ready.then(function(e){return e.pushManager.subscribe({userVisibleOnly:!0}).then(function(e){return console.log("subscription OK",e),e}).catch(function(e){console.log("subscription Error",e),"denied"===Notification.permission?console.log("Permission for Notifications was denied"):console.log("Unable to subscribe to push.",e)})}):new s.default(function(e,t){t("serviceWorker is not supported")})},unsubscribe:function(){return"serviceWorker"in navigator?navigator.serviceWorker.ready.then(function(e){e.pushManager.getSubscription().then(function(e){e&&e.unsubscribe().then(function(){}).catch(function(e){console.log("unsubscription error: ",e)})}).catch(function(e){window.Demo.debug.log("Error thrown while unsubscribing from push messaging.",e)})}):new s.default(function(e,t){t("serviceWorker is not supported")})},getFullEndpoint:function(e){if(0!==e.endpoint.indexOf("https://android.googleapis.com/gcm/send"))return e.endpoint;var t=e.endpoint;return e.subscriptionId&&e.endpoint.indexOf(e.subscriptionId)===-1&&(t=e.endpoint+"/"+e.subscriptionId),t},getSubscriptionId:function(e){var t=r.getFullEndpoint(e).split("/");return t[t.length-1]}};t.default=r},function(e,t,i){(function(e){"use strict";function t(e){e=e||{},this.target=e.target,this.interval=1e3|e.interval,this.max=e.max||0,this.callback=e.callback,this.userScroll=!0,this.spinner=e.spinner,this.spin_img=new Image,this.stickyHeight=e.stickyHeight||10,this.spinner&&(this.spin_img.src=this.spinner);var t=this;this.intend_down=!0,this.timeout=null,this.emit("lock");var i="wheel";if(void 0!==document.onmousewheel&&(i="mousewheel"),this.onResize=function(e){t.emit("windowresize"),t.checkdown()},window.addEventListener("resize",this.onResize),this.onScroll=function(e){t.userScroll&&(t.intend_down&&!t.isdown()?(t.intend_down=!1,t.emit("release")):!t.intend_down&&t.isdown()&&(t.intend_down=!0,t.emit("lock"))),t.userScroll=!0},this.target.addEventListener("scroll",this.onScroll),this.destroy=function(){window.removeEventListener("resize",this.onResize),this.target.removeEventListener("scroll",this.onScroll),clearTimeout(this.timeout)},window.MutationObserver)this.mo=new MutationObserver(function(e){var i,n,a,s,r,o,l,u,c;for(t.userScroll=!1,t.checkdown(),n=0;n<e.length;n++)for(i=e[n],a=0;a<i.addedNodes.length;a++)if(i.addedNodes[a].getElementsByTagName)for(s=i.addedNodes[a].getElementsByTagName("img"),o=0,l=s.length;o<l;o++)if(r=s[o],!r.complete){u=r.parentNode,t.spinner&&(c=t.spin_img.cloneNode(),u.replaceChild(c,r));var d=function e(i){c&&u.replaceChild(r,c),t.emit("imageload"),t.checkdown(),i.target.removeEventListener("load",e)};r.addEventListener("load",d)}}),this.mo.observe(this.target,{attributes:!0,childList:!0,characterData:!0,subtree:!0});else{var n=function e(){t.checkdown(),t.timeout=window.setTimeout(e,t.interval)};n()}}(function(){this.isdown=function(){var e=this.target.scrollHeight-this.target.scrollTop-this.target.clientHeight;return e<this.stickyHeight},this.append=function(e){for(this.emit("append"),this.target.appendChild(e),this.intend_down&&(this.target.scrollTop=this.target.scrollHeight,this.emit("scrolldown"));0!==this.max&&this.target.children.length>this.max;)this.target.removeChild(this.target.children[0]),this.emit("removechild")},this.emit=function(e,t){"function"==typeof this.callback&&this.callback(e,t)},this.checkdown=function(){var e=this.target.scrollHeight-this.target.scrollTop-this.target.clientHeight;(this.intend_down||e<this.stickyHeight)&&(this.target.scrollTop=this.target.scrollHeight,this.userScroll=!1,this.emit("scrolldown"))}}).call(t.prototype),e?e.exports=t:window.StayDown=t}).call(t,i(36)(e))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){i(358);var n=i(2)(i(205),i(494),"data-v-8a6d6ad4",null);e.exports=n.exports},function(e,t,i){i(331);var n=i(2)(i(208),i(464),"data-v-2e0fa3f4",null);e.exports=n.exports},function(e,t,i){i(362);var n=i(2)(i(211),i(500),"data-v-a820bfca",null);e.exports=n.exports},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(255),s=n(a);t.default={name:"dropzone",props:{url:{type:String,required:!0},method:{type:String}},data:function(){return{dropzone:null}},methods:{clear:function(){this.dropzone.removeAllFiles()}},mounted:function(){var e=this;this.dropzone=new s.default(this.$el.querySelector(".vue-dropzone"),{url:this.url,autoProcessQueue:!0}),this.dropzone.on("success",function(t,i){e.$emit("success",t,i)}),this.dropzone.on("complete",function(t){e.dropzone.removeFile(t),e.$emit("complete",t)})}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(270),s=n(a),r=i(35),o=n(r),l=i(1),u=(n(l),i(379));n(u);i(381),i(380),t.default={name:"full-calendar",props:{options:{type:Object,default:function(){return{}}},currentView:{type:String,required:!0}},data:function(){return{}},watch:{currentView:function(e,t){this.calendar&&this.calendar.fullCalendar("changeView",e)},options:function(e,t){this.initializeCalendar()}},methods:{initializeCalendar:function(){(0,s.default)(this.options).length>0&&(this.calendar&&this.calendar.fullCalendar("destroy"),this.calendar=(0,o.default)(this.$el.querySelector(".calendar-container")).fullCalendar(this.options),this.$emit("created",this.calendar))}},mounted:function(){this.initializeCalendar()}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(395),s=n(a),r=i(396),o=n(r),l=i(397),u=n(l),c=i(398),d=n(c),p=i(399),h=n(p),f=i(400),v=n(f),m={files:s.default,form:o.default,html:u.default,image:d.default,v3:h.default,youtube:v.default},g={};for(var _ in m)g["phi-block-"+_]=m[_];t.default={name:"phi-block",components:g,props:{block:{type:Object,required:!0},post:{type:Object},action:{type:String}},methods:{change:function(){this.$emit("change",this.block)},destroy:function(){this.$emit("destroy",this.block)},reset:function(){this.$emit("reset",this.block)}},getActions:function(e){return"undefined"==typeof m[e]||"undefined"==typeof m[e]["phi-actions"]?{}:m[e]["phi-actions"]}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(393),s=n(a),r=i(3),o=n(r);t.default={name:"phi-block-files",components:{Dropzone:s.default},props:["post","block","action"],"phi-actions":{default:{title:"ver archivos"},edit:{title:"modificar archivos"}},data:function(){return{files:[],fullUrl:null}},methods:{success:function(e,t){this.files=t.concat(this.files)},reload:function(){var e=this;o.default.api.get(this.block.url).then(function(t){return e.files=t})},remove:function(e){var t=this;this.files.splice(this.files.indexOf(e),1),o.default.api.delete(e.endpoint+"/"+e.path).then(function(){t.$emit("change")})}},created:function(){if(!this.block.url){var e=Math.floor(1e5*Math.random()+1);this.block.url="posts/"+this.post.id+"/resources/files/block-"+e,this.$emit("change")}this.fullUrl=o.default.api.host+"/"+this.block.url,this.reload()}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(3),s=n(a);t.default={name:"phi-block-form",props:["block","action"],"phi-actions":{edit:{title:"editar"},delete:{title:"eliminar"}},data:function(){return{user:s.default.user,form:{},records:[],newRecord:{},recordsUrl:null}},created:function(){this.block.url&&this.reload()},methods:{reload:function(){var e=this;s.default.api.get(this.block.url).then(function(t){e.form=t,e.resetNewRecord(),e.user&&e.user.id&&(e.recordsUrl="people/"+e.user.id+"/data/entities/"+e.form.id+"/records",s.default.api.get(e.recordsUrl).then(function(t){return e.records=t}))})},destroy:function(){s.default.api.delete(this.block.url),this.$emit("destroy")},getOptions:function(e){return e.options.split("\n")},saveRecord:function(){var e=this;this.recordsUrl&&s.default.api.post(this.recordsUrl,this.newRecord).then(function(t){e.records.push(t),e.resetNewRecord()})},resetNewRecord:function(){var e=this;this.newRecord={},this.form.fields.forEach(function(t){return e.$set(e.newRecord,t.name,null)})}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(184),s=(n(a),i(410)),r=n(s),o=i(3),l=n(o);t.default={name:"phi-block-html",components:{quill:r.default},props:["block","action"],"phi-actions":{edit:{title:"editar"},delete:{title:"eliminar"}},data:function(){return{body:null,timer:null}},created:function(){var e=this;this.block.url?this.reload():l.default.api.post("/media/html").then(function(t){e.block.url="media/html/"+t.id,e.$emit("change")})},methods:{reload:function(){var e=this;l.default.api.get(this.block.url).then(function(t){e.body=t.body})},destroy:function(){l.default.api.delete(this.block.url),this.$emit("destroy")},save:function(){var e=this;clearTimeout(this.timer),this.timer=setTimeout(function(){l.default.api.put(e.block.url,{body:e.body})},500)}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"phi-block-image",props:["block","action"],"phi-actions":{default:{title:"ver imagen"},edit:{title:"modificar imagen"}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(3),s=n(a);t.default={name:"phi-block-v3",props:["block","action"],data:function(){return{body:null}},created:function(){this.load()},methods:{load:function(){var e=this;this.block.url&&fetch(this.block.url,{headers:{Authorization:"Bearer "+s.default.api.token}}).then(function(e){return e.text()}).then(function(t){return e.body=t})}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(8),s=n(a);t.default={name:"phi-block-youtube",components:{PhiInput:s.default},props:["block","action"],"phi-actions":{default:{title:"ver video (iframe)"},edit:{title:"editar video"},delete:{title:"eliminar"}},data:function(){return{initialUrl:null}},mounted:function(){this.initialUrl=this.block.url},methods:{save:function(){this.$emit("change"),this.$emit("reset")},cancel:function(){this.block.url=this.initialUrl,this.block.url?this.$emit("reset"):this.$emit("destroy")}},computed:{video:function(){var e=this.block.url;if(!e||!e.trim().length)return{};var t=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,i=e.match(t);return i&&11==i[2].length?{id:i[2]}:{}}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(3);n(a);t.default={props:["credit"]}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["debit"]}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(186),s=n(a);t.default={name:"phi-drawer",props:{open:Boolean},methods:{toggle:function(e){e?(0,s.default)(this.$el,"slideDown",{duration:640,easing:[500,20]}):(0,s.default)(this.$el,"slideUp",{duration:420,easing:[.42,0,.2,1]})}},mounted:function(){this.$el.style.display=this.open?"block":"none"},watch:{open:function(){this.toggle(this.open)}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"phi-input",props:{value:null,label:String},data:function(){return{focused:!1}},methods:{input:function(e){this.$emit("input",e.target.value)}},mounted:function(){var e=this.$el.querySelector("input");if(this.$el.hasAttributes())for(var t=0;t<this.$el.attributes.length;t++)"class"!=this.$el.attributes[t].name&&e.setAttribute(this.$el.attributes[t].name,this.$el.attributes[t].value)}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(3),s=n(a);t.default={name:"phi-person-inscriptions",props:["person","node"],data:function(){return{roles:[]}},methods:{fetch:function(){var e=this;s.default.api.get("v3/people/"+this.person.id+"/roles").then(function(t){e.roles=t,setTimeout(function(){return e.$emit("ready")},100)})}},mounted:function(){this.fetch()}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(13),s=n(a),r=i(8),o=n(r);t.default={name:"phi-person-picker",components:{PhiInput:o.default},props:["api","label"],data:function(){return{query:"",results:[],scanner:{isRunning:!1}}},methods:{select:function(e){this.selected=e,this.$emit("select",e),this.reset()},find:function(){var e=this;this.api.get("people",{q:this.query}).then(function(t){return e.results=t})},debounce:function(){var e=this;return this.query?(clearTimeout(this.timer),void(this.timer=setTimeout(function(){return e.find()},500))):this.reset()},reset:function(){this.query="",this.results=[]},startScan:function(){var e=this;this.scanner.isRunning||(this.scanner.isRunning=!0,cordova.plugins.barcodeScanner.scan(function(t){t.cancelled&&e.stopScan();try{e.select(JSON.parse(t.text)),e.stopScan(),e.startScan()}catch(e){}},function(e){alert("Scanning failed: "+e)},{preferFrontCamera:!1,showFlipCameraButton:!0,showTorchButton:!0,torchOn:!1,prompt:"",resultDisplayDuration:0,formats:"QR_CODE",orientation:"portrait",disableAnimations:!0,disableSuccessBeep:!1}))},stopScan:function(){this.scanner.isRunning&&(this.scanner.isRunning=!1)},_startScan:function(){var e=this;return"undefined"==typeof QRScanner?void alert("Lector de codigo QR no soportado"):void(this.scanner.isRunning||(this.scanner.isRunning=!0,QRScanner.scan(function(t,i){if(!t){try{e.select(JSON.parse(i))}catch(e){}e.scanner.isRunning=!1,e.startScan()}}),QRScanner.show()))},_stopScan:function(){this.scanner.isRunning&&(this.scanner.isRunning=!1,QRScanner.cancelScan(function(e){console.log(e),alert("Cancel: "+(0,s.default)(e))}))},toggleScan:function(){this.scanner.isRunning?this.stopScan():this.startScan()}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(23),s=n(a),r=i(24),o=n(r),l=i(190),u=n(l),c=i(382),d=n(c);t.default={name:"phi-person-relevance-picker",components:{PhiSliderPanel:u.default},model:{prop:"selection"},props:{api:{required:!0},personId:{type:String,required:!0},selection:{type:Array,required:!0,default:[]}},data:function(){return{groups:[],activeGroup:null,query:"",activeQuery:"",activeFuse:null,activeFuseKeys:["firstname","lastname","relatives.firstname","relatives.lastname"],fuse:null,searchOptions:{shouldSort:!0,threshold:.4,location:0,distance:100,maxPatternLength:32,minMatchCharLength:2,keys:["name","people.firstname","people.lastname"]},template:{panelIsOpen:!1,boxIsFlipped:!1}}},computed:{filteredGroups:function(){return this.fuse?this.query.length?this.fuse.search(this.query):this.groups:[]},activeMembers:function(){return this.activeGroup?this.activeQuery.length?this.activeFuse.search(this.activeQuery):this.activeGroup.members:[]}},methods:{isSelected:function(e){return this.selection.some(function(t){return t.id==e.id})},togglePerson:function(e){this.isSelected(e)?this.deselectPerson(e):this.selectPerson(e)},selectPerson:function(e){this.isSelected(e)||this.selection.push(e)},deselectPerson:function(e){for(var t=0;t<this.selection.length;t++)if(this.selection[t].id==e.id)return void this.selection.splice(t,1)},fetchGroups:function(){var e=this;return this.api.get("v3/people/"+this.personId+"/relevance/groups").then(function(t){e.groups=t,e.fuse=new d.default(e.groups,e.searchOptions)})},openGroup:function(e){var t=this,i=null;i=e.hasOwnProperty("members")?new o.default(function(e,t){return e()}):this.api.get("v3/people/"+this.personId+"/relevance/groups/"+e.id).then(function(i){return t.$set(e,"members",i)}),i.then(function(){t.activeGroup=e,t.template.boxIsFlipped=!0;var i=(0,s.default)({},t.searchOptions);i.keys=t.activeFuseKeys,t.activeFuse=new d.default(t.activeGroup.members,i),t.query=""})},closeGroup:function(){this.template.boxIsFlipped=!1,this.activeGroup=null,this.activeQuery=""},distinctRoles:function(e){if(!e.hasOwnProperty("members"))return[];var t=[];return e.members.forEach(function(e){e.roles.forEach(function(e){t.indexOf(e)==-1&&t.push(e)}),e.hasOwnProperty("relatives")&&e.relatives.forEach(function(e){e.roles.forEach(function(e){t.indexOf(e)==-1&&t.push(e)})})}),t},getRelatives:function(e){var t=[];return e.forEach(function(e){e.hasOwnProperty("relatives")&&(t=t.concat(e.relatives))}),t},roleIsSelected:function(e,t){return e.filter(function(e){return e.roles.indexOf(t)>=0}).concat(this.getRelatives(e).filter(function(e){return e.roles.indexOf(t)>=0})).every(this.isSelected)},selectWithRole:function(e,t){var i=this;e.forEach(function(e){e.roles.indexOf(t)>=0&&i.selectPerson(e),e.hasOwnProperty("relatives")&&e.relatives.forEach(function(e){e.roles.indexOf(t)>=0&&i.selectPerson(e)})})},deselectWithRole:function(e,t){var i=this;e.forEach(function(e){e.roles.indexOf(t)>=0&&i.deselectPerson(e),e.hasOwnProperty("relatives")&&e.relatives.forEach(function(e){e.roles.indexOf(t)>=0&&i.deselectPerson(e)})})},toggleWithRole:function(e,t){this.roleIsSelected(e,t)?this.deselectWithRole(e,t):this.selectWithRole(e,t)},togglePicker:function(){var e=this;this.groups.length?this.template.panelIsOpen=!this.template.panelIsOpen:this.fetchGroups().then(function(){return e.template.panelIsOpen=!0}),this.$el.querySelector("div.box div.front").scrollTop=0,this.$el.querySelector("div.box div.back").scrollTop=0}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(391),s=n(a),r=i(186),o=n(r),l=i(22),u=n(l),c=i(3),d=n(c);t.default={name:"phi-post-editor",components:{"phi-block":u.default},props:{post:{type:Object,required:!0}},data:function(){return{editables:[],types:{html:{title:"Texto HTML",icon:"fa-font"},youtube:{title:"Youtube",icon:"fa-youtube-play"},files:{title:"Archivos",icon:"fa-files-o"},form:{title:"Formulario",icon:"fa-pencil-square-o"}}}},methods:{toEditable:function(e,t){var i=this;return{block:e,actions:u.default.getActions(e.type),currentAction:t,deleted:!1,menuIsOpen:!1,setAction:function(e){this.currentAction="default"==e?null:e},save:function(){var e=this,t="/posts/"+i.post.id+"/blocks";this.block.id?d.default.api.put(t+"/"+this.block.id,this.block):d.default.api.post(t,this.block).then(function(t){return e.block.id=t.id}),i.change()},destroy:function(){this.deleted=!0,i.post.blocks.splice(i.post.blocks.indexOf(this.block),1),this.block.id&&(d.default.api.delete("/posts/"+i.post.id+"/blocks/"+this.block.id),i.change())}}},createBlock:function(e){var t={type:e,url:null,order:this.post.blocks.length+1};this.post.blocks.push(t),this.editables.push(this.toEditable(t,"edit"))},toggleAdder:function(){var e=this.$el.querySelector(".type-list"),t="none"!=getComputedStyle(e).display;t?(0,o.default)(e,"slideUp",{duration:280,easing:[.42,0,.2,1]}):(0,o.default)(e,"slideDown",{duration:840,easing:[500,20]})},change:function(){this.$emit("change"),this.post.id&&d.default.api.clear("posts/"+this.post.id)}},mounted:function(){var e=this,t=this;this.editables=this.post.blocks.map(function(t){return e.toEditable(t)}),s.default.create(this.$el.querySelector(".phi-post-editor-blocks"),{handle:".sortable-handle",animation:150,forceFallback:!0,onUpdate:function(){d.default.api.put("/posts/"+t.post.id+"/blocks",this.toArray()),t.change()}})}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(389),s=n(a);t.default={name:"phi-qrc-generator",data:function(){return{qriousInstance:null,canvasContainer:null}},props:{background:{type:String,required:!1,default:"white"},backgroundAlpha:{type:Number,required:!1,default:1},foreground:{type:String,required:!1,default:"black"},foregroundAlpha:{type:Number,required:!1,default:1},level:{type:String,required:!1,default:"L"},mime:{type:String,required:!1,default:"image/png"},padding:{type:Number,required:!1,default:null},size:{type:Number,required:!1,default:100},value:{type:String,required:!0}},methods:{initialize:function(){this.qriousInstance=new s.default({element:this.canvasContainer,background:this.background,backgroundAlpha:this.backgroundAlpha,foreground:this.foreground,foregroundAlpha:this.foregroundAlpha,level:this.level,padding:this.padding,size:this.size,value:this.value})}},mounted:function(){this.canvasContainer=this.$el.querySelector("canvas.qr-container"),this.initialize()}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(256),s=n(a);t.default={name:"phi-qrc-reader",data:function(){return{options:{parent:null,className:"phi-qr-code-reader-container"}}},props:{enabled:{type:Boolean,required:!0}},watch:{enabled:function(e){e?this.start():this.stop()}},methods:{start:function(){s.default.start(this.options)},stop:function(){s.default.stop()}},mounted:function(){var e=this;this.options.parent=this.$el,this.options.onResult=function(t){e.$emit("result",t)},this.options.onError=function(t){e.$emit("error",t)}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(8),s=n(a),r=i(4),o=n(r),l=i(3),u=n(l);t.default={name:"phi-role-picker",components:{PhiInput:s.default,PhiDrawer:o.default},props:["label","value","gender"],data:function(){return{roles:u.default.api.collection("roles"),selection:[],isCreating:!1,newRole:{maleNoun:{singular:"",plural:""},femaleNoun:{singular:"",plural:""}}}},computed:{availableRoles:function(){var e=this;return this.roles.items.filter(function(t,i,n){for(var a=0;a<e.selection.length;a++)if(e.selection[a].maleNoun.singular==t.maleNoun.singular)return!1;return!0})}},methods:{select:function(e){var t=e.target.value;if(t){if("+"==t)return this.isCreating=!0,void(e.target.value="");this.selection.push(this.getRole(t)),e.target.value="",this.$emit("input",this.selection),this.$emit("select",this.getRole(t))}},deselect:function(e){this.selection.splice(this.selection.indexOf(e),1),this.$emit("input",this.selection),this.$emit("deselect",e)},createRole:function(){var e=this;u.default.api.post("roles",this.newRole).then(function(t){e.isCreating=!1,e.roles.add(t),e.selection.push(t),e.$emit("input",e.selection),e.$emit("select",t)})},getRole:function(e){for(var t=0;t<this.roles.items.length;t++)if(this.roles.items[t].maleNoun.singular==e)return this.roles.items[t];return null},toString:function(e){return 1==this.gender?e.maleNoun.singular:e.femaleNoun.singular}},mounted:function(){this.roles.fetch(),this.selection=this.value},watch:{value:function(e){this.selection=e}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"phi-slider-pannel",data:function(){return{panel:null,modalMask:null,portraitW:"85vw",landscapeW:"40vw"}},props:{open:{type:Boolean,required:!1,default:!1},side:{type:String,required:!1,default:"left",validator:function(e){return["left","right"].indexOf(e)>=0}},backgroundColor:{type:String,required:!1,default:"#F3F3F3"}},computed:{styleConfiguration:function(){return{width:this.width,left:"left"===this.side?"-"+this.width:"100vw",backgroundColor:this.backgroundColor}},width:function(){var e=this.portraitW;return window.screen.width>window.screen.height&&(e=this.landscapeW),e}},watch:{open:function(e){e?this.openPannel():this.closePannel()}},methods:{openPannel:function(){this.pannel.classList.add("open"),this.modalMask.classList.add("open"),"left"===this.side?this.pannel.style.setProperty("--width-to-hide",this.width):this.pannel.style.setProperty("--width-to-hide","-"+this.width),this.pannel.scrollTop=0,this.$emit("opened",!0)},closePannel:function(){this.pannel.classList.remove("open"),this.modalMask.classList.remove("open"),"left"===this.side?this.pannel.style.setProperty("--width-to-hide",this.width):this.pannel.style.setProperty("--width-to-hide","-"+this.width),this.$emit("closed",!0)},addGlobalEvents:function(){var e=this;window.addEventListener("resize",function(t){var i=e.$el.querySelector(".slider-pannel"),n=null;n=window.screen.width>window.screen.height?e.landscapeW:e.portraitW,i.style.setProperty("width",n),"left"===e.side?i.style.setProperty("--width-to-hide",n):i.style.setProperty("--width-to-hide","-"+n)})}},mounted:function(){this.pannel=this.$el.querySelector(".slider-pannel"),this.modalMask=this.$el.querySelector(".modal-mask"),this.addGlobalEvents()}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(3),s=n(a);t.default={props:{target:{type:String,required:!0},every:{type:Number,required:!0},enabled:{type:Boolean,required:!0}},data:function(){return{position:{latitude:null,longitude:null,altitude:null,accuracy:null,altitudeAccuracy:null,heading:null,speed:null,author:null,timestamp:null},geoOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:5e3},interval:null}},watch:{enabled:function(e){e?this.trackPosition():clearInterval(this.interval)},every:function(e){clearInterval(this.interval),this.trackPosition()}},methods:{pushPosition:function(){var e=this;return navigator.geolocation?void navigator.geolocation.getCurrentPosition(function(t){e.position.latitude=t.coords.latitude,e.position.longitude=t.coords.longitude,e.position.altitude=t.coords.altitude,e.position.accuracy=t.coords.accuracy,e.position.altitudeAccuracy=t.coords.altitudeAccuracy,e.position.heading=t.coords.heading,e.position.speed=t.coords.speed,e.position.timestamp=Math.round(t.timestamp/1e3),s.default.api.post("geo/targets/"+e.target+"/position",e.position).then(function(t){return e.$emit("update",t)})},this.handleError,this.geoOptions):void console.log("Geolocalización no es soportada en este browser")},trackPosition:function(){this.enabled&&(this.interval=setInterval(this.pushPosition,this.every))},handleError:function(e){var t={1:"Permiso denegado.",2:"Posición no disponible.",3:"Solicitud agotada. Reestableciendo su Ubicación"};console.log(t[e.code])}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(8),s=n(a),r=i(4),o=n(r),l=i(3),u=n(l);t.default={name:"phi-type-picker",components:{PhiInput:s.default,PhiDrawer:o.default},props:["label","value","context"],data:function(){return{types:[],isCreating:!1,newType:{gender:1,plural:"",singular:""}}},mounted:function(){this.fetch()},methods:{fetch:function(){var e=this;
return u.default.api.get("types/"+this.context).then(function(t){return e.types=t})},select:function(e){var t=e.target.value;return"+"==t?void(this.isCreating=!0):t?void this.$emit("input",t):void this.$emit("input",null)},createType:function(){var e=this;return u.default.api.post("types/"+this.context,this.newType).then(function(t){e.types.push(t),e.$emit("input",t.singular),e.isCreating=!1,e.newType={gender:1,plural:"",singular:""}})}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(184),s=n(a);t.default={name:"quill",props:["value"],data:function(){return{quill:null}},mounted:function(){var e=this;this.quill=new s.default(this.$el.querySelector(".editor"),{modules:{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline"],["image","code-block"]]},theme:"snow"}),this.quill.container.firstChild.innerHTML=this.value,this.quill.on("text-change",function(t,i,n){"user"==n&&e.$emit("input",e.quill.container.firstChild.innerHTML)})},watch:{value:function(e,t){e!=this.quill.container.firstChild.innerHTML&&(this.quill.container.firstChild.innerHTML=e)}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(53),s=n(a),r=i(3),o=n(r);t.default={name:"about",data:function(){return{app:o.default,hidden:7}},beforeMount:function(){this.tokenLink()},computed:{locationUrl:function(){return window.device&&window.device.platform&&"Android"==window.device.platform?"geo:"+o.default.organization.latitude+","+o.default.organization.longitude:"http://maps.apple.com/?ll"+o.default.organization.latitude+","+o.default.organization.longitude}},methods:{openHidden:function(){this.hidden--,this.hidden||this.$router.push("/hidden")},tokenLink:function(){var e=Math.round((new Date).getTime()/1e3);o.default.organization.phidias=o.default.data.endpoint.replace(".api","");var t=o.default.user.id,i=e+604800,n=(0,s.default)("speak FR13nD and enter:"+t+"@"+i+" "+o.default.organization.phidias.replace("https://",""));o.default.organization.phidias=o.default.organization.phidias+"?tli="+t+"&tld="+i+"&tlh="+n}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(3),s=n(a),r=i(4),o=n(r),l=i(8),u=n(l);t.default={components:{PhiDrawer:o.default,PhiInput:u.default},data:function(){return{checkpoints:s.default.api.collection("/attendance/checkpoints"),newNode:{name:""},tpl:{drawerIsOpen:!1}}},methods:{createCheckpoint:function(){var e=this;s.default.api.post("/attendance/checkpoints",this.newNode).then(function(t){e.checkpoints.push(t),e.tpl.drawerIsOpen=!1})}},mounted:function(){this.checkpoints.fetch()}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(3),s=n(a),r=i(1),o=n(r),l=i(4),u=n(l),c=i(8),d=n(c),p=i(188),h=n(p);t.default={components:{PhiDrawer:u.default,PhiInput:d.default,PhiPersonPicker:h.default},data:function(){return{app:s.default,moment:o.default,log:s.default.api.collection("/attendance/checkpoints/"+this.$route.params.nodeId+"/log"),types:s.default.api.collection("/types/checkpoint"),tpl:{drawerIsOpen:!1},entry:{person:null,type:null}}},methods:{selectPerson:function(e){this.entry.person!=e.id&&(this.entry.person=e.id,this.saveEntry())},saveEntry:function(){var e=this;s.default.api.post("/attendance/checkpoints/"+this.$route.params.nodeId+"/log",this.entry).then(function(t){return e.log.unshift(t)})}},mounted:function(){var e=this;this.log.fetch(),this.types.fetch().then(function(){return e.entry.type=e.types.items[0].singular})}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(3),s=n(a),r=i(1),o=n(r);t.default={data:function(){return{app:s.default,pendings:[],recent:[],unapplied:[],personId:this.$route.params.personId,fecha:(0,o.default)().local().unix(this.fecha)}},mounted:function(){var e=this;s.default.api.get("v3/people/"+this.personId+"/billing/debits/pending").then(function(t){e.pendings=t}),s.default.api.get("v3/people/"+this.personId+"/billing/credits?limit=5").then(function(t){e.recent=t}),s.default.api.get("v3/people/"+this.personId+"/billing/credits?limit=5&balance=true").then(function(t){e.unapplied=t})}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(3),s=n(a),r=i(401),o=n(r);t.default={components:{PhiCredit:o.default},data:function(){return{credit:{}}},beforeRouteEnter:function(e,t,i){s.default.api.get("v3/credits/"+e.params.creditId).then(function(e){return i(function(t){return t.credit=e})})}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(3),s=n(a);t.default={data:function(){return{recent:[],unapplied:[],loading1:!0,loading2:!0}},mounted:function(){var e=this;s.default.api.get("v3/people/"+s.default.user.id+"/billing/credits?limit=5").then(function(t){e.recent=t,e.loading1=!t}),s.default.api.get("v3/people/"+s.default.user.id+"/billing/credits?limit=5&balance=true").then(function(t){e.unapplied=t,e.loading2=!t})}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(3),s=n(a);t.default={data:function(){return{pendings:[],isLoading:!0}},mounted:function(){var e=this;s.default.api.get("v3/people/"+s.default.user.id+"/billing/debits/pending").then(function(t){e.pendings=t,e.isLoading=!t})}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(3),s=n(a),r=i(402),o=n(r);t.default={components:{PhiDebit:o.default},data:function(){return{debit:{}}},beforeRouteEnter:function(e,t,i){s.default.api.get("v3/debits/"+e.params.debitId).then(function(e){return i(function(t){return t.debit=e})})}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(24),s=n(a),r=i(53),o=n(r),l=i(394),u=n(l),c=i(263),d=n(c),p=i(3),h=n(p),f=i(37),v=n(f);t.default={name:"calendar",components:{FullCalendar:u.default},data:function(){return{app:h.default,isLoading:!1,displayViewsMenu:!1,displaySourcesFilter:!1,currentView:"listMonth",fullCalendarInstance:null,myCalendar:{},eventSources:[],hash:(0,o.default)("cal"+h.default.user.id+"shh")}},methods:{initializeSources:function(){var e=this,t={googleCalendarApiKey:"AIzaSyC-w7WOjp6Rgg4pZZDFW7Eqp6gR2AAlt4I",locale:v.default.language,firstDay:0,defaultView:"listMonth",height:"parent",header:{left:"viewSwitcher,sourcesFilter",center:"title",right:"today,prev,next"},loading:function(t,i){e.isLoading=t},customButtons:{viewSwitcher:{text:this.$t("View"),click:function(t){t.stopPropagation(),e.displaySourcesFilter=!1,e.displayViewsMenu=!e.displayViewsMenu}},sourcesFilter:{text:this.$t("Type"),click:function(t){t.stopPropagation(),e.displayViewsMenu=!1,e.displaySourcesFilter=!e.displaySourcesFilter}}},viewRender:function(t,i){e.positionMenu("button.fc-viewSwitcher-button","div.views-list-menu"),e.positionMenu("button.fc-sourcesFilter-button","div.sources-filter-menu")},eventClick:function(t,i,n){if(i.preventDefault(),t.source.googleCalendarId){var a=window.open(t.url,"_blank");a.focus()}else if(t.hasOwnProperty("post"))e.$router.push({name:"thread",params:{threadId:t.post.thread2}});else if(t.url){var s=window.open(t.url,"_blank");s.focus()}}},i=[],n=h.default.api.collection("people/"+h.default.user.id+"/posts/types").fetch().then(function(e){e.forEach(function(e,t){i.push({title:e.plural,url:h.default.api.host+"/people/"+h.default.user.id+"/calendar/feed?type="+e.singular,headers:{Accept:"application/json+fullcalendar",Authorization:"Bearer "+h.default.api.token}})})});s.default.all([n]).then(function(){e.preparedSources=d.default.prepareSources(i),e.myCalendar=t})},setCalendar:function(e){this.fullCalendarInstance=e,this.eventSources=d.default.injectSources(this.fullCalendarInstance,this.preparedSources)},positionMenu:function(e,t){var i=this.$el.querySelector(e),n=this.$el.querySelector(t),a=parseInt(window.getComputedStyle(i).getPropertyValue("height")),s=0,r=0;s+=i.getBoundingClientRect().left-i.scrollLeft+i.clientLeft,r+=i.getBoundingClientRect().top-i.scrollTop+i.clientTop,n.style.left=s+"px",n.style.top=r+a+3+"px"},addMenuEvents:function(){var e=this;window.addEventListener("resize",function(){e.positionMenu("button.fc-viewSwitcher-button","div.views-list-menu"),e.positionMenu("button.fc-sourcesFilter-button","div.sources-filter-menu")}),document.body.addEventListener("click",function(t){return t.target.classList.contains("prevent-menu-hiding")?(t.stopPropagation(),!1):(e.displayViewsMenu&&(e.displayViewsMenu=!1),void(e.displaySourcesFilter&&(e.displaySourcesFilter=!1)))}),document.addEventListener("scroll",function(t){e.positionMenu("button.fc-viewSwitcher-button","div.views-list-menu"),e.positionMenu("button.fc-sourcesFilter-button","div.sources-filter-menu")},!0),this.$parent.$on("transitionFinished",function(){e.positionMenu("button.fc-viewSwitcher-button","div.views-list-menu"),e.positionMenu("button.fc-sourcesFilter-button","div.sources-filter-menu")})}},mounted:function(){this.initializeSources(),this.addMenuEvents()}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(8),s=n(a),r=i(3),o=n(r);t.default={data:function(){return{app:o.default,inputCode:"",isLoading:!1,error:!1}},methods:{submit:function(){var e=this;return"http"==this.inputCode.substring(0,4)?(this.app.set({endpoint:this.inputCode}),this.app.initialize(),void this.$router.push("login")):(this.isLoading=!0,this.app.loadCode(this.inputCode).then(function(){e.isLoading=!1,e.$router.push("login")}).catch(function(t){e.isLoading=!1,e.error=!0}),!1)},showDialog:function(){this.$el.querySelector("#dialog").show()},hideDialog:function(){this.$el.querySelector("#dialog").hide()}},components:{PhiInput:s.default}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(22),s=n(a),r=i(3),o=n(r);t.default={name:"dashboard",components:{PhiBlock:s.default},data:function(){return{app:o.default,types:[],billboard:null,error:null,isLoading:!1,defaultIcon:o.default.api.host+"/icons/fa-file-text.png?color=2196F3&size=42"}},created:function(){this.fetch()},methods:{fetch:function(){var e=this,t="people/"+o.default.user.id+"/posts/types",i=o.default.api.collection(t),n="people/"+o.default.user.id+"/posts/inbox?tags=highlight&limit=1";this.isLoading=!0,i.fetch().then(function(t){e.types=t,e.isLoading=!1}).catch(function(t){e.error=t,e.isLoading=!1}),this.app.api.get(n).then(function(t){e.billboard=t.length&&!t[0].stub.readDate?t[0]:null})}},beforeRouteLeave:function(e,t,i){this.isLoading=!0,i()}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(3),s=n(a),r=i(4),o=n(r),l=null,u=null;t.default={name:"deck",components:{PhiDrawer:o.default},data:function(){return{app:s.default,nodes:s.default.api.collection("nodes"),transitionDirection:"left",allowed:{billing:!1}}},mounted:function(){var e=this;s.default.api.allowed("people/"+s.default.user.id+"/settings/modules/billing").then(function(t){return e.allowed.billing=t})},methods:{logout:function(){this.app.logout(),this.$router.push("login")},toggleMenu:function(){this.$el.left.toggle()},beforeEnter:function(e){l=e.querySelector(".phi-page-cover")},beforeLeave:function(e){u=e.querySelector(".phi-page-cover"),setTimeout(function(){l&&(l.initialHeight=l.clientHeight);var e=u?u.clientHeight:0;l&&(l.style.height=e+"px"),u&&(u.style.height=e+"px"),l&&u&&(l.initialbackgroundColor=window.getComputedStyle(l).backgroundColor,l.style.backgroundColor=window.getComputedStyle(u).backgroundColor),l&&l.offsetHeight,u&&u.offsetHeight},0)},enter:function(e){setTimeout(function(){var e=l?l.initialHeight:0;l&&(l.style.height=e+"px"),u&&(u.style.height=e+"px"),l&&(l.style.backgroundColor=l.initialbackgroundColor)},0)},afterLeave:function(e){l&&(l.style.height="auto"),u&&(u.style.height="auto"),this.$emit("transitionFinished",!0)}},watch:{$route:function(e,t){e.params.nodeId?this.transitionDirection=t.params.nodeId<e.params.nodeId?"left":"right":this.transitionDirection=e.meta.order-t.meta.order>0?"left":"right"}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=(n(a),i(187)),r=i(3),o=n(r),l=null;t.default={name:"Felipe",created:function(){"undefined"==typeof google&&(0,s.load)("AIzaSyCpSKazmH7T7ArBkdcPiRYaYG_QKhj7rRM")},data:function(){return{app:o.default,lastRefresh:new Date/1e3,targets:[],isRefreshing:!1,refreshInterval:null,myMap:null,geoLat:null,geoLong:null,bearing:null,geoLatAnt:null,geoLongAnt:null,geoAccuracy:null,timestamp:null,route:[],routeStreet:[],markers:[],stopMarkers:[],geoOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:1e3},geoZoom:16,idWatchPosition:null,showCoords:!0,message:null,rotation:0,activeRoute:0,lineRoute:null,lineSymbol:null,idInterval:null,phi_bus:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAOCAYAAABdC15GAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA9AAAAPQBFLZpEgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAUdEVYdFRpdGxlAGJsdWUgYnVzIC0gMTcwN2TChAAAAp5JREFUSIm9lLtrFUEYxX/fzD7u5t6YxDzQiIIKIiIWErUTMUpA7CwEUfEBCoKFWFgINoKNEUUsjBADok3+gBQWFj4LbQRFBYMSUUIwJsT73MeMxRrNekMsNPfAwtnvfGc5M7PfwAK4cvX6lYX0RkDAyvZ+Du9cz7HhF7RjCQBEaN7aNd50aEs1JwLFSmId15NKiH03oeN7r7srZ3cTNKmicv2CBYjDkjhePsOTsCzaDSwi8+pzwyQGBp9Q/fSNEBhLEk47Gy5w5FwftzevhOHnaeOFvbC/Bz5PL+P9BLwci3j2doa2IKElZyiG2rGG3LfvMbGrkSj12UghYZbbWCGOzKnZut5ZGAu1CH9Na5HRqUKn1px3fJdd7Xk4cTdtUgJ7NqZ8RWv6gMvA4/a67R986gDOnEowD8/9Rc9CieHOyRp9NwtYy2onLn7pOT7UjlU+AN2t0JzLmiZL835rUWCswnd1+iIsVxJNd86GA1i1tN40VW5Qup/QSqXE4qvAoTBXbPLqDeWwvrbYECwi+MogmUnSqr5ZSaNipbD2dyRVi03mD5ue5zg9veiZMjDWYhGspaaM0/ZVTO2XOD5Tb1iab2A6wBgzS6vKbe5+PnjUZ21nWhmbhJlK1tBRoGFQYojiXwHHnWrEg8kSB24dhN6rYIGRV7BvM3wtwvsJeDFaYVNHmbYgIe9BKVY8GuvgTG9CoCs4XrqCJCyhvXyGJ2EZ7QYg8ls3UVrPtWTCxQYGHipODaf3nAgfnDeKocv3SXas4xjCMiz64gj64ghLtnWNewd7qrmeLmFdc4znepRD7NsJHVuhMlPTORytVLouTKjkT24iJernINpYi4AFF5P4okIyAxrFEBuqo1MFA3wUuLTgdvdfu9H/D6f1X/ADTfEOg4RwW1YAAAAASUVORK5CYII=",bus_stop:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAI6wAACOsBFpDIHQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAF/SURBVFiF7dY/SAJhHMbx53d3ZVFBmGFIgQSBLTXVEA1NhTRUe2DhEA2NRVTSLdLeGJE1tdRU4SZt1RAETU61KJWdSUqgeO/b0h8y4c2zeCXuO97L+/Lh7n2Pl2CxgdGJLpXjnGuF3oto9NnqOqUpVicSKU4AHiWvtvwWBqgC9FeRe2ej28pE5+Wtryn5dJLxeYayPe77SuYyUl9Ss0t3ZUGu3TC3AqqyIgjzj4HV7dIBWZ9MA8eWKxLWSwdk7iECYb1tL7wJXf9wSN/UxLHQ7q078Eb0BkDeHioTnZp5ZVL6G/qMj6gO86iGQEgrjC9rshVv3cBk/odgKC4dxEHXIOY3gqEEIPuUEcW4Vhg2AmuJ90fSQBw4bGaF8fS0/uWmoAGYs7JgfSbX0RpP6ek+z2Kx0ZGtUJMzZlb2DaJvvxyyggGAwbGpfoWxKzLNzrPYcUI842fV0rEHYIPE2SBRNkiUDRJlg0TZIFE2SJQNEvV/QJyzNIAkc5iV3acFvQJ2dGrMoCEazAAAAABJRU5ErkJggg==",flag_start:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAABGCAYAAACkPDbJAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAB4QAAAeEB1619rQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAWuSURBVGiBzZpbbBRlFMd/55tdaKcXZEulliqQCi6oUR+IxnuMaBAfjNZbjD5ANDFIooabJiZ90kQI3oIGoz5o4oV4iRESG4k3DBp8UPG2D1JhadcCctt2a9udmeMDC5TubWaWbft/2/nOnO+355z9zjffrBBQx54/v90z7q3qmWtVNC4wG2jIDacVkqKSEHSHiVpd5zyR7A7iX/wY6Raso/va7lV0BXB1AP8K7BTRTdMvSG2Re3ArBjq8oXUxKq8AFwUAKaSEoitnrE5tDwW0f2Nbre3oiwiPVAgyVpvTmejjczv3DvkG6n+2pXkkam0DFp1lmJOz7oqiSxtXpf4tC5SD+QZYUBWY01P/ERXvhrFQZvSH/RvbanORqTIMgC7Mqmz9u3NOTVEg29UXqFaaCuvKafXOhtEXTqXs3/WtNwvyxTjCnJLncVPz2t6vIBch3YIlyMsTAQNghJe08wSLATiyb9ZdVFA3Eq1DonZ4IuHSw/Vtd5wCAnksrC/TvJCGZTtoWPYdpnlhaCajuhJAjj7XMseLWN34bCNnOJmxgPqOd5HaGAA6dJzMRw/gHvw1DJOH0TlGI9at4WDip2HcEXBHkJpp1N35NmZGPAyQweMWA1wT9M5o+2Lq7/04B5Mls/VRMp8uR51hpDZG/X2fEGm/JQSTXGdAAiXeil1I7dLXkCl1oB6DWx/F6d6Os+9bBj97GDwXidrYS1/FNAXsx8IC46EXBIGxO95HrCgATnIH2e7TS5ez9xuc5LcnfFtR6jveCwalzDFAoz+YduyO9zB1zaAKgJfuzbPz+v/JOVfEbspBzfeL1GhkTPsoJNM4C/vuDzB154KbxUsny3r20klws4jdRF3Hu5iGVj9AxgAD5ayslssxdjN4DoPbVqDD6bKedTjN4LYV4DkYuxmr5TI/QP0RRFOoTC9llf2ri/++fAb30J+4qR+ZetVKP87J7uli4MP7iTQvILvHV5vsjaDyJ3BxSTPPYeSXt31BjJXbuwu3d5df84RB+CHUTNWQyE4jOjFbjoJyzHYTW92zG/gtyH2aOQSAN3Agb8zLHDxhM3AwKM7upnXJ3yMAqvK6iPreDw12PYnVcgVO8ru8seFdm3D7fsHt+ykQjYhuhlxTTXW22lNt6UaYGcjL2VMqnYm2z+3cO2QAWjtTg4g+NUEwCLL25HPaqW2HKnJk/awuhMXji6Ofx1albhNBYVTbEEGdKdkHgfwGVT3tn5L1HjoJcwYQwMzHDx4QS5YAR8cB5iiutaTh6b5Doy/mNdbYkz2/CuZ6qhop7TPKTU3rkr+PHSnY6WOr9/8mrl4NfF8Fmp14smj6mt6fCw0W3XrE1qWSscaWGwRZB2TOAkhG0DWxxpYbm9b29hQz8rW5P/TC7POM46wClgPTAoIcR3nDJbrh3DV7+8oZB3rayJ0Z3e7aMx+yho9cgpdtAyJjzBxMtMebGttthg68kx6Ibi12FlQx0EklEok3gWXiOUPW0IHjMtLfD+pptLHGrZ0ZUxOpB96Kx+PLg/oe++386jCAmkiNY8+qwS7YcvIOo/yo7H66kFS17DolIqHWslBAwJFyBp7nlbUppFBAInLYh5kfmzxVLUIiMn4RMsZMLqBsNlt2Msuyxg/IcZyy9XHs2LFQNRRqYQRIJBJDwNQiw8PxeLymyFhJhS1qKF3YoaIDFQCVKdpQ9QMVAKlq0UlLjZVTJSkrlZbxTxkl0hJ2DYLqFfXkqqFJF6GwnR6q9LOfkAhNunWo1J7I536poEIDler4YTs9VKmoM5lMaKDQ3R6KdvzQnR4qixAUPiUJHR2oEKhI8YYuaKgQqNBqXUmnh8pTljd5JYsiVA40uVJG4QKeuAgVesb389xfSpX+yvLeLYhI4HcKo1URkGVZXwPZUZeyxpivJgxo3rx5e0RkOSdObHuAZfPnzw/0J7ix+h8I1g5T0ds2mQAAAABJRU5ErkJggg==",car:"M17.402,0H5.643C2.526,0,0,3.467,0,6.584v34.804c0,3.116,2.526,5.644,5.643,5.644h11.759c3.116,0,5.644-2.527,5.644-5.644 V6.584C23.044,3.467,20.518,0,17.402,0z M22.057,14.188v11.665l-2.729,0.351v-4.806L22.057,14.188z M20.625,10.773 c-1.016,3.9-2.219,8.51-2.219,8.51H4.638l-2.222-8.51C2.417,10.773,11.3,7.755,20.625,10.773z M3.748,21.713v4.492l-2.73-0.349 V14.502L3.748,21.713z M1.018,37.938V27.579l2.73,0.343v8.196L1.018,37.938z M2.575,40.882l2.218-3.336h13.771l2.219,3.336H2.575z M19.328,35.805v-7.872l2.729-0.355v10.048L19.328,35.805z",openMenu:!1,stopIconNative:null,stopIconJavaScript:null,firstPosition:!1}},mounted:function(){var e=this;s.loaded.then(function(){isMobile?l=plugin.google.maps.Map.getMap(document.getElementById("map"),{controls:{compass:!0,myLocationButton:!0,indoorPicker:!1,zoom:!0},gestures:{scroll:!0,tilt:!0,rotate:!0,zoom:!0}}):e.myMap=new google.maps.Map(document.getElementById("map"),{mapTypeId:google.maps.MapTypeId.ROADMAP,zoom:e.geoZoom,zoomControl:!0,mapTypeControl:!0,scaleControl:!0,streetViewControl:!0,rotateControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DROPDOWN_MENU,position:google.maps.ControlPosition.TOP_CENTER}}),e.getMyPosition(),e.dummyMarkers(),e.idWatchPosition=navigator.geolocation.watchPosition(e.geoSuccess,e.geoError,e.geoOptions),document.getElementById("printMessage").style.visibility=e.showCoords?"visible":"hidden",window.setTimeout(function(){if(isMobile){document.getElementById("menu").style.visibility="hidden";var e=document.getElementById("findMe"),t=document.getElementById("traceMe"),i=document.getElementById("markStop"),n=document.getElementById("logMe");document.getElementById("map").appendChild(e),document.getElementById("map").appendChild(t),document.getElementById("map").appendChild(i),document.getElementById("map").appendChild(n)}},600)})},beforeDestroy:function(){window.clearInterval(this.idWatchPosition),window.clearInterval(this.idInterval),isMobile?(l.clear(),l.off()):this.clearMarkers(),this.route=[],this.routeStreet=[],this.markers=[],this.stopMarkers=[]},methods:{setAutorefresh:function(e){this.isRefreshing=e,this.isRefreshing?this.refreshInterval=setInterval(this.refresh,3e3):clearInterval(this.refreshInterval)},refresh:function(){var e=this;o.default.api.get("people/"+o.default.user.id+"/geo/feed",{t:this.lastRefresh}).then(function(t){t.forEach(e.updatePosition),t.length>0&&(e.lastRefresh=t[0].timestamp)})},getTarget:function(e){for(var t=0;t<this.targets.length;t++)if(this.targets[t].id==e.id)return this.targets[t];return this.targets.push(e),e},updatePosition:function(e){var t=this.getTarget(e.target),i=new google.maps.LatLng(parseFloat(e.latitude),parseFloat(e.longitude));void 0==t.marker?t.marker=new google.maps.Marker({map:this.myMap,title:t.name,icon:t.icon,animation:isMobile?plugin.google.maps.Animation.DROP:google.maps.Animation.DROP,draggable:!1,position:i}):t.marker.setPosition(i)},dummyMarkers:function(){var e=this,t=this;o.default.api.get("people/"+o.default.user.id+"/geo/feed?t=1491428141").then(function(i){i.forEach(function(i){var n={position:isMobile?new plugin.google.maps.LatLng(i.coordinates.latitude,i.coordinates.longitude):new google.maps.LatLng(i.coordinates.latitude,i.coordinates.longitude),map:t.myMap,title:i.title,icon:isMobile?e.bus_stop:"",timestamp:i.timestamp,identifier:i.identifier,snippet:isMobile?i.identifier:null,type:i.type,animation:isMobile?plugin.google.maps.Animation.DROP:google.maps.Animation.DROP,draggable:!!isMobile&&null};isMobile?t.stopMarkers.push(n):t.stopMarkers.push(new google.maps.Marker(n))}),t.setMarkersOnMap()})},setMarkersOnMap:function(){console.log("setMarkersOnMap"),console.log(this.stopMarkers);for(var e=0;e<this.stopMarkers.length;e++)if(isMobile)l.addMarker(this.stopMarkers[e],function(e){e.showInfoWindow()});else{this.stopMarkers[e]}},getMyPosition:function(){var e=this;console.log("getMyPosition");var t=this;isMobile?(document.getElementById("findMe").style.visibility="hidden",cordova.plugins.diagnostic.isLocationAvailable(function(e){l.setMapTypeId(plugin.google.maps.MapTypeId.ROADMAP),l.addEventListener(plugin.google.maps.event.MAP_CLICK,function(e){console.log(e)}),l.addEventListener(plugin.google.maps.event.MY_LOCATION_BUTTON_CLICK,function(){t.findMe(t)}),l.addEventListener(plugin.google.maps.event.CAMERA_CHANGE,function(e){console.log(e),e.zoom<=2?t.geoZoom=16:t.geoZoom=e.zoom}),l.addEventListener(plugin.google.maps.event.MAP_READY,function(e){l.getMyLocation(function(e){var i=new plugin.google.maps.LatLng(e.latLng.lat,e.latLng.lng);t.geoLat=e.latLng.lat,t.geoLong=e.latLng.lng,t.geoAccuracy=e.accuracy,t.timestamp=e.time,t.bearing=e.bearing,t.printMessage("Lat: "+t.geoLat+" Long: "+t.geoLong+" Prec: "+t.geoAccuracy),l.animateCamera({target:e.latLng,tilt:30,zoom:t.geoZoom,duration:1e3,bearing:t.bearing},function(){l.addMarker({position:i,icon:t.flag_start,title:t.app.user.firstName,rotation:t.bearing},function(e){e.showInfoWindow()})}),t.saveRoute(t.geoLat,t.geoLong,t)})})},function(){e.printMessage("Por favor verifique si su GPS está activo")})):navigator.geolocation?navigator.geolocation.getCurrentPosition(function(t){e.geoLat=t.coords.latitude,e.geoLong=t.coords.longitude,e.geoAccuracy=t.coords.accuracy,e.timestamp=t.timestamp,e.printMessage("Lat: "+e.geoLat+" Lng: "+e.geoLong+" Acc: "+e.geoAccuracy),e.drawMap(),e.drawMarker(e.geoLat,e.geoLong)},this.geoError,this.geoOptions):this.printMessage("Geolocalización no es soportada en este browser")},findMe:function(e){isMobile?(navigator.geolocation.clearWatch(e.idWatchPosition),e.route=[],e.routeStreet=[],e.markers=[],e.stopMarkers=[],l.clear(),e.getMyPosition(),e.dummyMarkers(),e.idWatchPosition=navigator.geolocation.watchPosition(e.geoSuccess,e.geoError,e.geoOptions)):(navigator.geolocation.clearWatch(this.idWatchPosition),this.route=[],this.routeStreet=[],this.clearMarkers(),this.markers=[],this.stopMarkers=[],this.getMyPosition(),this.dummyMarkers(),this.idWatchPosition=navigator.geolocation.watchPosition(this.geoSuccess,this.geoError,this.geoOptions))},getCoords:function(){var e=this,t=[],i=this;isMobile?cordova.plugins.diagnostic.isLocationAvailable(function(e){l.getMyLocation(function(e){new plugin.google.maps.LatLng(e.latLng.lat,e.latLng.lng);i.geoLat=e.latLng.lat,i.geoLong=e.latLng.lng,i.bearing=e.bearing,i.printMessage("Lat: "+e.latLng.lat+" Lng: "+e.latLng.lng+" Acc: "+e.accuracy),i.saveRoute(i.geoLat,i.geoLong,i),l.animateCamera({target:e.latLng,tilt:30,zoom:i.geoZoom,duration:1e3,bearing:i.bearing})})},function(t){e.printMessage("Por favor verifique si su GPS está activo")}):navigator.geolocation||"geolocation"in navigator?navigator.geolocation.getCurrentPosition(function(e){t.latitude=e.coords.latitude,t.longitude=e.coords.longitude,t.accuracy=e.coords.accuracy,i.geoSuccess(t)},this.geoError,this.geoOptions):this.printMessage("Geolocalización no es sopotada en este browser")},geoSuccess:function(e){this.geoLat==e.coords.latitude&&this.geoLong==e.coords.longitude||(isMobile?this.getCoords():(this.geoLatAnt=this.geoLat,this.geoLongAnt=this.geoLong,this.geoLat=e.coords.latitude,this.geoLong=e.coords.longitude,this.geoAccuracy=e.coords.accuracy,this.timestamp=(new Date).getTime(),this.printMessage("Lat: "+this.geoLat+" Lng: "+this.geoLong+" Accu: "+this.geoAccuracy),this.saveRoute(e.coords.latitude,e.coords.longitude,this),this.drawMarker(e.coords.latitude,e.coords.longitude)))},drawMap:function(){var e=null;e=new google.maps.LatLng(this.geoLat,this.geoLong),this.saveRoute(this.geoLat,this.geoLong,this),this.myMap.panTo(e)},drawMarker:function(e,t){var i=this,n=new google.maps.LatLng(e,t),a={path:this.car,scale:.7,strokeColor:"white",strokeWeight:.1,fillOpacity:1,fillColor:"#124796",offset:"5%",rotation:this.rotation,anchor:new google.maps.Point(10,25)};this.saveRoute(e,t,this);var s=new google.maps.Marker({position:n,map:this.myMap,icon:a,title:this.app.user.firstName,draggable:!1});if(this.markers.push(s),this.markers.length>1){for(var r=0;r<this.markers.length-1;r++)this.markers[r].setVisible(!1);this.rotation=google.maps.geometry.spherical.computeHeading(new google.maps.LatLng(this.geoLatAnt,this.geoLongAnt),new google.maps.LatLng(this.geoLat,this.geoLong))}this.myMap.panTo(n);var o=new google.maps.InfoWindow({content:'<img src="'+this.app.user.avatar+'">'});google.maps.event.addListener(s,"click",function(){o.open(i.myMap,s)})},traceRoute:function(){if(this.activeRoute=!this.activeRoute,isMobile)this.activeRoute?this.lineRoute=l.addPolyline({points:this.route,color:"#3776dd",width:11,geodesic:!1},function(e){setTimeout(function(){e.remove()},1e4)}):(this.lineSymbol=null,window.clearInterval(this.idInterval));else if(this.activeRoute){this.lineSymbol={path:google.maps.SymbolPath.CIRCLE,scale:7,strokeColor:"#393",strokeWeight:"#3776dd"},this.lineRoute=new google.maps.Polyline({path:this.route,icons:[{icon:this.lineSymbol,offset:"100%"}],strokeColor:"#4285f4",strokeOpacity:".6",strokeWeight:8,geodesic:!0,map:this.myMap});var e=0,t=this;this.idInterval=window.setInterval(function(){e=(e+1)%200;var i=t.lineRoute.get("icons");i[0].offset=e/2+"%",t.lineRoute.set("icons",i)},20)}else this.lineRoute.setMap(null),this.lineSymbol=null,window.clearInterval(this.idInterval)},markStop:function(){var e=null,t=null,i=null;if(isMobile)e=new plugin.google.maps.LatLng(this.geoLat,this.geoLong),t="Lat "+this.geoLat+" Long "+this.geoLong,i=l,l.addMarker({position:e,title:t,icon:this.bus_stop,animation:plugin.google.maps.Animation.DROP},function(e){e.showInfoWindow()}),this.stopMarkers.push({title:t,map:i,position:e});else{e=new google.maps.LatLng(this.geoLat,this.geoLong),t="Lat "+this.geoLat+" Long "+this.geoLong,i=this.myMap;var n=new google.maps.Marker({position:e,map:i,title:t,animation:google.maps.Animation.DROP,draggable:!1});this.stopMarkers.push(n)}console.log(this.stopMarkers)},saveRoute:function(e,t,i){isMobile?this.route.push({lat:e,lng:t,timestamp:(new Date).getTime(),LatLng:new plugin.google.maps.LatLng(e,t)}):i.route.push({lat:e,lng:t,timestamp:(new Date).getTime(),LatLng:new google.maps.LatLng(e,t)})},saveRouteStreet:function(e,t){this.routeStreet.push({lat:e,lng:t,timestamp:(new Date).getTime()})},clearMarkers:function(){for(var e=0;e<this.markers.length;e++)this.markers[e].setMap(null);for(var t=0;t<this.stopMarkers.length;t++)this.stopMarkers[t].setMap(null)},logs:function(){this.showCoords=!this.showCoords,document.getElementById("printMessage").style.visibility=this.showCoords?"visible":"hidden"},printMessage:function(e){this.message=e,document.getElementById("printMessage").style.visibility=this.showCoords?"visible":"hidden"},geoError:function(e){var t={1:"Permiso denegado.",2:"Posición no disponible.",3:"Solicitud agotada. Reestableciendo su Ubicación"};this.printMessage(t[e.code])}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(408),s=n(a),r=i(3),o=n(r);t.default={name:"geo-tracker",components:{PhiTracker:s.default},beforeRouteEnter:function(e,t,i){o.default.api.get("/geo/targets/"+e.params.targetId).then(function(e){return i(function(t){return t.target=e})})},data:function(){return{app:o.default,target:null,every:3e3,enabled:!1,log:[]}},methods:{update:function(e){this.log.push(e)}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(3),s=n(a);t.default={data:function(){return{app:s.default}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(13),s=n(a),r=i(3),o=n(r),l=i(4),u=n(l),c=i(189),d=n(c);t.default={name:"settings",components:{PhiDrawer:u.default,qrcGenerator:d.default},data:function(){return{app:o.default}},computed:{qrdata:function(){return(0,s.default)({id:this.app.user.id,gender:this.app.user.gender,firstName:this.app.user.firstName,lastName:this.app.user.lastName,avatar:this.app.user.avatar})}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(3),s=n(a),r=i(189),o=n(r),l=i(406),u=n(l);t.default={name:"leo-sandbox",components:{"phi-qrc-generator":o.default,"phi-qrc-reader":u.default},data:function(){return{app:s.default,QRValue:s.default.user.id,QRReaderEnabled:!1}},methods:{qrresult:function(e){alert(e),this.QRReaderEnabled=!1},qrerror:function(e){console.log(e),this.QRReaderEnabled=!1}},mounted:function(){}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(8),s=n(a),r=i(3),o=n(r);t.default={data:function(){return{app:o.default,username:null,password:null,error:null}},computed:{isLoading:function(){return!!o.default.api&&o.default.api.isLoading}},methods:{login:function(){var e=this;return this.error=null,this.username&&this.password?("demo"==this.username&&(this.password=this.username,this.app.set({endpoint:"https://demo.api.phidias.co"}),this.app.initialize()),void this.app.login(this.username,this.password).then(function(){e.redirect()}).catch(function(t){e.error="usuario o contraseña incorrectos",console.log("app.login error",t)})):void(this.error="debes escribir tu usuario y contraseña")},googleLogin:function(){var e=this;this.app.googleLogin().then(function(t){e.redirect()}).catch(function(t){e.error="usuario o contraseña incorrectos",console.log("app.login error",t)})},redirect:function(){this.username=this.password=null,this.$router.push("/dashboard")},resetCode:function(){this.$router.push("code")}},components:{PhiInput:s.default}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(3),o=n(r),l=i(187);t.default={created:function(){"undefined"==typeof google&&(0,l.load)("AIzaSyCpSKazmH7T7ArBkdcPiRYaYG_QKhj7rRM")},mounted:function(){var e=this;l.loaded.then(function(){e.map=new google.maps.Map(document.getElementById("main-map"),{center:{lat:3.4544409,lng:-76.5377683},mapTypeControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.HORIZONTAL_BAR,position:google.maps.ControlPosition.TOP_CENTER},zoom:17}),e.myLocation=new google.maps.InfoWindow({content:'<div class="myPosition">\n\t\t\t\t\t\t<img src="'+o.default.user.avatar+'">\n\t\t\t\t\t</div>'}),e.refresh(),setTimeout(function(){google.maps.event.trigger(e.map,"resize")},800)})},data:function(){return{app:o.default,map:null,myLocation:null,items:[]}},methods:{
refresh:function(){var e=this;o.default.api.get("people/"+o.default.user.id+"/geo/feed").then(function(t){e.items=t,e.items.forEach(function(t){t.infowindow=new google.maps.InfoWindow({content:'<div class="mapItem">\n\t\t\t\t\t\t\t\t\t<h1 class="title">'+t.title+'</h1>\n\t\t\t\t\t\t\t\t\t<p class="date">'+s.default.unix(t.timestamp).format("h:mm a")+"</p>\n\t\t\t\t\t\t\t\t</div>"}),t.marker=new google.maps.Marker({title:t.title,map:e.map,position:{lat:parseFloat(t.coordinates.latitude),lng:parseFloat(t.coordinates.longitude)}}),t.marker.addListener("click",function(){t.infowindow.open(this.map,t.marker)}),t.infowindow.open(e.map,t.marker)})})},locateMe:function(){var e=this;navigator.geolocation.getCurrentPosition(function(t){var i={lat:t.coords.latitude,lng:t.coords.longitude};e.myLocation.setPosition(i),e.myLocation.open(e.map),e.map.setZoom(18),e.map.panTo(i)},function(e){console.log("error getting location",e),alert("Oops! No fue posible detectar tu ubicacion")},{enableHighAccuracy:!0})}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(8),s=n(a),r=i(405),o=n(r),l=i(3),u=n(l);t.default={components:{PhiInput:s.default,PhiPostEditor:o.default},data:function(){return{nodeId:this.$route.params.nodeId,postId:this.$route.params.postId,post:{title:null,description:null}}},methods:{fetch:function(){var e=this;return u.default.api.get("posts/"+this.postId).then(function(t){return e.post=t})},save:function(){var e=this;clearTimeout(this.timer),this.timer=setTimeout(function(){u.default.api.put("posts/"+e.postId,e.post),u.default.api.clear("nodes/"+e.nodeId+"/posts/drafts")},500)}},mounted:function(){var e=this;this.fetch().then(function(){e.post.title||e.$el.querySelector("input").focus()})}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,i){return(t&&i)<2||(t&&i)>36?null:parseInt(e+"",t).toString(i)}Object.defineProperty(t,"__esModule",{value:!0});var s=i(4),r=n(s),o=i(3),l=n(o);t.default={name:"node-container",components:{PhiDrawer:r.default},created:function(){this.fetch().then(function(e){l.default.navigation.push(e)})},data:function(){var e=this.$route.params.nodeId,t=a(e,36,10).toString(),i=t.substring(t.length-1);return{app:l.default,types:[],nodeId:this.$route.params.nodeId,transitionDirection:"left",node:{id:null,type:{}},pageIsCollapsed:"node"!=this.$route.name,coverImage:"static/covers/"+i+".jpg"}},methods:{fetch:function(){var e=this;return l.default.api.get("types/bulletin").then(function(t){return e.types=t}),l.default.api.get("nodes/"+this.nodeId).then(function(t){return e.node=t})}},watch:{$route:function(e,t){this.pageIsCollapsed="node"!=e.name,t.params.type&&e.params.type?this.transitionDirection=t.params.type<e.params.type?"left":"right":this.transitionDirection=t.meta.order<e.meta.order?"left":"right"}},beforeRouteEnter:function(e,t,i){l.default.api.get("types/bulletin").then(function(t){l.default.api.get("nodes/"+e.params.nodeId).then(function(e){i(function(i){i.types=t,i.node=e})})})}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(3),s=n(a);t.default={name:"node-dashboard",data:function(){return{app:s.default,nodes:s.default.api.collection("nodes/"+this.$parent.nodeId+"/nodes")}},computed:{types:function(){for(var e={},t=0;t<this.nodes.items.length;t++){var i=this.nodes.items[t];"undefined"==typeof e[i.type.singular]&&(e[i.type.singular]={type:i.type,nodes:[]}),e[i.type.singular].nodes.push(i)}return e}},methods:{fetch:function(e){e&&(this.nodes.items=[]),this.nodes.fetch()}},created:function(){this.fetch()}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(13),s=n(a),r=i(23),o=n(r),l=i(3),u=n(l);t.default={name:"node-import",data:function(){return{nodeId:this.$route.params.nodeId,file:null,uploading:!1,filePreview:[],fileColumns:[],ignoreFirstLine:!0,levels:[],map:{person:{id:"person",attributes:{document:{label:"documento",source:null,value:null},documentType:{label:"tipo de documento",source:null,value:null},firstName:{label:"nombre",source:null,value:null},lastName:{label:"apellido",source:null,value:null},lastName2:{label:"segundo apellido",source:null,value:null},email:{label:"email",source:null,value:null},gender:{label:"género",source:null,value:null},birthDay:{label:"cumpleaños",source:null,value:null},mobile:{label:"móvil",source:null,value:null}}},relatives:[],groups:[]},selectedAttribute:null}},methods:{addRelative:function(){this.map.relatives.push({id:"relative_"+(this.map.relatives.length+1),role:null,attributes:{document:{label:"documento",source:null,value:null},documentType:{label:"tipo de documento",source:null,value:null},firstName:{label:"nombre",source:null,value:null},lastName:{label:"apellido",source:null,value:null},lastName2:{label:"segundo apellido",source:null,value:null},email:{label:"email",source:null,value:null},gender:{label:"género",source:null,value:null},birthDay:{label:"cumpleaños",source:null,value:null},mobile:{label:"móvil",source:null,value:null}}})},addGroup:function(){this.map.groups.push({id:"group_"+(this.map.groups.length+1),attributes:{type:{label:"tipo",source:null,value:null},name:{label:"nombre",source:null,value:null}}})},selectColumn:function(e){this.selectedAttribute&&this.setAttributeSource(this.selectedAttribute,e)},upload:function(){var e=this,t=new FormData;t.append("file",this.file);var i=(0,o.default)({},this.map);i.levels=this.levels,t.append("map",(0,s.default)(i)),this.uploading=!0,u.default.api.post("nodes/"+this.nodeId+"/import?skip="+(this.ignoreFirstLine?1:0),t).then(function(t){e.uploading=!1,console.log("upload responded with:",t)},function(t){e.uploading=!1,console.log("upload error",t)})},setAttributeSource:function(e,t){return""===t?(e.source=null,void(e.value=null)):void("value"==t?(e.source="value",e.value=null):(e.source="column",e.value=t))},fileChanged:function(e){this.file=e.target.files[0],this.readFile(this.file)},readFile:function(e){var t=this,i=new FileReader;i.onload=function(e){var i=e.target.result,n=i.split("\n");t.fileColumns=n.shift().split(","),t.filePreview=[];for(var a=0;a<n.length;a++){var s=n[a].split(",");s.length==t.fileColumns.length&&t.filePreview.push(s)}},i.readAsText(e.slice(0,512))}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(8),s=n(a),r=i(4),o=n(r),l=i(409),u=n(l),c=i(3),d=n(c);t.default={name:"node-nodes",components:{PhiInput:s.default,PhiDrawer:o.default,PhiTypePicker:u.default},data:function(){return{app:d.default,nodes:d.default.api.collection("nodes/"+this.$parent.nodeId+"/nodes"),search:null,timer:null,defaultIcon:d.default.api.host+"/icons/fa-users.png?color=2196F3&size=42",isOpen:!1,newGroup:{name:"",type:""}}},computed:{types:function(){for(var e={},t=0;t<this.nodes.items.length;t++){var i=this.nodes.items[t];"undefined"==typeof e[i.type.singular]&&(e[i.type.singular]={type:i.type,nodes:[]}),e[i.type.singular].nodes.push(i)}return e}},methods:{fetch:function(e){e&&(this.nodes.items=[]),this.nodes.fetch()},debounce:function(){var e=this;clearTimeout(this.timer),this.timer=setTimeout(function(){return e.fetch(!0)},500)},createGroup:function(){var e=this;this.app.api.post("nodes/"+this.$parent.nodeId+"/nodes",this.newGroup).then(function(t){t.type={singular:t.type},e.nodes.add(t),e.newGroup={name:"",type:""},e.isOpen=!1})}},created:function(){this.fetch()}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(8),s=n(a),r=i(4),o=n(r),l=i(188),u=n(l),c=i(407),d=n(c),p=i(3),h=n(p);t.default={name:"node-people",components:{PhiInput:s.default,PhiDrawer:o.default,PhiPersonPicker:u.default,PhiRolePicker:d.default},data:function(){return{app:h.default,people:h.default.api.collection("nodes/"+this.$parent.nodeId+"/people"),search:null,timer:null,isOpen:!1,inscriptions:[]}},methods:{fetch:function(e){e&&(this.people.items=[]),this.people.fetch({q:this.search,order:"lastName"})},debounce:function(){var e=this;clearTimeout(this.timer),this.timer=setTimeout(function(){return e.fetch(!0)},500)},appendPerson:function(e){e.roles=[],this.inscriptions.push(e)},saveInscriptions:function(){var e=this;this.inscriptions.length&&h.default.api.post("nodes/"+this.$parent.nodeId+"/people",this.inscriptions).then(function(t){e.isOpen=!1,e.inscriptions=[],e.people.appendItems(t)})},addRole:function(e,t){var i=this;h.default.api.put("nodes/"+this.$parent.nodeId+"/people/"+e.id+"/roles/"+t.maleNoun.singular).then(function(){return h.default.api.clear("nodes/"+i.$parent.nodeId+"/people")})},removeRole:function(e,t){var i=this;h.default.api.delete("nodes/"+this.$parent.nodeId+"/people/"+e.id+"/roles/"+t.maleNoun.singular).then(function(){return h.default.api.clear("nodes/"+i.$parent.nodeId+"/people")})},deleteInscription:function(e){var t=this;confirm("Retirar a "+e.firstName+" "+(1==this.$parent.node.type.gender?"del":"de la")+" "+this.$parent.node.type.singular+" ?")&&h.default.api.delete("nodes/"+this.$parent.nodeId+"/people/"+e.id).then(function(){h.default.api.clear("nodes/"+t.$parent.nodeId+"/people"),t.people.remove(e)})}},watch:{isOpen:function(e){var t=this;e&&setTimeout(function(){return t.$el.querySelector(".inscription-adder input").focus()},140)}},created:function(){this.fetch()}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(3),s=n(a);t.default={name:"node-posts",data:function(){return{app:s.default,type:null,page:1,posts:s.default.api.collection("nodes/"+this.$parent.nodeId+"/posts/published"),drafts:s.default.api.collection("nodes/"+this.$parent.nodeId+"/posts/drafts")}},methods:{initialize:function(e){this.type=e,this.fetch()},fetch:function(){this.posts.fetch({type:this.type,page:this.page,order:"-publishDate"}),this.drafts.fetch({type:this.type,order:"-creationDate"})},compose:function(){var e=this;this.app.api.post("nodes/"+this.$parent.nodeId+"/posts/drafts",{type:this.type}).then(function(t){e.$router.push({name:"node-compose",params:{nodeId:e.$parent.nodeId,postId:t.id}})})}},mounted:function(){this.initialize(this.$route.params.type)},watch:{$route:function(e){this.initialize(e.params.type)}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(3),s=n(a);t.default={name:"people",data:function(){return{app:s.default,people:s.default.api.collection("people"),search:null,timer:null}},methods:{fetch:function(e){e&&(this.people.items=[]),this.people.fetch({q:this.search,order:"lastName"})},debounce:function(){var e=this;clearTimeout(this.timer),this.timer=setTimeout(function(){return e.fetch(!0)},500)}},created:function(){this.fetch()}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(3),s=n(a);t.default={name:"person",data:function(){return{app:s.default,personId:this.$route.params.personId,person:{}}},created:function(){this.fetch()},methods:{fetch:function(){var e=this;s.default.api.get("people/"+this.personId).then(function(t){e.person=t,e.person.id==s.default.user.id&&(s.default.user=e.person)})}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(4),s=n(a),r=i(403),o=n(r),l=i(1),u=n(l),c=i(3),d=n(c);t.default={name:"post-audience",components:{PhiDrawer:s.default,PhiPersonInscriptions:o.default},data:function(){return{audience:d.default.api.collection("/posts/"+this.$route.params.postId+"/stubs"),moment:u.default}},methods:{toggleUserInfo:function(e){return this.audience.hasTag(e,"hasInfo")?void this.audience.toggleTag(e,"expanded"):void this.audience.tag(e,"hasInfo")}},beforeRouteEnter:function(e,t,i){var n=d.default.api.collection("/posts/"+e.params.postId+"/stubs");n.fetch().then(function(){i(function(e){e.audience=n})})}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,i){return(t&&i)<2||(t&&i)>36?null:parseInt(e+"",t).toString(i)}Object.defineProperty(t,"__esModule",{value:!0});var s=i(1),r=n(s),o=i(4),l=n(o),u=i(3),c=n(u);t.default={name:"node-container",components:{PhiDrawer:l.default},data:function(){var e=a(this.$route.params.postId,36,10).toString(),t=e.substring(e.length-1);return{app:c.default,moment:r.default,post:{id:this.$route.params.postId,type:{}},pageIsCollapsed:"post"!=this.$route.name,transitionDirection:"left",coverImage:"static/covers/"+t+".jpg",toolbarIsHidden:!1}},methods:{isAllowed:function(e){try{return!!this.post.settings.allowed[e]}catch(e){return!1}}},watch:{$route:function(e,t){this.pageIsCollapsed="post"!=e.name,t.params.type&&e.params.type?this.transitionDirection=t.params.type<e.params.type?"left":"right":this.transitionDirection=t.meta.order<e.meta.order?"left":"right"}},mounted:function(){var e=this,t=this.$el,i=0,n=this.$el.querySelector(".phi-page-toolbar");["scroll","touchmove"].forEach(function(a){t.addEventListener(a,function(){var a=t.scrollTop-i;Math.abs(a)>8&&(e.toolbarIsHidden=a>0&&i>n.clientHeight,i=t.scrollTop)})})},beforeRouteEnter:function(e,t,i){c.default.api.get("posts/"+e.params.postId).then(function(e){i(function(t){t.post=e})})}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(4),s=n(a),r=i(22),o=n(r),l=i(1),u=n(l),c=i(3),d=n(c);t.default={name:"post-contents",components:{PhiDrawer:s.default,PhiBlock:o.default},data:function(){return{app:d.default,moment:u.default,threads:d.default.api.collection("/people/"+d.default.user.id+"/posts/feed/"+this.$route.params.postId+"/threads")}},mounted:function(){var e=this;this.threads.fetch().then(function(){if(e.threads._items.forEach(function(t){e.$set(t,"highlightPost",t.firstUnreadPost?t.firstUnreadPost:t.lastPost)}),e.$parent.post.settings&&e.$parent.post.settings.replies){var t="to-"+d.default.user.id,i=e.threads.getItem(t),n=e.threads.getItem(e.$parent.post.thread);e.$parent.post.settings.replies.forEach(function(a){"author"!=a.audience||i||d.default.user.id==e.$parent.post.author.id||e.threads.push({id:t,people:[e.$parent.post.author],countPeople:2}),"all"==a.audience&&!n&&e.$parent.post.audienceCount>2&&e.threads.push({id:e.$parent.post.thread,countPeople:e.$parent.post.audienceCount})})}})}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(4),s=n(a),r=i(22),o=n(r),l=i(1),u=n(l),c=i(3),d=n(c);t.default={name:"post-contents",components:{PhiDrawer:s.default,PhiBlock:o.default},data:function(){return{replies:d.default.api.collection("/people/"+d.default.user.id+"/posts/feed/"+this.$route.params.postId+"/replies"),replyBody:"",moment:u.default}},methods:{sendReply:function(){var e=this;if(this.replyBody.trim().length){var t={author:d.default.user,description:this.replyBody};this.replyBody="",this.replies.unshift(t),d.default.api.post("/posts/"+this.$route.params.postId+"/replies?all",t).then(function(i){d.default.api.clear("/people/"+d.default.user.id+"/posts/feed"),d.default.api.clear("/people/"+d.default.user.id+"/posts/feed/"+e.$route.params.postId+"/replies"),e.replies.splice(t),e.replies.unshift(i)})}},toggleUserInfo:function(e){return e.isInfoLoaded?void(e.isExpanded=!e.isExpanded):void(e.isInfoLoaded=!0)}},beforeRouteEnter:function(e,t,i){var n=d.default.api.collection("/people/"+d.default.user.id+"/posts/feed/"+e.params.postId+"/replies");n.fetch({type:e.query.type}).then(function(){i(function(e){e.replies=n})})}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a,s,r=i(1),o=n(r),l=i(52),u=n(l),c=i(4),d=n(c),p=i(22),h=n(p),f=i(3),v=n(f);t.default={name:"post-contents",components:{PhiDrawer:d.default,PhiBlock:h.default},data:function(){return{thread:v.default.api.collection("/people/"+v.default.user.id+"/posts/feed/"+this.$route.params.postId+"/threads/"+this.$route.params.thread),replyBody:"",moment:o.default}},methods:{sendReply:function(){var e=this;if(this.$el.querySelector("textarea").focus(),this.replyBody.trim().length){var t={author:v.default.user,description:this.replyBody};this.replyBody="",this.thread.unshift(t),v.default.api.post("/people/"+v.default.user.id+"/posts/feed/"+this.$route.params.postId+"/threads/"+this.$route.params.thread,t).then(function(i){e.thread.splice(t),e.thread.unshift(i),v.default.api.clear("/people/"+v.default.user.id+"/posts/feed")})}},toggleUserInfo:function(e){return e.isInfoLoaded?void(e.isExpanded=!e.isExpanded):void(e.isInfoLoaded=!0)}},mounted:function(){var e=this;s=new u.default({target:this.$parent.$el}),a=v.default.on("notification",function(t){t.post.replyTo==e.$route.params.postId&&t.post.thread==e.$route.params.thread&&e.thread.unshift(t.post)})},beforeRouteLeave:function(e,t,i){s.destroy(),a(),i()},beforeRouteEnter:function(e,t,i){var n=v.default.api.collection("/people/"+v.default.user.id+"/posts/feed/"+e.params.postId+"/threads/"+e.params.thread);n.fetch({type:e.query.type}).then(function(){i(function(e){e.thread=n})})}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(3),s=n(a);t.default={name:"root",data:function(){return{app:s.default,nodes:null}},created:function(){this.nodes=s.default.api.collection("nodes"),this.nodes.fetch()}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{titulo:"hola este es el titulo",personas:[]}},methods:{cambiarTitulo:function(){this.titulo="el titulo ha cambiado"},cargarDatos:function(){var e=this;fetch("https://phidias.api.phidias.co/people").then(function(e){return e.json()}).then(function(t){e.personas=t})}},mounted:function(){this.cargarDatos()}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(3);n(a);t.default={data:function(){return{}},methods:{}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(4),s=n(a),r=i(3),o=n(r),l=i(37),u=n(l);t.default={name:"settings",components:{PhiDrawer:s.default},data:function(){return{app:o.default,locale:u.default,destinations:[]}},mounted:function(){var e=this;o.default.api.get("types/post").then(function(t){o.default.api.collection("people/"+o.default.user.id+"/notification/destinations").fetch().then(function(i){e.destinations=i.map(function(e){return 0==e.preferences.length&&(i.preferences=[],t.forEach(function(t){e.preferences.push({destination:e.id,type:t.singular,isEnabled:"1",schedule:null})})),e.drawerIsOpen=!1,e})})})},methods:{clearCache:function(){confirm("Se limpiarán los datos del almacenamiento temporal.\n\nDesea continuar?")&&this.app.api.cache.empty().then(function(){alert("Caché eliminado")})},toggleDestination:function(e){e.isEnabled="1"==e.isEnabled?"0":"1",o.default.api.put("people/"+o.default.user.id+"/notification/destinations/"+e.id,{isEnabled:e.isEnabled}).then(function(){return o.default.api.clear("people/"+o.default.user.id+"/notification/destinations")})},togglePreference:function(e,t){e.isEnabled="1"==e.isEnabled?"0":"1",o.default.api.put("people/"+o.default.user.id+"/notification/destinations/"+t.id,{preferences:t.preferences}).then(function(){return o.default.api.clear("people/"+o.default.user.id+"/notification/destinations")})},logout:function(){this.app.logout(),this.$router.push("login")}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(13),s=n(a),r=i(23),o=n(r),l=i(9),u=n(l),c=i(10),d=n(c),p=i(3),h=n(p),f=function(){function e(t,i){(0,u.default)(this,e),this.client=t,this.url=i,this.parameters={},this._items=[],this.dummy=!1,this.reset()}return(0,d.default)(e,[{key:"reset",value:function(){this.meta={},this.total=null,this.pagination={page:1,limit:10}}},{key:"fetch",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!i&&this.reset(),this.parameters=t,this.client.fetch(this.url,{method:"get",body:(0,o.default)({},t,this.pagination)}).then(function(t){return e.total=t.headers.get("x-phidias-collection-total"),t.json()}).then(function(t){return!i&&(e._items=[]),e.appendItems(t)})}},{key:"next",value:function(){return this.pagination.page++,this.fetch(this.parameters,!0)}},{key:"appendItems",value:function(e){var t=this;return e.forEach(function(e){return t.append(e)}),e}},{key:"append",value:function(t){for(var i=0;i<this._items.length;i++)if(e.areEqual(t,this._items[i]))return this._items[i]=e.merge(this._items[i],t),this._items[i];return this._items.push(t),t}},{key:"splice",value:function(e){this._items.splice(this.indexOf(e),1)}},{key:"indexOf",value:function(t){for(var i=0;i<this._items.length;i++)if(e.areEqual(t,this._items[i]))return i;return-1}},{key:"setMeta",value:function(e,t,i){var n=this;if(Array.isArray(e))return e.forEach(function(e){n.setMeta(e,t,i)});var a=this.constructor.getId(e);void 0==this.meta[a]&&(this.meta[a]={}),this.meta[a][t]=i,this.dummy=!this.dummy}},{key:"getMeta",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=this.constructor.getId(e);return this.meta[n]&&this.meta[n][t]?this.meta[n][t]:i}},{key:"show",value:function(e){this.setMeta(e,"hidden",!1)}},{key:"hide",value:function(e){this.setMeta(e,"hidden",!0)}},{key:"isHidden",value:function(e){return this.getMeta(e,"hidden",!1)}},{key:"toggle",value:function(e){this.isHidden(e)?this.show(e):this.hide(e)}},{key:"tag",value:function(e,t){var i=this.getMeta(e,"tags",[]);i.indexOf(t)==-1&&(i.push(t),this.setMeta(e,"tags",i))}},{key:"untag",value:function(e,t){var i=this.getMeta(e,"tags",[]),n=i.indexOf(t);n!=-1&&(i.splice(n,1),this.setMeta(e,"tags",i))}},{key:"hasTag",value:function(e,t){var i=this.getMeta(e,"tags",[]);return i.indexOf(t)!=-1}},{key:"toggleTag",value:function(e,t){this.hasTag(e,t)?this.untag(e,t):this.tag(e,t)}},{key:"tagged",value:function(e){var t=this;return this.items.filter(function(i){return t.hasTag(i,e)})}},{key:"count",value:function e(t){var e=0;for(var i in this.meta)!this.meta[i].hidden&&this.meta[i].tags&&this.meta[i].tags.indexOf(t)!=-1&&e++;return e}},{key:"items",get:function(){var e=this;return this.dummy,this._items.filter(function(t){return!e.isHidden(t)})}},{key:"isLoading",get:function(){return this.client.isLoading}},{key:"hasNext",get:function(){return null!=this.total&&this.pagination.page<Math.ceil(this.total/this.pagination.limit)}}],[{key:"merge",value:function(e,t){return(0,o.default)(t,e)}},{key:"areEqual",value:function(t,i){return e.getId(t)==e.getId(i)}},{key:"getId",value:function(e){return e.id?e.id:(0,s.default)(e)}}]),e}();t.default={data:function(){return{app:h.default,parameters:{q:""},people:new f(h.default.api,"/people"),timer:null,selected:null}},mounted:function(){this.people.fetch(this.parameters)},methods:{debounce:function(){var e=this;clearTimeout(this.timer),this.timer=setTimeout(function(){return e.people.fetch(e.parameters)},this.parameters.q.trim().length?650:0)},hide:function(){this.selected=this.people.tagged("selected"),this.people.hide(this.selected)},restore:function(){this.people.show(this.selected),this.selected=null}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(3),s=n(a),r=i(1),o=n(r),l=i(4),u=n(l);t.default={components:{PhiDrawer:u.default},beforeRouteEnter:function(e,t,i){var n=s.default.api.collection("/people/"+s.default.user.id+"/threads/"+e.meta.endpoint);n.fetch({type:e.query.type}).then(function(){return i(function(t){t.feed=n,t.isArchive="archive"==e.meta.endpoint})})},data:function(){return{feed:s.default.api.collection("/people/"+s.default.user.id+"/threads/"+this.$route.meta.endpoint),moment:o.default,isArchive:"archive"==this.$route.meta.endpoint,lastAction:null,tpl:{menuIsOpen:!1,toolbarIsHidden:!1,toastIsShown:!1}}},methods:{isUnread:function(e){return!e.stub.readDate},select:function(e){var t=this;return"all"==e?void this.feed.tag(this.feed.items,"selected"):(this.feed.untag(this.feed.items,"selected"),void("none"!=e&&this.feed.items.forEach(function(i){switch(e){case"read":i.stub.readDate&&t.feed.tag(i.id,"selected");break;case"unread":i.stub.readDate||t.feed.tag(i.id,"selected")}})))},move:function(e){var t=this,i=this.feed.tagged("selected");if(i.length){var n=i.map(function(e){return e.thread.thread});s.default.api.post("/people/"+s.default.user.id+"/threads/"+e,n).then(function(){"read"!=e&&"unread"!=e?t.feed.hide(i):(t.feed.untag(i,"selected"),i.forEach(function(t){t.stub.readDate="unread"==e?null:111})),t.lastAction={target:e,selection:i,threadIds:n,text:t.redact(e,n.length)}})}},undo:function(){var e=this;if(this.lastAction){var t;switch(this.lastAction.target){case"read":t="unread";break;case"unread":t="read";break;case"feed":t="archive";break;case"archive":case"trash":t="feed"}var i="/people/"+s.default.user.id+"/threads/"+t;return s.default.api.post(i,this.lastAction.threadIds).then(function(i){return"read"!=t&&"unread"!=t?e.feed.show(e.lastAction.selection):(e.feed.tag(e.lastAction.selection,"selected"),e.lastAction.selection.forEach(function(e){e.stub.readDate="unread"==t?null:123})),e.lastAction=null,i})}},redact:function(e,t){var i=t>1,n=t+" ";switch(e){case"feed":n+=i?"restaurados":"restaurado";break;case"archive":n+=i?"archivados":"archivado";break;case"trash":n+=i?"eliminados":"eliminado";break;case"read":n+=i?"marcados como leído":"marcado como leído";break;case"unread":n+=i?"marcados como no leído":"marcado como no leído"}return n}},mounted:function(){var e=this;this.$watch("lastAction",function(t){return t?(e.tpl.toastIsShown=!0,void setTimeout(function(){return e.tpl.toastIsShown=!1},3e3)):void(e.tpl.toastIsShown=!1)});var t=0,i=this.$el,n=this.$el.querySelector(".phi-page-toolbar");["scroll","touchmove"].forEach(function(a){i.addEventListener(a,function(){var a=i.scrollTop-t;Math.abs(a)>8&&(e.tpl.toolbarIsHidden=a>0&&t>n.clientHeight,t=i.scrollTop)})})}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a,s,r=i(23),o=n(r),l=i(28),u=n(l),c=i(18),d=n(c),p=i(3),h=n(p),f=i(1),v=n(f),m=i(4),g=n(m),_=i(22),w=n(_),b=i(404),y=n(b),C=i(190),k=n(C),x=i(52),A=n(x);d.default.component("post-trail",{props:["post"],data:function(){return{moment:v.default}},template:'<div class="post post-trail" v-if="post">\n                  <div class="post-author">{{ post.author.firstName }} {{ post.author.lastName }}</div>\n                  <div class="post-date">{{ moment.unix(post.publishDate).calendar(null, {sameElse: \'MMM D h:mm a\'}) }}</div>\n                  <div class="post-description">{{ post.description }}</div>\n                  <post-trail v-if="post.replyTo" :post="post.replyTo"></post-trail>\n              </div>'});var M=function e(t,i){if("object"!=("undefined"==typeof t?"undefined":(0,u.default)(t))||null==t)return i;for(var n in i)i.hasOwnProperty(n)&&("object"===(0,u.default)(i[n])?t[n]=e(t[n],i[n]):t[n]=i[n]);return t};t.default={components:{PhiDrawer:g.default,PhiBlock:w.default,PhiPersonRelevancePicker:y.default,PhiSliderPanel:k.default},mounted:function(){var e=this;s=new A.default({target:this.$el}),a=h.default.on("notification",function(t){if(t.post.thread2==e.$route.params.threadId){var i=t.post;i.stub={readDate:t.readDate},e.posts.untag(e.posts.items,"expanded"),e.posts.unshift(i),e.posts.tag(i,"expanded")}})},beforeRouteEnter:function(e,t,i){var n=h.default.api.collection("/people/"+h.default.user.id+"/threads/feed/"+e.params.threadId);n.fetch().then(function(){return i(function(e){return e.posts=n})}).then(function(){n.items.forEach(function(e){return!e.stub.readDate&&n.tag(e,"expanded")}),n.tag(n.items[0],"expanded")})},beforeRouteLeave:function(e,t,i){s.destroy(),a(),i()},data:function(){return{app:h.default,moment:v.default,posts:h.default.api.collection("/people/"+h.default.user.id+"/threads/feed/"+this.$route.params.threadId),reply:{replyTo:null,description:null,settings:null},audience:[],replyTimer:null,tpl:{replyIsOpen:!1,replyTrailIsOpen:!1},authors:[],currentPerson:null}},computed:{replyTo:function(){return this.reply.replyTo?this.posts.getItem(this.reply.replyTo):null},sanitizedAudience:function(){var e=this;return this.audience.map(function(t){return"undefined"!=typeof t.firstname&&(e.$set(t,"firstName",t.firstname),e.$set(t,"lastName",t.lastname)),t})}},methods:{allowed:function(e,t){if(null==e)return!1;var i={allowed:{reply:!1,replyAll:!1,audience:!1,trail:!0,invites:!0}},n=null==e.settings?i:(0,o.default)({},e.settings);switch(n=M(i,n),t){case"reply":return e.author.id!=h.default.user.id&&n.allowed.reply;case"replyAll":return e.author.id!=h.default.user.id&&e.audienceCount>1&&n.allowed.replyAll;case"audience":return e.author.id==h.default.user.id||e.audienceCount>0&&n.allowed.audience;case"trail":return null!=e.replyTo&&n.allowed.trail;case"invites":return n.allowed.invites;default:return!0}},isUnread:function(e){return!e.stub.readDate},fetchAudience:function(e){return h.default.api.get("/posts/"+e.id+"/stubs").then(function(e){return e.map(function(e){return e.person})})},toggleAudience:function(e){var t=this;e.people?e.audienceIsShown=!e.audienceIsShown:this.fetchAudience(e).then(function(i){t.$set(e,"people",i),t.$set(e,"audienceIsShown",!0)})},toggleTrail:function(e){var t=this;e.objTrail?e.trailIsShown=!e.trailIsShown:h.default.api.get("/posts/"+e.id+"/trail").then(function(i){t.$set(e,"objTrail",i),t.$set(e,"trailIsShown",!0)})},togglePersonDetails:function(e){this.currentPerson&&this.currentPerson.id==e.id?this.currentPerson=null:this.setCurrentPerson(e)},setCurrentPerson:function(e){for(var t=this,i=0;i<this.authors.length;i++)if(this.authors[i].id==e.id)return void(this.currentPerson=this.authors[i]);h.default.api.get("/v3/people/"+e.id+"/roles").then(function(i){e.roles=i,t.authors.push(e),t.currentPerson=e})},openReply:function(e,t){var i=this;this.audience=[],h.default.api.get("/people/"+h.default.user.id+"/posts/drafts",{type:"mensaje",replyTo:e.id,create:1}).then(function(e){i.reply=e[0]}).then(function(){if(t)return i.fetchAudience(e).then(function(e){return i.audience=i.audience.concat(e)})}).then(function(){for(var t=!1,n=0;n<i.audience.length;n++)if(i.audience[n].id==e.author.id){t=!0;break}t||i.audience.unshift(e.author),setTimeout(function(){i.posts.untag(i.posts.items,"expanded"),i.tpl.replyIsOpen=!0,i.$el.querySelector("textarea").focus(),i.scrollToBottom(400)},0)})},saveReply:function(){var e=this;this.reply.id&&(clearTimeout(this.replyTimer),this.replyTimer=setTimeout(function(){h.default.api.put("/posts/"+e.reply.id,e.reply).then(function(t){return e.reply=t})},600))},deleteBlock:function(e){var t=this;return h.default.api.delete("/posts/"+this.reply.id+"/blocks/"+e.id).then(function(){t.reply.blocks.splice(t.reply.blocks.indexOf(e),1)})},addFilesBlock:function(){for(var e=this,t="/posts/"+this.reply.id+"/resources/files/attachments",i=0;i<this.reply.blocks.length;i++)if(this.reply.blocks[i].url==t)return;var n={url:t,type:"files"};h.default.api.post("/posts/"+this.reply.id+"/blocks",n).then(function(){return e.reply.blocks.push(n)})},sendReply:function(){var e=this;this.reply.audience={to:{people:this.audience.map(function(e){return String(e.id)})}},this.audience.indexOf(String(this.replyTo.author.id))==-1&&this.reply.audience.to.people.push(String(this.replyTo.author.id)),
this.reply.settings={allowed:{reply:!0,replyAll:!0}},h.default.api.post("/people/"+h.default.user.id+"/threads/feed/"+this.$route.params.threadId,this.reply).then(function(t){t.stub={},e.posts.unshift(t),e.posts.tag(t,"expanded"),e.reply={replyTo:null,description:null,settings:null},e.tpl.replyIsOpen=!1})},scrollToBottom:function(e){var t=this;void 0==e&&(e=200),setTimeout(function(){t.$el.scrollTop=t.$el.scrollHeight+t.$el.clientHeight},e)}}}},function(e,t,i){(function(e){"use strict";(function(){var t,i,n,a,s,r,o,l,u=[].slice,c={}.hasOwnProperty,d=function(e,t){function i(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};o=function(){},i=function(){function e(){}return e.prototype.addEventListener=e.prototype.on,e.prototype.on=function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this},e.prototype.emit=function(){var e,t,i,n,a,s;if(n=arguments[0],e=2<=arguments.length?u.call(arguments,1):[],this._callbacks=this._callbacks||{},i=this._callbacks[n])for(a=0,s=i.length;a<s;a++)t=i[a],t.apply(this,e);return this},e.prototype.removeListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.off=function(e,t){var i,n,a,s,r;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(n=this._callbacks[e],!n)return this;if(1===arguments.length)return delete this._callbacks[e],this;for(a=s=0,r=n.length;s<r;a=++s)if(i=n[a],i===t){n.splice(a,1);break}return this},e}(),t=function(e){function t(e,i){var a,s,r;if(this.element=e,this.version=t.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(t.instances.push(this),this.element.dropzone=this,a=null!=(r=t.optionsForElement(this.element))?r:{},this.options=n({},this.defaultOptions,a,null!=i?i:{}),this.options.forceFallback||!t.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(s=this.getExistingFallback())&&s.parentNode&&s.parentNode.removeChild(s),this.options.previewsContainer!==!1&&(this.options.previewsContainer?this.previewsContainer=t.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(this.options.clickable===!0?this.clickableElements=[this.element]:this.clickableElements=t.getElements(this.options.clickable,"clickable")),this.init()}var n,a;return d(t,e),t.prototype.Emitter=i,t.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],t.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(e,t){return t()},init:function(){return o},forceFallback:!1,fallback:function(){var e,i,n,a,s,r;for(this.element.className=""+this.element.className+" dz-browser-not-supported",r=this.element.getElementsByTagName("div"),a=0,s=r.length;a<s;a++)e=r[a],/(^| )dz-message($| )/.test(e.className)&&(i=e,e.className="dz-message");return i||(i=t.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(i)),n=i.getElementsByTagName("span")[0],n&&(null!=n.textContent?n.textContent=this.options.dictFallbackMessage:null!=n.innerText&&(n.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(e){var t,i,n;return t={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},i=e.width/e.height,t.optWidth=this.options.thumbnailWidth,t.optHeight=this.options.thumbnailHeight,null==t.optWidth&&null==t.optHeight?(t.optWidth=t.srcWidth,t.optHeight=t.srcHeight):null==t.optWidth?t.optWidth=i*t.optHeight:null==t.optHeight&&(t.optHeight=1/i*t.optWidth),n=t.optWidth/t.optHeight,e.height<t.optHeight||e.width<t.optWidth?(t.trgHeight=t.srcHeight,t.trgWidth=t.srcWidth):i>n?(t.srcHeight=e.height,t.srcWidth=t.srcHeight*n):(t.srcWidth=e.width,t.srcHeight=t.srcWidth/n),t.srcX=(e.width-t.srcWidth)/2,t.srcY=(e.height-t.srcHeight)/2,t},drop:function(e){return this.element.classList.remove("dz-drag-hover")},dragstart:o,dragend:function(e){return this.element.classList.remove("dz-drag-hover")},dragenter:function(e){return this.element.classList.add("dz-drag-hover")},dragover:function(e){return this.element.classList.add("dz-drag-hover")},dragleave:function(e){return this.element.classList.remove("dz-drag-hover")},paste:o,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var i,n,a,s,r,o,l,u,c,d,p,h,f;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(e.previewElement=t.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement),d=e.previewElement.querySelectorAll("[data-dz-name]"),s=0,l=d.length;s<l;s++)i=d[s],i.textContent=this._renameFilename(e.name);for(p=e.previewElement.querySelectorAll("[data-dz-size]"),r=0,u=p.length;r<u;r++)i=p[r],i.innerHTML=this.filesize(e.size);for(this.options.addRemoveLinks&&(e._removeLink=t.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),e.previewElement.appendChild(e._removeLink)),n=function(i){return function(n){return n.preventDefault(),n.stopPropagation(),e.status===t.UPLOADING?t.confirm(i.options.dictCancelUploadConfirmation,function(){return i.removeFile(e)}):i.options.dictRemoveFileConfirmation?t.confirm(i.options.dictRemoveFileConfirmation,function(){return i.removeFile(e)}):i.removeFile(e)}}(this),h=e.previewElement.querySelectorAll("[data-dz-remove]"),f=[],o=0,c=h.length;o<c;o++)a=h[o],f.push(a.addEventListener("click",n));return f}},removedfile:function(e){var t;return e.previewElement&&null!=(t=e.previewElement)&&t.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){var i,n,a,s;if(e.previewElement){for(e.previewElement.classList.remove("dz-file-preview"),s=e.previewElement.querySelectorAll("[data-dz-thumbnail]"),n=0,a=s.length;n<a;n++)i=s[n],i.alt=e.name,i.src=t;return setTimeout(function(t){return function(){return e.previewElement.classList.add("dz-image-preview")}}(this),1)}},error:function(e,t){var i,n,a,s,r;if(e.previewElement){for(e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error),s=e.previewElement.querySelectorAll("[data-dz-errormessage]"),r=[],n=0,a=s.length;n<a;n++)i=s[n],r.push(i.textContent=t);return r}},errormultiple:o,processing:function(e){if(e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink))return e._removeLink.textContent=this.options.dictCancelUpload},processingmultiple:o,uploadprogress:function(e,t,i){var n,a,s,r,o;if(e.previewElement){for(r=e.previewElement.querySelectorAll("[data-dz-uploadprogress]"),o=[],a=0,s=r.length;a<s;a++)n=r[a],"PROGRESS"===n.nodeName?o.push(n.value=t):o.push(n.style.width=""+t+"%");return o}},totaluploadprogress:o,sending:o,sendingmultiple:o,success:function(e){if(e.previewElement)return e.previewElement.classList.add("dz-success")},successmultiple:o,canceled:function(e){return this.emit("error",e,"Upload canceled.")},canceledmultiple:o,complete:function(e){if(e._removeLink&&(e._removeLink.textContent=this.options.dictRemoveFile),e.previewElement)return e.previewElement.classList.add("dz-complete")},completemultiple:o,maxfilesexceeded:o,maxfilesreached:o,queuecomplete:o,addedfiles:o,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'},n=function(){var e,t,i,n,a,s,r;for(n=arguments[0],i=2<=arguments.length?u.call(arguments,1):[],s=0,r=i.length;s<r;s++){t=i[s];for(e in t)a=t[e],n[e]=a}return n},t.prototype.getAcceptedFiles=function(){var e,t,i,n,a;for(n=this.files,a=[],t=0,i=n.length;t<i;t++)e=n[t],e.accepted&&a.push(e);return a},t.prototype.getRejectedFiles=function(){var e,t,i,n,a;for(n=this.files,a=[],t=0,i=n.length;t<i;t++)e=n[t],e.accepted||a.push(e);return a},t.prototype.getFilesWithStatus=function(e){var t,i,n,a,s;for(a=this.files,s=[],i=0,n=a.length;i<n;i++)t=a[i],t.status===e&&s.push(t);return s},t.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(t.QUEUED)},t.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(t.UPLOADING)},t.prototype.getAddedFiles=function(){return this.getFilesWithStatus(t.ADDED)},t.prototype.getActiveFiles=function(){var e,i,n,a,s;for(a=this.files,s=[],i=0,n=a.length;i<n;i++)e=a[i],e.status!==t.UPLOADING&&e.status!==t.QUEUED||s.push(e);return s},t.prototype.init=function(){var e,i,n,a,s,r,o;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(t.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(n=function(e){return function(){return e.hiddenFileInput&&e.hiddenFileInput.parentNode.removeChild(e.hiddenFileInput),e.hiddenFileInput=document.createElement("input"),e.hiddenFileInput.setAttribute("type","file"),(null==e.options.maxFiles||e.options.maxFiles>1)&&e.hiddenFileInput.setAttribute("multiple","multiple"),e.hiddenFileInput.className="dz-hidden-input",null!=e.options.acceptedFiles&&e.hiddenFileInput.setAttribute("accept",e.options.acceptedFiles),null!=e.options.capture&&e.hiddenFileInput.setAttribute("capture",e.options.capture),e.hiddenFileInput.style.visibility="hidden",e.hiddenFileInput.style.position="absolute",e.hiddenFileInput.style.top="0",e.hiddenFileInput.style.left="0",e.hiddenFileInput.style.height="0",e.hiddenFileInput.style.width="0",document.querySelector(e.options.hiddenInputContainer).appendChild(e.hiddenFileInput),e.hiddenFileInput.addEventListener("change",function(){var t,i,a,s;if(i=e.hiddenFileInput.files,i.length)for(a=0,s=i.length;a<s;a++)t=i[a],e.addFile(t);return e.emit("addedfiles",i),n()})}}(this))(),this.URL=null!=(r=window.URL)?r:window.webkitURL,o=this.events,a=0,s=o.length;a<s;a++)e=o[a],this.on(e,this.options[e]);return this.on("uploadprogress",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("canceled",function(e){return function(t){return e.emit("complete",t)}}(this)),this.on("complete",function(e){return function(t){if(0===e.getAddedFiles().length&&0===e.getUploadingFiles().length&&0===e.getQueuedFiles().length)return setTimeout(function(){return e.emit("queuecomplete")},0)}}(this)),i=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(e){return function(t){return e.emit("dragstart",t)}}(this),dragenter:function(e){return function(t){return i(t),e.emit("dragenter",t)}}(this),dragover:function(e){return function(t){var n;try{n=t.dataTransfer.effectAllowed}catch(e){}return t.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy",i(t),e.emit("dragover",t)}}(this),dragleave:function(e){return function(t){return e.emit("dragleave",t)}}(this),drop:function(e){return function(t){return i(t),e.drop(t)}}(this),dragend:function(e){return function(t){return e.emit("dragend",t)}}(this)}}],this.clickableElements.forEach(function(e){return function(i){return e.listeners.push({element:i,events:{click:function(n){return(i!==e.element||n.target===e.element||t.elementInside(n.target,e.element.querySelector(".dz-message")))&&e.hiddenFileInput.click(),!0}}})}}(this)),this.enable(),this.options.init.call(this)},t.prototype.destroy=function(){var e;return this.disable(),this.removeAllFiles(!0),(null!=(e=this.hiddenFileInput)?e.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,t.instances.splice(t.instances.indexOf(this),1)},t.prototype.updateTotalUploadProgress=function(){var e,t,i,n,a,s,r,o;if(n=0,i=0,e=this.getActiveFiles(),e.length){for(o=this.getActiveFiles(),s=0,r=o.length;s<r;s++)t=o[s],n+=t.upload.bytesSent,i+=t.upload.total;a=100*n/i}else a=100;return this.emit("totaluploadprogress",a,i,n)},t.prototype._getParamName=function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):""+this.options.paramName+(this.options.uploadMultiple?"["+e+"]":"")},t.prototype._renameFilename=function(e){return"function"!=typeof this.options.renameFilename?e:this.options.renameFilename(e)},t.prototype.getFallbackForm=function(){var e,i,n,a;return(e=this.getExistingFallback())?e:(n='<div class="dz-fallback">',this.options.dictFallbackText&&(n+="<p>"+this.options.dictFallbackText+"</p>"),n+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',i=t.createElement(n),"FORM"!==this.element.tagName?(a=t.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),a.appendChild(i)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=a?a:i)},t.prototype.getExistingFallback=function(){var e,t,i,n,a,s;for(t=function(e){var t,i,n;for(i=0,n=e.length;i<n;i++)if(t=e[i],/(^| )fallback($| )/.test(t.className))return t},s=["div","form"],n=0,a=s.length;n<a;n++)if(i=s[n],e=t(this.element.getElementsByTagName(i)))return e},t.prototype.setupEventListeners=function(){var e,t,i,n,a,s,r;for(s=this.listeners,r=[],n=0,a=s.length;n<a;n++)e=s[n],r.push(function(){var n,a;n=e.events,a=[];for(t in n)i=n[t],a.push(e.element.addEventListener(t,i,!1));return a}());return r},t.prototype.removeEventListeners=function(){var e,t,i,n,a,s,r;for(s=this.listeners,r=[],n=0,a=s.length;n<a;n++)e=s[n],r.push(function(){var n,a;n=e.events,a=[];for(t in n)i=n[t],a.push(e.element.removeEventListener(t,i,!1));return a}());return r},t.prototype.disable=function(){var e,t,i,n,a;for(this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")}),this.removeEventListeners(),n=this.files,a=[],t=0,i=n.length;t<i;t++)e=n[t],a.push(this.cancelUpload(e));return a},t.prototype.enable=function(){return this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")}),this.setupEventListeners()},t.prototype.filesize=function(e){var t,i,n,a,s,r,o,l;if(n=0,a="b",e>0){for(r=["TB","GB","MB","KB","b"],i=o=0,l=r.length;o<l;i=++o)if(s=r[i],t=Math.pow(this.options.filesizeBase,4-i)/10,e>=t){n=e/Math.pow(this.options.filesizeBase,4-i),a=s;break}n=Math.round(10*n)/10}return"<strong>"+n+"</strong> "+a},t.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},t.prototype.drop=function(e){var t,i;e.dataTransfer&&(this.emit("drop",e),t=e.dataTransfer.files,this.emit("addedfiles",t),t.length&&(i=e.dataTransfer.items,i&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(t)))},t.prototype.paste=function(e){var t,i;if(null!=(null!=e&&null!=(i=e.clipboardData)?i.items:void 0))return this.emit("paste",e),t=e.clipboardData.items,t.length?this._addFilesFromItems(t):void 0},t.prototype.handleFiles=function(e){var t,i,n,a;for(a=[],i=0,n=e.length;i<n;i++)t=e[i],a.push(this.addFile(t));return a},t.prototype._addFilesFromItems=function(e){var t,i,n,a,s;for(s=[],n=0,a=e.length;n<a;n++)i=e[n],null!=i.webkitGetAsEntry&&(t=i.webkitGetAsEntry())?t.isFile?s.push(this.addFile(i.getAsFile())):t.isDirectory?s.push(this._addFilesFromDirectory(t,t.name)):s.push(void 0):null!=i.getAsFile&&(null==i.kind||"file"===i.kind)?s.push(this.addFile(i.getAsFile())):s.push(void 0);return s},t.prototype._addFilesFromDirectory=function(e,t){var i,n,a;return i=e.createReader(),n=function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(e):void 0},(a=function(e){return function(){return i.readEntries(function(i){var n,s,r;if(i.length>0){for(s=0,r=i.length;s<r;s++)n=i[s],n.isFile?n.file(function(i){if(!e.options.ignoreHiddenFiles||"."!==i.name.substring(0,1))return i.fullPath=""+t+"/"+i.name,e.addFile(i)}):n.isDirectory&&e._addFilesFromDirectory(n,""+t+"/"+n.name);a()}return null},n)}}(this))()},t.prototype.accept=function(e,i){return e.size>1024*this.options.maxFilesize*1024?i(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):t.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(i(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,i):i(this.options.dictInvalidFileType)},t.prototype.addFile=function(e){return e.upload={progress:0,total:e.size,bytesSent:0},this.files.push(e),e.status=t.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,function(t){return function(i){return i?(e.accepted=!1,t._errorProcessing([e],i)):(e.accepted=!0,t.options.autoQueue&&t.enqueueFile(e)),t._updateMaxFilesReachedClass()}}(this))},t.prototype.enqueueFiles=function(e){var t,i,n;for(i=0,n=e.length;i<n;i++)t=e[i],this.enqueueFile(t);return null},t.prototype.enqueueFile=function(e){if(e.status!==t.ADDED||e.accepted!==!0)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(e.status=t.QUEUED,this.options.autoProcessQueue)return setTimeout(function(e){return function(){return e.processQueue()}}(this),0)},t.prototype._thumbnailQueue=[],t.prototype._processingThumbnail=!1,t.prototype._enqueueThumbnail=function(e){if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(e),setTimeout(function(e){return function(){return e._processThumbnailQueue()}}(this),0)},t.prototype._processThumbnailQueue=function(){if(!this._processingThumbnail&&0!==this._thumbnailQueue.length)return this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(e){return function(){return e._processingThumbnail=!1,e._processThumbnailQueue()}}(this))},t.prototype.removeFile=function(e){if(e.status===t.UPLOADING&&this.cancelUpload(e),this.files=l(this.files,e),this.emit("removedfile",e),0===this.files.length)return this.emit("reset")},t.prototype.removeAllFiles=function(e){var i,n,a,s;for(null==e&&(e=!1),s=this.files.slice(),n=0,a=s.length;n<a;n++)i=s[n],(i.status!==t.UPLOADING||e)&&this.removeFile(i);return null},t.prototype.createThumbnail=function(e,t){var i;return i=new FileReader,i.onload=function(n){return function(){return"image/svg+xml"===e.type?(n.emit("thumbnail",e,i.result),void(null!=t&&t())):n.createThumbnailFromUrl(e,i.result,t)}}(this),i.readAsDataURL(e)},t.prototype.createThumbnailFromUrl=function(e,t,i,n){var a;return a=document.createElement("img"),n&&(a.crossOrigin=n),a.onload=function(t){return function(){var n,s,o,l,u,c,d,p;if(e.width=a.width,e.height=a.height,o=t.options.resize.call(t,e),null==o.trgWidth&&(o.trgWidth=o.optWidth),null==o.trgHeight&&(o.trgHeight=o.optHeight),n=document.createElement("canvas"),s=n.getContext("2d"),n.width=o.trgWidth,n.height=o.trgHeight,r(s,a,null!=(u=o.srcX)?u:0,null!=(c=o.srcY)?c:0,o.srcWidth,o.srcHeight,null!=(d=o.trgX)?d:0,null!=(p=o.trgY)?p:0,o.trgWidth,o.trgHeight),l=n.toDataURL("image/png"),t.emit("thumbnail",e,l),null!=i)return i()}}(this),null!=i&&(a.onerror=i),a.src=t},t.prototype.processQueue=function(){var e,t,i,n;if(t=this.options.parallelUploads,i=this.getUploadingFiles().length,e=i,!(i>=t)&&(n=this.getQueuedFiles(),n.length>0)){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,t-i));for(;e<t;){if(!n.length)return;this.processFile(n.shift()),e++}}},t.prototype.processFile=function(e){return this.processFiles([e])},t.prototype.processFiles=function(e){var i,n,a;for(n=0,a=e.length;n<a;n++)i=e[n],i.processing=!0,i.status=t.UPLOADING,this.emit("processing",i);return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)},t.prototype._getFilesWithXhr=function(e){var t,i;return i=function(){var i,n,a,s;for(a=this.files,s=[],i=0,n=a.length;i<n;i++)t=a[i],t.xhr===e&&s.push(t);return s}.call(this)},t.prototype.cancelUpload=function(e){var i,n,a,s,r,o,l;if(e.status===t.UPLOADING){for(n=this._getFilesWithXhr(e.xhr),a=0,r=n.length;a<r;a++)i=n[a],i.status=t.CANCELED;for(e.xhr.abort(),s=0,o=n.length;s<o;s++)i=n[s],this.emit("canceled",i);this.options.uploadMultiple&&this.emit("canceledmultiple",n)}else(l=e.status)!==t.ADDED&&l!==t.QUEUED||(e.status=t.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()},a=function(){var e,t;return t=arguments[0],e=2<=arguments.length?u.call(arguments,1):[],"function"==typeof t?t.apply(this,e):t},t.prototype.uploadFile=function(e){return this.uploadFiles([e])},t.prototype.uploadFiles=function(e){var i,s,r,o,l,u,c,d,p,h,f,v,m,g,_,w,b,y,C,k,x,A,M,P,E,I,L,N,R,S,F,T,$,O;for(C=new XMLHttpRequest,k=0,P=e.length;k<P;k++)i=e[k],i.xhr=C;v=a(this.options.method,e),b=a(this.options.url,e),C.open(v,b,!0),C.withCredentials=!!this.options.withCredentials,_=null,r=function(t){return function(){var n,a,s;for(s=[],n=0,a=e.length;n<a;n++)i=e[n],s.push(t._errorProcessing(e,_||t.options.dictResponseError.replace("{{statusCode}}",C.status),C));return s}}(this),w=function(t){return function(n){var a,s,r,o,l,u,c,d,p;if(null!=n)for(s=100*n.loaded/n.total,r=0,u=e.length;r<u;r++)i=e[r],i.upload={progress:s,total:n.total,bytesSent:n.loaded};else{for(a=!0,s=100,o=0,c=e.length;o<c;o++)i=e[o],100===i.upload.progress&&i.upload.bytesSent===i.upload.total||(a=!1),i.upload.progress=s,i.upload.bytesSent=i.upload.total;if(a)return}for(p=[],l=0,d=e.length;l<d;l++)i=e[l],p.push(t.emit("uploadprogress",i,s,i.upload.bytesSent));return p}}(this),C.onload=function(i){return function(n){var a;if(e[0].status!==t.CANCELED&&4===C.readyState){if(_=C.responseText,C.getResponseHeader("content-type")&&~C.getResponseHeader("content-type").indexOf("application/json"))try{_=JSON.parse(_)}catch(e){n=e,_="Invalid JSON response from server."}return w(),200<=(a=C.status)&&a<300?i._finished(e,_,n):r()}}}(this),C.onerror=function(i){return function(){if(e[0].status!==t.CANCELED)return r()}}(this),g=null!=(R=C.upload)?R:C,g.onprogress=w,u={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&n(u,this.options.headers);for(o in u)l=u[o],l&&C.setRequestHeader(o,l);if(s=new FormData,this.options.params){S=this.options.params;for(f in S)y=S[f],s.append(f,y)}for(x=0,E=e.length;x<E;x++)i=e[x],this.emit("sending",i,C,s);if(this.options.uploadMultiple&&this.emit("sendingmultiple",e,C,s),"FORM"===this.element.tagName)for(F=this.element.querySelectorAll("input, textarea, select, button"),A=0,I=F.length;A<I;A++)if(d=F[A],p=d.getAttribute("name"),h=d.getAttribute("type"),"SELECT"===d.tagName&&d.hasAttribute("multiple"))for(T=d.options,M=0,L=T.length;M<L;M++)m=T[M],m.selected&&s.append(p,m.value);else(!h||"checkbox"!==($=h.toLowerCase())&&"radio"!==$||d.checked)&&s.append(p,d.value);for(c=N=0,O=e.length-1;0<=O?N<=O:N>=O;c=0<=O?++N:--N)s.append(this._getParamName(c),e[c],this._renameFilename(e[c].name));return this.submitRequest(C,s,e)},t.prototype.submitRequest=function(e,t,i){return e.send(t)},t.prototype._finished=function(e,i,n){var a,s,r;for(s=0,r=e.length;s<r;s++)a=e[s],a.status=t.SUCCESS,this.emit("success",a,i,n),this.emit("complete",a);if(this.options.uploadMultiple&&(this.emit("successmultiple",e,i,n),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()},t.prototype._errorProcessing=function(e,i,n){var a,s,r;for(s=0,r=e.length;s<r;s++)a=e[s],a.status=t.ERROR,this.emit("error",a,i,n),this.emit("complete",a);if(this.options.uploadMultiple&&(this.emit("errormultiple",e,i,n),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()},t}(i),t.version="4.3.0",t.options={},t.optionsForElement=function(e){return e.getAttribute("id")?t.options[n(e.getAttribute("id"))]:void 0},t.instances=[],t.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},t.autoDiscover=!0,t.discover=function(){var e,i,n,a,s,r;for(document.querySelectorAll?n=document.querySelectorAll(".dropzone"):(n=[],e=function(e){var t,i,a,s;for(s=[],i=0,a=e.length;i<a;i++)t=e[i],/(^| )dropzone($| )/.test(t.className)?s.push(n.push(t)):s.push(void 0);return s},e(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))),r=[],a=0,s=n.length;a<s;a++)i=n[a],t.optionsForElement(i)!==!1?r.push(new t(i)):r.push(void 0);return r},t.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],t.isBrowserSupported=function(){var e,i,n,a,s;if(e=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(s=t.blacklistedBrowsers,n=0,a=s.length;n<a;n++)i=s[n],i.test(navigator.userAgent)&&(e=!1);else e=!1;else e=!1;return e},l=function(e,t){var i,n,a,s;for(s=[],n=0,a=e.length;n<a;n++)i=e[n],i!==t&&s.push(i);return s},n=function(e){return e.replace(/[\-_](\w)/g,function(e){return e.charAt(1).toUpperCase()})},t.createElement=function(e){var t;return t=document.createElement("div"),t.innerHTML=e,t.childNodes[0]},t.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},t.getElement=function(e,t){var i;if("string"==typeof e?i=document.querySelector(e):null!=e.nodeType&&(i=e),null==i)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return i},t.getElements=function(e,t){var i,n,a,s,r,o,l,u;if(e instanceof Array){a=[];try{for(s=0,o=e.length;s<o;s++)n=e[s],a.push(this.getElement(n,t))}catch(e){i=e,a=null}}else if("string"==typeof e)for(a=[],u=document.querySelectorAll(e),r=0,l=u.length;r<l;r++)n=u[r],a.push(n);else null!=e.nodeType&&(a=[e]);if(null==a||!a.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");
return a},t.confirm=function(e,t,i){return window.confirm(e)?t():null!=i?i():void 0},t.isValidFile=function(e,t){var i,n,a,s,r;if(!t)return!0;for(t=t.split(","),n=e.type,i=n.replace(/\/.*$/,""),s=0,r=t.length;s<r;s++)if(a=t[s],a=a.trim(),"."===a.charAt(0)){if(e.name.toLowerCase().indexOf(a.toLowerCase(),e.name.length-a.length)!==-1)return!0}else if(/\/\*$/.test(a)){if(i===a.replace(/\/.*$/,""))return!0}else if(n===a)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(e){return this.each(function(){return new t(this,e)})}),"undefined"!=typeof e&&null!==e?e.exports=t:window.Dropzone=t,t.ADDED="added",t.QUEUED="queued",t.ACCEPTED=t.QUEUED,t.UPLOADING="uploading",t.PROCESSING=t.UPLOADING,t.CANCELED="canceled",t.ERROR="error",t.SUCCESS="success",s=function(e){var t,i,n,a,s,r,o,l,u,c;for(o=e.naturalWidth,r=e.naturalHeight,i=document.createElement("canvas"),i.width=1,i.height=r,n=i.getContext("2d"),n.drawImage(e,0,0),a=n.getImageData(0,0,1,r).data,c=0,s=r,l=r;l>c;)t=a[4*(l-1)+3],0===t?s=l:c=l,l=s+c>>1;return u=l/r,0===u?1:u},r=function(e,t,i,n,a,r,o,l,u,c){var d;return d=s(t),e.drawImage(t,i,n,a,r,o,l,u,c/d)},a=function(e,t){var i,n,a,s,r,o,l,u,c;if(a=!1,c=!0,n=e.document,u=n.documentElement,i=n.addEventListener?"addEventListener":"attachEvent",l=n.addEventListener?"removeEventListener":"detachEvent",o=n.addEventListener?"":"on",s=function(i){if("readystatechange"!==i.type||"complete"===n.readyState)return("load"===i.type?e:n)[l](o+i.type,s,!1),!a&&(a=!0)?t.call(e,i.type||i):void 0},r=function(){var e;try{u.doScroll("left")}catch(t){return e=t,void setTimeout(r,50)}return s("poll")},"complete"!==n.readyState){if(n.createEventObject&&u.doScroll){try{c=!e.frameElement}catch(e){}c&&r()}return n[i](o+"DOMContentLoaded",s,!1),n[i](o+"readystatechange",s,!1),e[i](o+"load",s,!1)}},t._autoDiscoverFunction=function(){if(t.autoDiscover)return t.discover()},a(window,t._autoDiscoverFunction)}).call(void 0)}).call(t,i(36)(e))},function(e,t,i){var n,a,s;!function(i,r){a=[],n=r,s="function"==typeof n?n.apply(t,a):n,!(void 0!==s&&(e.exports=s))}(void 0,function(){function e(e){if(!e.qrcode){var t=function(e,t){this.count=e,this._fc=t,this.__defineGetter__("Count",function(){return this.count}),this.__defineGetter__("_dm",function(){return this._fc})},i=function(e,t,i){this._bm=e,i?this._do=new Array(t,i):this._do=new Array(t),this.__defineGetter__("_bo",function(){return this._bm}),this.__defineGetter__("_dn",function(){return this._bm*this._fo}),this.__defineGetter__("_fo",function(){for(var e=0,t=0;t<this._do.length;t++)e+=this._do[t].length;return e}),this._fb=function(){return this._do}},n=function(e,t,i,n,a,s){this._bs=e,this._ar=t,this._do=new Array(i,n,a,s);for(var r=0,o=i._bo,l=i._fb(),u=0;u<l.length;u++){var d=l[u];r+=d.Count*(d._dm+o)}this._br=r,this.__defineGetter__("_fd",function(){return this._bs}),this.__defineGetter__("_as",function(){return this._ar}),this.__defineGetter__("_dp",function(){return this._br}),this.__defineGetter__("_cr",function(){return 17+4*this._bs}),this._aq=function(){var e=this._cr,t=new c(e);t._bq(0,0,9,9),t._bq(e-8,0,8,9),t._bq(0,e-8,9,8);for(var i=this._ar.length,n=0;n<i;n++)for(var a=this._ar[n]-2,s=0;s<i;s++)0==n&&(0==s||s==i-1)||n==i-1&&0==s||t._bq(this._ar[s]-2,a,5,5);return t._bq(6,9,1,e-17),t._bq(9,6,e-17,1),this._bs>6&&(t._bq(e-11,0,3,6),t._bq(0,e-11,6,3)),t},this._bu=function(e){return this._do[e.ordinal()]}},a=function(){return new Array(new n(1,new Array,new i(7,new t(1,19)),new i(10,new t(1,16)),new i(13,new t(1,13)),new i(17,new t(1,9))),new n(2,new Array(6,18),new i(10,new t(1,34)),new i(16,new t(1,28)),new i(22,new t(1,22)),new i(28,new t(1,16))),new n(3,new Array(6,22),new i(15,new t(1,55)),new i(26,new t(1,44)),new i(18,new t(2,17)),new i(22,new t(2,13))),new n(4,new Array(6,26),new i(20,new t(1,80)),new i(18,new t(2,32)),new i(26,new t(2,24)),new i(16,new t(4,9))),new n(5,new Array(6,30),new i(26,new t(1,108)),new i(24,new t(2,43)),new i(18,new t(2,15),new t(2,16)),new i(22,new t(2,11),new t(2,12))),new n(6,new Array(6,34),new i(18,new t(2,68)),new i(16,new t(4,27)),new i(24,new t(4,19)),new i(28,new t(4,15))),new n(7,new Array(6,22,38),new i(20,new t(2,78)),new i(18,new t(4,31)),new i(18,new t(2,14),new t(4,15)),new i(26,new t(4,13),new t(1,14))),new n(8,new Array(6,24,42),new i(24,new t(2,97)),new i(22,new t(2,38),new t(2,39)),new i(22,new t(4,18),new t(2,19)),new i(26,new t(4,14),new t(2,15))),new n(9,new Array(6,26,46),new i(30,new t(2,116)),new i(22,new t(3,36),new t(2,37)),new i(20,new t(4,16),new t(4,17)),new i(24,new t(4,12),new t(4,13))),new n(10,new Array(6,28,50),new i(18,new t(2,68),new t(2,69)),new i(26,new t(4,43),new t(1,44)),new i(24,new t(6,19),new t(2,20)),new i(28,new t(6,15),new t(2,16))),new n(11,new Array(6,30,54),new i(20,new t(4,81)),new i(30,new t(1,50),new t(4,51)),new i(28,new t(4,22),new t(4,23)),new i(24,new t(3,12),new t(8,13))),new n(12,new Array(6,32,58),new i(24,new t(2,92),new t(2,93)),new i(22,new t(6,36),new t(2,37)),new i(26,new t(4,20),new t(6,21)),new i(28,new t(7,14),new t(4,15))),new n(13,new Array(6,34,62),new i(26,new t(4,107)),new i(22,new t(8,37),new t(1,38)),new i(24,new t(8,20),new t(4,21)),new i(22,new t(12,11),new t(4,12))),new n(14,new Array(6,26,46,66),new i(30,new t(3,115),new t(1,116)),new i(24,new t(4,40),new t(5,41)),new i(20,new t(11,16),new t(5,17)),new i(24,new t(11,12),new t(5,13))),new n(15,new Array(6,26,48,70),new i(22,new t(5,87),new t(1,88)),new i(24,new t(5,41),new t(5,42)),new i(30,new t(5,24),new t(7,25)),new i(24,new t(11,12),new t(7,13))),new n(16,new Array(6,26,50,74),new i(24,new t(5,98),new t(1,99)),new i(28,new t(7,45),new t(3,46)),new i(24,new t(15,19),new t(2,20)),new i(30,new t(3,15),new t(13,16))),new n(17,new Array(6,30,54,78),new i(28,new t(1,107),new t(5,108)),new i(28,new t(10,46),new t(1,47)),new i(28,new t(1,22),new t(15,23)),new i(28,new t(2,14),new t(17,15))),new n(18,new Array(6,30,56,82),new i(30,new t(5,120),new t(1,121)),new i(26,new t(9,43),new t(4,44)),new i(28,new t(17,22),new t(1,23)),new i(28,new t(2,14),new t(19,15))),new n(19,new Array(6,30,58,86),new i(28,new t(3,113),new t(4,114)),new i(26,new t(3,44),new t(11,45)),new i(26,new t(17,21),new t(4,22)),new i(26,new t(9,13),new t(16,14))),new n(20,new Array(6,34,62,90),new i(28,new t(3,107),new t(5,108)),new i(26,new t(3,41),new t(13,42)),new i(30,new t(15,24),new t(5,25)),new i(28,new t(15,15),new t(10,16))),new n(21,new Array(6,28,50,72,94),new i(28,new t(4,116),new t(4,117)),new i(26,new t(17,42)),new i(28,new t(17,22),new t(6,23)),new i(30,new t(19,16),new t(6,17))),new n(22,new Array(6,26,50,74,98),new i(28,new t(2,111),new t(7,112)),new i(28,new t(17,46)),new i(30,new t(7,24),new t(16,25)),new i(24,new t(34,13))),new n(23,new Array(6,30,54,74,102),new i(30,new t(4,121),new t(5,122)),new i(28,new t(4,47),new t(14,48)),new i(30,new t(11,24),new t(14,25)),new i(30,new t(16,15),new t(14,16))),new n(24,new Array(6,28,54,80,106),new i(30,new t(6,117),new t(4,118)),new i(28,new t(6,45),new t(14,46)),new i(30,new t(11,24),new t(16,25)),new i(30,new t(30,16),new t(2,17))),new n(25,new Array(6,32,58,84,110),new i(26,new t(8,106),new t(4,107)),new i(28,new t(8,47),new t(13,48)),new i(30,new t(7,24),new t(22,25)),new i(30,new t(22,15),new t(13,16))),new n(26,new Array(6,30,58,86,114),new i(28,new t(10,114),new t(2,115)),new i(28,new t(19,46),new t(4,47)),new i(28,new t(28,22),new t(6,23)),new i(30,new t(33,16),new t(4,17))),new n(27,new Array(6,34,62,90,118),new i(30,new t(8,122),new t(4,123)),new i(28,new t(22,45),new t(3,46)),new i(30,new t(8,23),new t(26,24)),new i(30,new t(12,15),new t(28,16))),new n(28,new Array(6,26,50,74,98,122),new i(30,new t(3,117),new t(10,118)),new i(28,new t(3,45),new t(23,46)),new i(30,new t(4,24),new t(31,25)),new i(30,new t(11,15),new t(31,16))),new n(29,new Array(6,30,54,78,102,126),new i(30,new t(7,116),new t(7,117)),new i(28,new t(21,45),new t(7,46)),new i(30,new t(1,23),new t(37,24)),new i(30,new t(19,15),new t(26,16))),new n(30,new Array(6,26,52,78,104,130),new i(30,new t(5,115),new t(10,116)),new i(28,new t(19,47),new t(10,48)),new i(30,new t(15,24),new t(25,25)),new i(30,new t(23,15),new t(25,16))),new n(31,new Array(6,30,56,82,108,134),new i(30,new t(13,115),new t(3,116)),new i(28,new t(2,46),new t(29,47)),new i(30,new t(42,24),new t(1,25)),new i(30,new t(23,15),new t(28,16))),new n(32,new Array(6,34,60,86,112,138),new i(30,new t(17,115)),new i(28,new t(10,46),new t(23,47)),new i(30,new t(10,24),new t(35,25)),new i(30,new t(19,15),new t(35,16))),new n(33,new Array(6,30,58,86,114,142),new i(30,new t(17,115),new t(1,116)),new i(28,new t(14,46),new t(21,47)),new i(30,new t(29,24),new t(19,25)),new i(30,new t(11,15),new t(46,16))),new n(34,new Array(6,34,62,90,118,146),new i(30,new t(13,115),new t(6,116)),new i(28,new t(14,46),new t(23,47)),new i(30,new t(44,24),new t(7,25)),new i(30,new t(59,16),new t(1,17))),new n(35,new Array(6,30,54,78,102,126,150),new i(30,new t(12,121),new t(7,122)),new i(28,new t(12,47),new t(26,48)),new i(30,new t(39,24),new t(14,25)),new i(30,new t(22,15),new t(41,16))),new n(36,new Array(6,24,50,76,102,128,154),new i(30,new t(6,121),new t(14,122)),new i(28,new t(6,47),new t(34,48)),new i(30,new t(46,24),new t(10,25)),new i(30,new t(2,15),new t(64,16))),new n(37,new Array(6,28,54,80,106,132,158),new i(30,new t(17,122),new t(4,123)),new i(28,new t(29,46),new t(14,47)),new i(30,new t(49,24),new t(10,25)),new i(30,new t(24,15),new t(46,16))),new n(38,new Array(6,32,58,84,110,136,162),new i(30,new t(4,122),new t(18,123)),new i(28,new t(13,46),new t(32,47)),new i(30,new t(48,24),new t(14,25)),new i(30,new t(42,15),new t(32,16))),new n(39,new Array(6,26,54,82,110,138,166),new i(30,new t(20,117),new t(4,118)),new i(28,new t(40,47),new t(7,48)),new i(30,new t(43,24),new t(22,25)),new i(30,new t(10,15),new t(67,16))),new n(40,new Array(6,30,58,86,114,142,170),new i(30,new t(19,118),new t(6,119)),new i(28,new t(18,47),new t(31,48)),new i(30,new t(34,24),new t(34,25)),new i(30,new t(20,15),new t(61,16))))},s=function e(t,i,n,a,s,r,o,l,u){this.a11=t,this.a12=a,this.a13=o,this.a21=i,this.a22=s,this.a23=l,this.a31=n,this.a32=r,this.a33=u,this._ad=function(e){for(var t=e.length,i=this.a11,n=this.a12,a=this.a13,s=this.a21,r=this.a22,o=this.a23,l=this.a31,u=this.a32,c=this.a33,d=0;d<t;d+=2){var p=e[d],h=e[d+1],f=a*p+o*h+c;e[d]=(i*p+s*h+l)/f,e[d+1]=(n*p+r*h+u)/f}},this._fp=function(e,t){for(var i=e.length,n=0;n<i;n++){var a=e[n],s=t[n],r=this.a13*a+this.a23*s+this.a33;e[n]=(this.a11*a+this.a21*s+this.a31)/r,t[n]=(this.a12*a+this.a22*s+this.a32)/r}},this._fr=function(){return new e(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},this.times=function(t){return new e(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}},r=function(e,t){this.bits=e,this.points=t},o=function(e){this.image=e,this._am=null,this._bi=function(e,t,i,n){var a=Math.abs(n-t)>Math.abs(i-e);if(a){var s=e;e=t,t=s,s=i,i=n,n=s}for(var r=Math.abs(i-e),o=Math.abs(n-t),l=-r>>1,u=t<n?1:-1,c=e<i?1:-1,d=0,p=e,h=t;p!=i;p+=c){var f=a?h:p,v=a?p:h;if(1==d?this.image[f+v*B.width]&&d++:this.image[f+v*B.width]||d++,3==d){var m=p-e,g=h-t;return Math.sqrt(m*m+g*g)}if(l+=o,l>0){if(h==n)break;h+=u,l-=r}}var _=i-e,w=n-t;return Math.sqrt(_*_+w*w)},this._bh=function(e,t,i,n){var a=this._bi(e,t,i,n),s=1,r=e-(i-e);r<0?(s=e/(e-r),r=0):r>=B.width&&(s=(B.width-1-e)/(r-e),r=B.width-1);var o=Math.floor(t-(n-t)*s);return s=1,o<0?(s=t/(t-o),o=0):o>=B.height&&(s=(B.height-1-t)/(o-t),o=B.height-1),r=Math.floor(e+(r-e)*s),a+=this._bi(e,t,r,o),a-1},this._bj=function(e,t){var i=this._bh(Math.floor(e.X),Math.floor(e.Y),Math.floor(t.X),Math.floor(t.Y)),n=this._bh(Math.floor(t.X),Math.floor(t.Y),Math.floor(e.X),Math.floor(e.Y));return isNaN(i)?n/7:isNaN(n)?i/7:(i+n)/14},this._bk=function(e,t,i){return(this._bj(e,t)+this._bj(e,i))/2},this.distance=function(e,t){var i=e.X-t.X,n=e.Y-t.Y;return Math.sqrt(i*i+n*n)},this._bx=function(e,t,i,n){var a=Math.round(this.distance(e,t)/n),s=Math.round(this.distance(e,i)/n),r=(a+s>>1)+7;switch(3&r){case 0:r++;break;case 2:r--;break;case 3:throw"Error"}return r},this._bl=function(e,t,i,n){var a=Math.floor(n*e),s=Math.max(0,t-a),r=Math.min(B.width-1,t+a);if(r-s<3*e)throw"Error";var o=Math.max(0,i-a),l=Math.min(B.height-1,i+a),u=new I(this.image,s,o,r-s,l-o,e,this._am);return u.find()},this.createTransform=function(e,t,i,n,a){var r,o,l,u,c=a-3.5;null!=n?(r=n.X,o=n.Y,l=u=c-3):(r=t.X-e.X+i.X,o=t.Y-e.Y+i.Y,l=u=c);var d=s._ag(3.5,3.5,c,3.5,l,u,3.5,c,e.X,e.Y,t.X,t.Y,r,o,i.X,i.Y);return d},this._bz=function(e,t,i){var n=N;return n._af(e,i,t)},this._cd=function(e){var t=e._gq,i=e._gs,a=e._gp,s=this._bk(t,i,a);if(s<1)throw"Error";var o=this._bx(t,i,a,s),l=n._at(o),u=l._cr-7,c=null;if(l._as.length>0)for(var d=i.X-t.X+a.X,p=i.Y-t.Y+a.Y,h=1-3/u,f=Math.floor(t.X+h*(d-t.X)),v=Math.floor(t.Y+h*(p-t.Y)),m=4;m<=16;m<<=1){c=this._bl(s,f,v,m);break}var g,_=this.createTransform(t,i,a,c,o),w=this._bz(this.image,_,o);return g=null==c?new Array(a,t,i):new Array(a,t,i,c),new r(w,g)},this.detect=function(){var e=(new P)._ce(this.image);return this._cd(e)}},l=function(e){this._cf=u.forBits(e>>3&3),this._fe=7&e,this.__defineGetter__("_cg",function(){return this._cf}),this.__defineGetter__("_dx",function(){return this._fe}),this.GetHashCode=function(){return this._cf.ordinal()<<3|_fe},this.Equals=function(e){var t=e;return this._cf==t._cf&&this._fe==t._fe}},u=function(e,t,i){this._ff=e,this.bits=t,this.name=i,this.__defineGetter__("Bits",function(){return this.bits}),this.__defineGetter__("Name",function(){return this.name}),this.ordinal=function(){return this._ff}},c=function(e,t){if(t||(t=e),e<1||t<1)throw"Both dimensions must be greater than 0";this.width=e,this.height=t;var i=e>>5;0!=(31&e)&&i++,this.rowSize=i,this.bits=new Array(i*t);for(var n=0;n<this.bits.length;n++)this.bits[n]=0;this.__defineGetter__("Width",function(){return this.width}),this.__defineGetter__("Height",function(){return this.height}),this.__defineGetter__("Dimension",function(){if(this.width!=this.height)throw"Can't call getDimension() on a non-square matrix";return this.width}),this._ds=function(e,t){var i=t*this.rowSize+(e>>5);return 0!=(1&x(this.bits[i],31&e))},this._dq=function(e,t){var i=t*this.rowSize+(e>>5);this.bits[i]|=1<<(31&e)},this.flip=function(e,t){var i=t*this.rowSize+(e>>5);this.bits[i]^=1<<(31&e)},this.clear=function(){for(var e=this.bits.length,t=0;t<e;t++)this.bits[t]=0},this._bq=function(e,t,i,n){if(t<0||e<0)throw"Left and top must be nonnegative";if(n<1||i<1)throw"Height and width must be at least 1";var a=e+i,s=t+n;if(s>this.height||a>this.width)throw"The region must fit inside the matrix";for(var r=t;r<s;r++)for(var o=r*this.rowSize,l=e;l<a;l++)this.bits[o+(l>>5)]|=1<<(31&l)}},d=function(e,t){this._dv=e,this._dw=t,this.__defineGetter__("_du",function(){return this._dv}),this.__defineGetter__("Codewords",function(){return this._dw})},p=function(e){var t=e.Dimension;if(t<21||1!=(3&t))throw"Error _cl";this._au=e,this._cp=null,this._co=null,this._dk=function(e,t,i){return this._au._ds(e,t)?i<<1|1:i<<1},this._cm=function(){if(null!=this._co)return this._co;for(var e=0,t=0;t<6;t++)e=this._dk(t,8,e);e=this._dk(7,8,e),e=this._dk(8,8,e),e=this._dk(8,7,e);for(var i=5;i>=0;i--)e=this._dk(8,i,e);if(this._co=l._ci(e),null!=this._co)return this._co;var n=this._au.Dimension;e=0;for(var a=n-8,t=n-1;t>=a;t--)e=this._dk(t,8,e);for(var i=n-7;i<n;i++)e=this._dk(8,i,e);if(this._co=l._ci(e),null!=this._co)return this._co;throw"Error _cm"},this._cq=function(){if(null!=this._cp)return this._cp;var e=this._au.Dimension,t=e-17>>2;if(t<=6)return n._av(t);for(var i=0,a=e-11,s=5;s>=0;s--)for(var r=e-9;r>=a;r--)i=this._dk(r,s,i);if(this._cp=n._aw(i),null!=this._cp&&this._cp._cr==e)return this._cp;i=0;for(var r=5;r>=0;r--)for(var s=e-9;s>=a;s--)i=this._dk(r,s,i);if(this._cp=n._aw(i),null!=this._cp&&this._cp._cr==e)return this._cp;throw"Error _cq"},this._gk=function(){var e=this._cm(),t=this._cq(),i=j._gl(e._dx),n=this._au.Dimension;i._dj(this._au,n);for(var a=t._aq(),s=!0,r=new Array(t._dp),o=0,l=0,u=0,c=n-1;c>0;c-=2){6==c&&c--;for(var d=0;d<n;d++)for(var p=s?n-1-d:d,h=0;h<2;h++)a._ds(c-h,p)||(u++,l<<=1,this._au._ds(c-h,p)&&(l|=1),8==u&&(r[o++]=l,u=0,l=0));s^=!0}if(o!=t._dp)throw"Error _gk";return r}},h=function(){this._dj=function(e,t){for(var i=0;i<t;i++)for(var n=0;n<t;n++)this._fw(i,n)&&e.flip(n,i)},this._fw=function(e,t){return 0==(e+t&1)}},f=function(){this._dj=function(e,t){for(var i=0;i<t;i++)for(var n=0;n<t;n++)this._fw(i,n)&&e.flip(n,i)},this._fw=function(e,t){return 0==(1&e)}},v=function(){this._dj=function(e,t){for(var i=0;i<t;i++)for(var n=0;n<t;n++)this._fw(i,n)&&e.flip(n,i)},this._fw=function(e,t){return t%3==0}},m=function(){this._dj=function(e,t){for(var i=0;i<t;i++)for(var n=0;n<t;n++)this._fw(i,n)&&e.flip(n,i)},this._fw=function(e,t){return(e+t)%3==0}},g=function(){this._dj=function(e,t){for(var i=0;i<t;i++)for(var n=0;n<t;n++)this._fw(i,n)&&e.flip(n,i)},this._fw=function(e,t){return 0==(x(e,1)+t/3&1)}},_=function(){this._dj=function(e,t){for(var i=0;i<t;i++)for(var n=0;n<t;n++)this._fw(i,n)&&e.flip(n,i)},this._fw=function(e,t){var i=e*t;return(1&i)+i%3==0}},w=function(){this._dj=function(e,t){for(var i=0;i<t;i++)for(var n=0;n<t;n++)this._fw(i,n)&&e.flip(n,i)},this._fw=function(e,t){var i=e*t;return 0==((1&i)+i%3&1)}},b=function(){this._dj=function(e,t){for(var i=0;i<t;i++)for(var n=0;n<t;n++)this._fw(i,n)&&e.flip(n,i)},this._fw=function(e,t){return 0==((e+t&1)+e*t%3&1)}},y=function(e){this._fa=e,this.decode=function(e,t){for(var i=new C(this._fa,e),n=new Array(t),a=0;a<n.length;a++)n[a]=0;for(var s=!1,r=!0,a=0;a<t;a++){var o=i.evaluateAt(this._fa.exp(s?a+1:a));n[n.length-1-a]=o,0!=o&&(r=!1)}if(!r)for(var l=new C(this._fa,n),u=this._eb(this._fa._ba(t,1),l,t),c=u[0],d=u[1],p=this._ey(c),h=this._di(d,p,s),a=0;a<p.length;a++){var f=e.length-1-this._fa.log(p[a]);if(f<0)throw"ReedSolomonException Bad error location";e[f]=k._bd(e[f],h[a])}},this._eb=function(e,t,i){if(e._ec<t._ec){var n=e;e=t,t=n}for(var a=e,s=t,r=this._fa.One,o=this._fa.Zero,l=this._fa.Zero,u=this._fa.One;s._ec>=Math.floor(i/2);){var c=a,d=r,p=l;if(a=s,r=o,l=u,a.Zero)throw"r_{i-1} was zero";s=c;for(var h=this._fa.Zero,f=a._ex(a._ec),v=this._fa.inverse(f);s._ec>=a._ec&&!s.Zero;){var m=s._ec-a._ec,g=this._fa.multiply(s._ex(s._ec),v);h=h._bd(this._fa._ba(m,g)),s=s._bd(a._dc(m,g))}o=h.multiply1(r)._bd(d),u=h.multiply1(l)._bd(p)}var _=u._ex(0);if(0==_)throw"ReedSolomonException sigmaTilde(0) was zero";var w=this._fa.inverse(_),b=u.multiply2(w),y=s.multiply2(w);return new Array(b,y)},this._ey=function(e){var t=e._ec;if(1==t)return new Array(e._ex(1));for(var i=new Array(t),n=0,a=1;a<256&&n<t;a++)0==e.evaluateAt(a)&&(i[n]=this._fa.inverse(a),n++);if(n!=t)throw"Error locator degree does not match number of roots";return i},this._di=function(e,t,i){for(var n=t.length,a=new Array(n),s=0;s<n;s++){for(var r=this._fa.inverse(t[s]),o=1,l=0;l<n;l++)s!=l&&(o=this._fa.multiply(o,k._bd(1,this._fa.multiply(t[l],r))));a[s]=this._fa.multiply(e.evaluateAt(r),this._fa.inverse(o)),i&&(a[s]=this._fa.multiply(a[s],r))}return a}},C=function e(t,i){if(null==i||0==i.length)throw"bad arguments";this._fa=t;var n=i.length;if(n>1&&0==i[0]){for(var a=1;a<n&&0==i[a];)a++;if(a==n)this._dd=t.Zero._dd;else{this._dd=new Array(n-a);for(var s=0;s<this._dd.length;s++)this._dd[s]=0;for(var r=0;r<this._dd.length;r++)this._dd[r]=i[a+r]}}else this._dd=i;this.__defineGetter__("Zero",function(){return 0==this._dd[0]}),this.__defineGetter__("_ec",function(){return this._dd.length-1}),this.__defineGetter__("Coefficients",function(){return this._dd}),this._ex=function(e){return this._dd[this._dd.length-1-e]},this.evaluateAt=function(e){if(0==e)return this._ex(0);var t=this._dd.length;if(1==e){for(var i=0,n=0;n<t;n++)i=k._bd(i,this._dd[n]);return i}for(var a=this._dd[0],n=1;n<t;n++)a=k._bd(this._fa.multiply(e,a),this._dd[n]);return a},this._bd=function(i){if(this._fa!=i._fa)throw"GF256Polys do not have same _az _fa";if(this.Zero)return i;if(i.Zero)return this;var n=this._dd,a=i._dd;if(n.length>a.length){var s=n;n=a,a=s}for(var r=new Array(a.length),o=a.length-n.length,l=0;l<o;l++)r[l]=a[l];for(var u=o;u<a.length;u++)r[u]=k._bd(n[u-o],a[u]);return new e(t,r)},this.multiply1=function(t){if(this._fa!=t._fa)throw"GF256Polys do not have same _az _fa";if(this.Zero||t.Zero)return this._fa.Zero;for(var i=this._dd,n=i.length,a=t._dd,s=a.length,r=new Array(n+s-1),o=0;o<n;o++)for(var l=i[o],u=0;u<s;u++)r[o+u]=k._bd(r[o+u],this._fa.multiply(l,a[u]));return new e(this._fa,r)},this.multiply2=function(t){if(0==t)return this._fa.Zero;if(1==t)return this;for(var i=this._dd.length,n=new Array(i),a=0;a<i;a++)n[a]=this._fa.multiply(this._dd[a],t);return new e(this._fa,n)},this._dc=function(t,i){if(t<0)throw"bad arguments";if(0==i)return this._fa.Zero;for(var n=this._dd.length,a=new Array(n+t),s=0;s<a.length;s++)a[s]=0;for(var s=0;s<n;s++)a[s]=this._fa.multiply(this._dd[s],i);return new e(this._fa,a)},this.divide=function(e){if(this._fa!=e._fa)throw"GF256Polys do not have same _az _fa";if(e.Zero)throw"Divide by 0";for(var t=this._fa.Zero,i=this,n=e._ex(e._ec),a=this._fa.inverse(n);i._ec>=e._ec&&!i.Zero;){var s=i._ec-e._ec,r=this._fa.multiply(i._ex(i._ec),a),o=e._dc(s,r),l=this._fa._ba(s,r);t=t._bd(l),i=i._bd(o)}return new Array(t,i)}},k=function(e){this._gh=new Array(256),this._gi=new Array(256);for(var t=1,i=0;i<256;i++)this._gh[i]=t,t<<=1,t>=256&&(t^=e);for(var i=0;i<255;i++)this._gi[this._gh[i]]=i;var n=new Array(1);n[0]=0,this.zero=new C(this,new Array(n));var a=new Array(1);a[0]=1,this.one=new C(this,new Array(a)),this.__defineGetter__("Zero",function(){return this.zero}),this.__defineGetter__("One",function(){return this.one}),this._ba=function(e,t){if(e<0)throw"bad arguments";if(0==t)return zero;for(var i=new Array(e+1),n=0;n<i.length;n++)i[n]=0;return i[0]=t,new C(this,i)},this.exp=function(e){return this._gh[e]},this.log=function(e){if(0==e)throw"bad arguments";return this._gi[e]},this.inverse=function(e){if(0==e)throw"System.ArithmeticException";return this._gh[255-this._gi[e]]},this.multiply=function(e,t){return 0==e||0==t?0:1==e?t:1==t?e:this._gh[(this._gi[e]+this._gi[t])%255]}},x=function(e,t){return e>=0?e>>t:(e>>t)+(2<<~t)},A=function(e,t,i){this.x=e,this.y=t,this.count=1,this._aj=i,this.__defineGetter__("_ei",function(){return this._aj}),this.__defineGetter__("Count",function(){return this.count}),this.__defineGetter__("X",function(){return this.x}),this.__defineGetter__("Y",function(){return this.y}),this._ek=function(){this.count++},this._ev=function(e,t,i){if(Math.abs(t-this.y)<=e&&Math.abs(i-this.x)<=e){var n=Math.abs(e-this._aj);return n<=1||n/this._aj<=1}return!1}},M=function(e){this._go=e[0],this._gu=e[1],this._gr=e[2],this.__defineGetter__("_gp",function(){return this._go}),this.__defineGetter__("_gq",function(){return this._gu}),this.__defineGetter__("_gs",function(){return this._gr})},P=function(){this.image=null,this._cv=[],this._ge=!1,this._al=new Array(0,0,0,0,0),this._am=null,this.__defineGetter__("_da",function(){return this._al[0]=0,this._al[1]=0,this._al[2]=0,this._al[3]=0,this._al[4]=0,this._al}),this._ao=function(e){for(var t=0,i=0;i<5;i++){var n=e[i];if(0==n)return!1;t+=n}if(t<7)return!1;var a=Math.floor((t<<H)/7),s=Math.floor(a/2);return Math.abs(a-(e[0]<<H))<s&&Math.abs(a-(e[1]<<H))<s&&Math.abs(3*a-(e[2]<<H))<3*s&&Math.abs(a-(e[3]<<H))<s&&Math.abs(a-(e[4]<<H))<s},this._an=function(e,t){return t-e[4]-e[3]-e[2]/2},this._ap=function(e,t,i,n){for(var a=this.image,s=B.height,r=this._da,o=e;o>=0&&a[t+o*B.width];)r[2]++,o--;if(o<0)return NaN;for(;o>=0&&!a[t+o*B.width]&&r[1]<=i;)r[1]++,o--;if(o<0||r[1]>i)return NaN;for(;o>=0&&a[t+o*B.width]&&r[0]<=i;)r[0]++,o--;if(r[0]>i)return NaN;for(o=e+1;o<s&&a[t+o*B.width];)r[2]++,o++;if(o==s)return NaN;for(;o<s&&!a[t+o*B.width]&&r[3]<i;)r[3]++,o++;if(o==s||r[3]>=i)return NaN;for(;o<s&&a[t+o*B.width]&&r[4]<i;)r[4]++,o++;if(r[4]>=i)return NaN;var l=r[0]+r[1]+r[2]+r[3]+r[4];return 5*Math.abs(l-n)>=2*n?NaN:this._ao(r)?this._an(r,o):NaN},this._ej=function(e,t,i,n){for(var a=this.image,s=B.width,r=this._da,o=e;o>=0&&a[o+t*B.width];)r[2]++,o--;if(o<0)return NaN;for(;o>=0&&!a[o+t*B.width]&&r[1]<=i;)r[1]++,o--;if(o<0||r[1]>i)return NaN;for(;o>=0&&a[o+t*B.width]&&r[0]<=i;)r[0]++,o--;if(r[0]>i)return NaN;for(o=e+1;o<s&&a[o+t*B.width];)r[2]++,o++;if(o==s)return NaN;for(;o<s&&!a[o+t*B.width]&&r[3]<i;)r[3]++,o++;if(o==s||r[3]>=i)return NaN;for(;o<s&&a[o+t*B.width]&&r[4]<i;)r[4]++,o++;if(r[4]>=i)return NaN;var l=r[0]+r[1]+r[2]+r[3]+r[4];return 5*Math.abs(l-n)>=n?NaN:this._ao(r)?this._an(r,o):NaN},this._cu=function(e,t,i){var n=e[0]+e[1]+e[2]+e[3]+e[4],a=this._an(e,i),s=this._ap(t,Math.floor(a),e[2],n);if(!isNaN(s)&&(a=this._ej(Math.floor(a),Math.floor(s),e[2],n),!isNaN(a))){for(var r=n/7,o=!1,l=this._cv.length,u=0;u<l;u++){var c=this._cv[u];if(c._ev(r,s,a)){c._ek(),o=!0;break}}if(!o){var d=new A(a,s,r);this._cv.push(d),null!=this._am&&this._am._ep(d)}return!0}return!1},this._ee=function(){var e=this._cv.length;if(e<3)throw"Couldn't find enough finder patterns (found "+e+")";if(e>3){for(var t=0,i=0,n=0;n<e;n++){var a=this._cv[n]._ei;t+=a,i+=a*a}var s=t/e;this._cv.sort(function(e,t){var i=Math.abs(t._ei-s),n=Math.abs(e._ei-s);return i<n?-1:i==n?0:1});for(var r=Math.sqrt(i/e-s*s),o=Math.max(.2*s,r),n=this._cv.length-1;n>=0;n--){var l=this._cv[n];Math.abs(l._ei-s)>o&&this._cv.splice(n,1)}}return this._cv.length>3&&this._cv.sort(function(e,t){return e.count>t.count?-1:e.count<t.count?1:0}),new Array(this._cv[0],this._cv[1],this._cv[2])},this._eq=function(){var e=this._cv.length;if(e<=1)return 0;for(var t=null,i=0;i<e;i++){var n=this._cv[i];if(n.Count>=W){if(null!=t)return this._ge=!0,Math.floor((Math.abs(t.X-n.X)-Math.abs(t.Y-n.Y))/2);t=n}}return 0},this._cx=function(){for(var e=0,t=0,i=this._cv.length,n=0;n<i;n++){var a=this._cv[n];a.Count>=W&&(e++,t+=a._ei)}if(e<3)return!1;for(var s=t/i,r=0,n=0;n<i;n++)a=this._cv[n],r+=Math.abs(a._ei-s);return r<=.05*t},this._ce=function(e){var t=!1;this.image=e;var i=B.height,n=B.width,a=Math.floor(3*i/(4*G));(a<U||t)&&(a=U);for(var s=!1,r=new Array(5),o=a-1;o<i&&!s;o+=a){r[0]=0,r[1]=0,r[2]=0,r[3]=0,r[4]=0;for(var l=0,u=0;u<n;u++)if(e[u+o*B.width])1==(1&l)&&l++,r[l]++;else if(0==(1&l))if(4==l)if(this._ao(r)){var c=this._cu(r,o,u);if(c)if(a=2,this._ge)s=this._cx();else{var d=this._eq();d>r[2]&&(o+=d-r[2]-a,u=n-1)}else{do u++;while(u<n&&!e[u+o*B.width]);u--}l=0,r[0]=0,r[1]=0,r[2]=0,r[3]=0,r[4]=0}else r[0]=r[2],r[1]=r[3],r[2]=r[4],r[3]=1,r[4]=0,l=3;else r[++l]++;else r[l]++;if(this._ao(r)){var c=this._cu(r,o,n);c&&(a=r[0],this._ge&&(s=_cx()))}}var p=this._ee();return B._er(p),new M(p)}},E=function(e,t,i){this.x=e,this.y=t,this.count=1,this._aj=i,this.__defineGetter__("_ei",function(){return this._aj}),this.__defineGetter__("Count",function(){return this.count}),this.__defineGetter__("X",function(){return Math.floor(this.x)}),this.__defineGetter__("Y",function(){return Math.floor(this.y)}),this._ek=function(){this.count++},this._ev=function(e,t,i){if(Math.abs(t-this.y)<=e&&Math.abs(i-this.x)<=e){var n=Math.abs(e-this._aj);return n<=1||n/this._aj<=1}return!1}},I=function(e,t,i,n,a,s,r){this.image=e,this._cv=new Array,this.startX=t,this.startY=i,this.width=n,this.height=a,this._ef=s,this._al=new Array(0,0,0),this._am=r,this._an=function(e,t){return t-e[2]-e[1]/2},this._ao=function(e){for(var t=this._ef,i=t/2,n=0;n<3;n++)if(Math.abs(t-e[n])>=i)return!1;return!0},this._ap=function(e,t,i,n){var a=this.image,s=B.height,r=this._al;r[0]=0,r[1]=0,r[2]=0;for(var o=e;o>=0&&a[t+o*B.width]&&r[1]<=i;)r[1]++,o--;if(o<0||r[1]>i)return NaN;for(;o>=0&&!a[t+o*B.width]&&r[0]<=i;)r[0]++,o--;if(r[0]>i)return NaN;for(o=e+1;o<s&&a[t+o*B.width]&&r[1]<=i;)r[1]++,o++;if(o==s||r[1]>i)return NaN;for(;o<s&&!a[t+o*B.width]&&r[2]<=i;)r[2]++,o++;if(r[2]>i)return NaN;var l=r[0]+r[1]+r[2];return 5*Math.abs(l-n)>=2*n?NaN:this._ao(r)?this._an(r,o):NaN},this._cu=function(e,t,i){var n=e[0]+e[1]+e[2],a=this._an(e,i),s=this._ap(t,Math.floor(a),2*e[1],n);if(!isNaN(s)){for(var r=(e[0]+e[1]+e[2])/3,o=this._cv.length,l=0;l<o;l++){var u=this._cv[l];if(u._ev(r,s,a))return new E(a,s,r)}var c=new E(a,s,r);this._cv.push(c),null!=this._am&&this._am._ep(c)}return null},this.find=function(){for(var t=this.startX,a=this.height,s=t+n,r=i+(a>>1),o=new Array(0,0,0),l=0;l<a;l++){var u=r+(0==(1&l)?l+1>>1:-(l+1>>1));o[0]=0,o[1]=0,o[2]=0;for(var c=t;c<s&&!e[c+B.width*u];)c++;for(var d=0;c<s;){if(e[c+u*B.width])if(1==d)o[d]++;else if(2==d){if(this._ao(o)){var p=this._cu(o,u,c);if(null!=p)return p}o[0]=o[2],o[1]=1,o[2]=0,d=1}else o[++d]++;else 1==d&&d++,o[d]++;c++}if(this._ao(o)){var p=this._cu(o,u,s);if(null!=p)return p}}if(0!=this._cv.length)return this._cv[0];throw"Couldn't find enough alignment patterns"}},L=function(e,t,i){this._ed=0,this._cw=7,this.dataLength=0,this.blocks=e,this._en=i,t<=9?this.dataLengthMode=0:t>=10&&t<=26?this.dataLengthMode=1:t>=27&&t<=40&&(this.dataLengthMode=2),this._gd=function(e){var t=0;if(e<this._cw+1){for(var i=0,n=0;n<e;n++)i+=1<<n;return i<<=this._cw-e+1,t=(this.blocks[this._ed]&i)>>this._cw-e+1,this._cw-=e,t}if(e<this._cw+1+8){for(var a=0,n=0;n<this._cw+1;n++)a+=1<<n;return t=(this.blocks[this._ed]&a)<<e-(this._cw+1),this._ed++,t+=this.blocks[this._ed]>>8-(e-(this._cw+1)),this._cw=this._cw-e%8,this._cw<0&&(this._cw=8+this._cw),t}if(e<this._cw+1+16){for(var a=0,s=0,n=0;n<this._cw+1;n++)a+=1<<n;var r=(this.blocks[this._ed]&a)<<e-(this._cw+1);this._ed++;var o=this.blocks[this._ed]<<e-(this._cw+1+8);this._ed++;for(var n=0;n<e-(this._cw+1+8);n++)s+=1<<n;s<<=8-(e-(this._cw+1+8));var l=(this.blocks[this._ed]&s)>>8-(e-(this._cw+1+8));return t=r+o+l,this._cw=this._cw-(e-8)%8,this._cw<0&&(this._cw=8+this._cw),t}return 0},this.NextMode=function(){return this._ed>this.blocks.length-this._en-2?0:this._gd(4)},this.getDataLength=function(e){for(var t=0;;){if(e>>t==1)break;t++}return this._gd(B._eo[this.dataLengthMode][t])},this.getRomanAndFigureString=function(e){var t=e,i=0,n="",a=new Array("0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":");do if(t>1){i=this._gd(11);var s=Math.floor(i/45),r=i%45;n+=a[s],n+=a[r],t-=2}else 1==t&&(i=this._gd(6),n+=a[i],t-=1);while(t>0);return n},this.getFigureString=function(e){var t=e,i=0,n="";do t>=3?(i=this._gd(10),i<100&&(n+="0"),i<10&&(n+="0"),t-=3):2==t?(i=this._gd(7),i<10&&(n+="0"),t-=2):1==t&&(i=this._gd(4),t-=1),n+=i;while(t>0);return n},this.get8bitByteArray=function(e){var t=e,i=0,n=new Array;do i=this._gd(8),n.push(i),t--;while(t>0);return n},this.getKanjiString=function(e){var t=e,i=0,n="";do{i=_gd(13);var a=i%192,s=i/192,r=(s<<8)+a,o=0;o=r+33088<=40956?r+33088:r+49472,n+=String.fromCharCode(o),t--}while(t>0);return n},this.__defineGetter__("DataByte",function(){for(var e=new Array,t=1,i=2,n=4,a=8;;){var s=this.NextMode();if(0==s){if(e.length>0)break;throw"Empty data block"}if(s!=t&&s!=i&&s!=n&&s!=a)throw"Invalid mode: "+s+" in (block:"+this._ed+" bit:"+this._cw+")";var r=this.getDataLength(s);if(r<1)throw"Invalid data length: "+r;switch(s){case t:for(var o=this.getFigureString(r),l=new Array(o.length),u=0;u<o.length;u++)l[u]=o.charCodeAt(u);e.push(l);break;case i:for(var o=this.getRomanAndFigureString(r),l=new Array(o.length),u=0;u<o.length;u++)l[u]=o.charCodeAt(u);e.push(l);break;case n:
var c=this.get8bitByteArray(r);e.push(c);break;case a:var o=this.getKanjiString(r);e.push(o)}}return e})},N={};N._ab=function(e,t){for(var i=B.width,n=B.height,a=!0,s=0;s<t.length&&a;s+=2){var r=Math.floor(t[s]),o=Math.floor(t[s+1]);if(r<-1||r>i||o<-1||o>n)throw"Error._ab ";a=!1,r==-1?(t[s]=0,a=!0):r==i&&(t[s]=i-1,a=!0),o==-1?(t[s+1]=0,a=!0):o==n&&(t[s+1]=n-1,a=!0)}a=!0;for(var s=t.length-2;s>=0&&a;s-=2){var r=Math.floor(t[s]),o=Math.floor(t[s+1]);if(r<-1||r>i||o<-1||o>n)throw"Error._ab ";a=!1,r==-1?(t[s]=0,a=!0):r==i&&(t[s]=i-1,a=!0),o==-1?(t[s+1]=0,a=!0):o==n&&(t[s+1]=n-1,a=!0)}},N._af=function(e,t,i){for(var n=new c(t),a=new Array(t<<1),s=0;s<t;s++){for(var r=a.length,o=s+.5,l=0;l<r;l+=2)a[l]=(l>>1)+.5,a[l+1]=o;i._ad(a),N._ab(e,a);try{for(var l=0;l<r;l+=2){var u=e[Math.floor(a[l])+B.width*Math.floor(a[l+1])];u&&n._dq(l>>1,s)}}catch(e){throw"Error._ab"}}return n},N._ah=function(e,t,i,n,a,r,o,l,u,c,d,p,h,f,v,m,g,_){var w=s._ag(i,n,a,r,o,l,u,c,d,p,h,f,v,m,g,_);return N._af(e,t,w)},n._bv=new Array(31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017),n.VERSIONS=a(),n._av=function(e){if(e<1||e>40)throw"bad arguments";return n.VERSIONS[e-1]},n._at=function(e){if(e%4!=1)throw"Error _at";try{return n._av(e-17>>2)}catch(e){throw"Error _av"}},n._aw=function(e){for(var t=4294967295,i=0,a=0;a<n._bv.length;a++){var s=n._bv[a];if(s==e)return this._av(a+7);var r=l._gj(e,s);r<t&&(i=a+7,t=r)}return t<=3?this._av(i):null},s._ag=function(e,t,i,n,a,s,r,o,l,u,c,d,p,h,f,v){var m=this._be(e,t,i,n,a,s,r,o),g=this._bf(l,u,c,d,p,h,f,v);return g.times(m)},s._bf=function(e,t,i,n,a,r,o,l){var u=l-r,c=t-n+r-l;if(0==u&&0==c)return new s(i-e,a-i,e,n-t,r-n,t,0,0,1);var d=i-a,p=o-a,h=e-i+a-o,f=n-r,v=d*u-p*f,m=(h*u-p*c)/v,g=(d*c-h*f)/v;return new s(i-e+m*i,o-e+g*o,e,n-t+m*n,l-t+g*l,t,m,g,1)},s._be=function(e,t,i,n,a,s,r,o){return this._bf(e,t,i,n,a,s,r,o)._fr()};var R=21522,S=new Array(new Array(21522,0),new Array(20773,1),new Array(24188,2),new Array(23371,3),new Array(17913,4),new Array(16590,5),new Array(20375,6),new Array(19104,7),new Array(30660,8),new Array(29427,9),new Array(32170,10),new Array(30877,11),new Array(26159,12),new Array(25368,13),new Array(27713,14),new Array(26998,15),new Array(5769,16),new Array(5054,17),new Array(7399,18),new Array(6608,19),new Array(1890,20),new Array(597,21),new Array(3340,22),new Array(2107,23),new Array(13663,24),new Array(12392,25),new Array(16177,26),new Array(14854,27),new Array(9396,28),new Array(8579,29),new Array(11994,30),new Array(11245,31)),F=new Array(0,1,1,2,1,2,2,3,1,2,2,3,2,3,3,4);l._gj=function(e,t){return e^=t,F[15&e]+F[15&x(e,4)]+F[15&x(e,8)]+F[15&x(e,12)]+F[15&x(e,16)]+F[15&x(e,20)]+F[15&x(e,24)]+F[15&x(e,28)]},l._ci=function(e){var t=l._cj(e);return null!=t?t:l._cj(e^R)},l._cj=function(e){for(var t=4294967295,i=0,n=0;n<S.length;n++){var a=S[n],s=a[0];if(s==e)return new l(a[1]);var r=this._gj(e,s);r<t&&(i=a[1],t=r)}return t<=3?new l(i):null},u.forBits=function(e){if(e<0||e>=z.length)throw"bad arguments";return z[e]};var T=new u(0,1,"L"),$=new u(1,0,"M"),O=new u(2,3,"Q"),D=new u(3,2,"H"),z=new Array($,T,D,O);d._gn=function(e,t,i){if(e.length!=t._dp)throw"bad arguments";for(var n=t._bu(i),a=0,s=n._fb(),r=0;r<s.length;r++)a+=s[r].Count;for(var o=new Array(a),l=0,u=0;u<s.length;u++)for(var c=s[u],r=0;r<c.Count;r++){var p=c._dm,h=n._bo+p;o[l++]=new d(p,new Array(h))}for(var f=o[0]._dw.length,v=o.length-1;v>=0;){var m=o[v]._dw.length;if(m==f)break;v--}v++;for(var g=f-n._bo,_=0,r=0;r<g;r++)for(var u=0;u<l;u++)o[u]._dw[r]=e[_++];for(var u=v;u<l;u++)o[u]._dw[g]=e[_++];for(var w=o[0]._dw.length,r=g;r<w;r++)for(var u=0;u<l;u++){var b=u<v?r:r+1;o[u]._dw[b]=e[_++]}return o};var j={};j._gl=function(e){if(e<0||e>7)throw"bad arguments";return j._dy[e]},j._dy=new Array(new h,new f,new v,new m,new g,new _,new w,new b),k._bb=new k(285),k._bc=new k(301),k._bd=function(e,t){return e^t};var q={};q.rsDecoder=new y(k._bb),q.correctErrors=function(e,t){for(var i=e.length,n=new Array(i),a=0;a<i;a++)n[a]=255&e[a];var s=e.length-t;try{q.rsDecoder.decode(n,s)}catch(e){throw e}for(var a=0;a<t;a++)e[a]=n[a]},q.decode=function(e){for(var t=new p(e),i=t._cq(),n=t._cm()._cg,a=t._gk(),s=d._gn(a,i,n),r=0,o=0;o<s.length;o++)r+=s[o]._du;for(var l=new Array(r),u=0,c=0;c<s.length;c++){var h=s[c],f=h.Codewords,v=h._du;q.correctErrors(f,v);for(var o=0;o<v;o++)l[u++]=f[o]}var m=new L(l,i._fd,n.Bits);return m};var B={};B.imagedata=null,B.width=0,B.height=0,B.qrCodeSymbol=null,B.debug=!1,B.maxImgSize=1048576,B._eo=[[10,9,8,8],[12,11,16,10],[14,13,16,12]],B.callback=null,B.vidSuccess=function(e){B.localstream=e,B.webkit?B.video.src=window.webkitURL.createObjectURL(e):B.moz?(B.video.mozSrcObject=e,B.video.play()):B.video.src=e,B.gUM=!0,B.canvas_qr2=document.createElement("canvas"),B.canvas_qr2.id="QRScanner-canvasEl",B.qrcontext2=B.canvas_qr2.getContext("2d"),B.canvas_qr2.width=B.video.videoWidth,B.canvas_qr2.height=B.video.videoHeight,setTimeout(B.captureToCanvas,500)},B.vidError=function(e){B.gUM=!1},B.captureToCanvas=function(){if(B.gUM)try{if(0==B.video.videoWidth)return void setTimeout(B.captureToCanvas,500);B.canvas_qr2.width=B.video.videoWidth,B.canvas_qr2.height=B.video.videoHeight,B.qrcontext2.drawImage(B.video,0,0);try{B.decode()}catch(e){setTimeout(B.captureToCanvas,500)}}catch(e){setTimeout(B.captureToCanvas,500)}},B.setWebcam=function(e){var t=navigator;B.video=document.getElementById(e);var i=!0;if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices)try{navigator.mediaDevices.enumerateDevices().then(function(e){e.forEach(function(e){"videoinput"===e.kind&&e.label.toLowerCase().search("back")>-1&&(i=[{sourceId:e.deviceId}])})})}catch(e){}else console.log("no navigator.mediaDevices.enumerateDevices");t.getUserMedia?t.getUserMedia({video:i,audio:!1},B.vidSuccess,B.vidError):t.webkitGetUserMedia?(B.webkit=!0,t.webkitGetUserMedia({video:i,audio:!1},B.vidSuccess,B.vidError)):t.mozGetUserMedia&&(B.moz=!0,t.mozGetUserMedia({video:i,audio:!1},B.vidSuccess,B.vidError))},B.decode=function(e){if(0==arguments.length){if(B.canvas_qr2)var t=B.canvas_qr2,i=B.qrcontext2;else var t=document.getElementById("QRScanner-canvasEl")||document.getElementById("qr-canvas"),i=t.getContext("2d");return B.width=t.width,B.height=t.height,B.imagedata=i.getImageData(0,0,B.width,B.height),B.result=B.process(i),null!=B.callback&&B.callback(B.result),B.result}var n=new Image;n.crossOrigin="Anonymous",n.onload=function(){var e=document.getElementById("out-canvas");if(null!=e){var t=e.getContext("2d");t.clearRect(0,0,320,240),t.drawImage(n,0,0,320,240)}var i=document.createElement("canvas"),a=i.getContext("2d"),s=n.height,r=n.width;if(n.width*n.height>B.maxImgSize){var o=n.width/n.height;s=Math.sqrt(B.maxImgSize/o),r=o*s}i.width=r,i.height=s,a.drawImage(n,0,0,i.width,i.height),B.width=i.width,B.height=i.height;try{B.imagedata=a.getImageData(0,0,i.width,i.height)}catch(e){return B.result="Cross domain image reading not supported in your browser! Save it to your computer then drag and drop the file!",void(null!=B.callback&&B.callback(B.result))}try{B.result=B.process(a)}catch(e){B.result="error decoding QR Code"}null!=B.callback&&B.callback(B.result)},n.onerror=function(){null!=B.callback&&B.callback("Failed to load the image")},n.src=e},B.isUrl=function(e){var t=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return t.test(e)},B.decode_url=function(e){var t="";try{t=escape(e)}catch(i){t=e}var i="";try{i=decodeURIComponent(t)}catch(e){i=t}return i},B.decode_utf8=function(e){return B.isUrl(e)?B.decode_url(e):e},B.process=function(e){var t=((new Date).getTime(),B.grayScaleToBitmap(B.grayscale()));if(B.debug){for(var i=0;i<B.height;i++)for(var n=0;n<B.width;n++){var a=4*n+i*B.width*4;B.imagedata.data[a]=(t[n+i*B.width],0),B.imagedata.data[a+1]=(t[n+i*B.width],0),B.imagedata.data[a+2]=t[n+i*B.width]?255:0}e.putImageData(B.imagedata,0,0)}var s=new o(t),r=s.detect();if(B.debug){for(var i=0;i<r.bits.Height;i++)for(var n=0;n<r.bits.Width;n++){var a=4*n*2+2*i*B.width*4;B.imagedata.data[a]=(r.bits._ds(n,i),0),B.imagedata.data[a+1]=(r.bits._ds(n,i),0),B.imagedata.data[a+2]=r.bits._ds(n,i)?255:0}e.putImageData(B.imagedata,0,0)}for(var l=q.decode(r.bits),u=l.DataByte,c="",d=0;d<u.length;d++)for(var p=0;p<u[d].length;p++)c+=String.fromCharCode(u[d][p]);(new Date).getTime();return B.decode_utf8(c)},B.getPixel=function(e,t){if(B.width<e)throw"point error";if(B.height<t)throw"point error";var i=4*e+t*B.width*4,n=(33*B.imagedata.data[i]+34*B.imagedata.data[i+1]+33*B.imagedata.data[i+2])/100;return n},B.binarize=function(e){for(var t=new Array(B.width*B.height),i=0;i<B.height;i++)for(var n=0;n<B.width;n++){var a=B.getPixel(n,i);t[n+i*B.width]=a<=e}return t},B._em=function(e){for(var t=4,i=Math.floor(B.width/t),n=Math.floor(B.height/t),a=new Array(t),s=0;s<t;s++){a[s]=new Array(t);for(var r=0;r<t;r++)a[s][r]=new Array(0,0)}for(var o=0;o<t;o++)for(var l=0;l<t;l++){a[l][o][0]=255;for(var u=0;u<n;u++)for(var c=0;c<i;c++){var d=e[i*l+c+(n*o+u)*B.width];d<a[l][o][0]&&(a[l][o][0]=d),d>a[l][o][1]&&(a[l][o][1]=d)}}for(var p=new Array(t),h=0;h<t;h++)p[h]=new Array(t);for(var o=0;o<t;o++)for(var l=0;l<t;l++)p[l][o]=Math.floor((a[l][o][0]+a[l][o][1])/2);return p},B.grayScaleToBitmap=function(e){for(var t=B._em(e),i=t.length,n=Math.floor(B.width/i),a=Math.floor(B.height/i),s=new ArrayBuffer(B.width*B.height),r=new Uint8Array(s),o=0;o<i;o++)for(var l=0;l<i;l++)for(var u=0;u<a;u++)for(var c=0;c<n;c++)r[n*l+c+(a*o+u)*B.width]=e[n*l+c+(a*o+u)*B.width]<t[l][o];return r},B.grayscale=function(){for(var e=new ArrayBuffer(B.width*B.height),t=new Uint8Array(e),i=0;i<B.height;i++)for(var n=0;n<B.width;n++){var a=B.getPixel(n,i);t[n+i*B.width]=a}return t};var U=3,G=57,H=8,W=2;B._er=function(e){function t(e,t){var i=e.X-t.X,n=e.Y-t.Y;return Math.sqrt(i*i+n*n)}function i(e,t,i){var n=t.x,a=t.y;return(i.x-n)*(e.y-a)-(i.y-a)*(e.x-n)}var n,a,s,r=t(e[0],e[1]),o=t(e[1],e[2]),l=t(e[0],e[2]);if(o>=r&&o>=l?(a=e[0],n=e[1],s=e[2]):l>=o&&l>=r?(a=e[1],n=e[0],s=e[2]):(a=e[2],n=e[0],s=e[1]),i(n,a,s)<0){var u=n;n=s,s=u}e[0]=n,e[1]=a,e[2]=s},e.qrcode=B}}function t(e){var t=document.createElement("div");t.className=e.className;var i='<canvas id="QRScanner-canvasEl" width="'+e.width+'" height="'+e.height+'"></canvas>';i+='<video id="QRScanner-videoEl" style="display: none;" width="'+e.width+'" height="'+e.height+'"></video>',t.innerHTML=i,(e.parent||document.body).appendChild(t),a.container=t}var i={},n=!1,a={};return i.start=function(i){var s=i||{width:200,height:200,onResult:function(e){console.info("DONE: ",e)},onError:function(e){console.error("ERR :::: ",e)}};return s.hasOwnProperty("width")||(s.width=200),s.hasOwnProperty("height")||(s.height=200),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?(window.clearInterval(a.timer),n?a.container.style.display="block":(e(a),t(s),a.video=document.getElementById("QRScanner-videoEl"),a.canvas=document.getElementById("QRScanner-canvasEl"),a.ctx=a.canvas.getContext("2d"),a.draw=function(e){a.ctx.drawImage(e,0,0,240,200)},a.qrcode.callback=function(e){e!==!1&&e&&s.onResult(e)},n=!0),void(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:!0}).then(function(e){a.video.src=window.URL.createObjectURL(e),a.video.play(),a.stream=e,a.timer=window.setInterval(function(){a.draw(a.video);try{a.qrcode.decode()}catch(e){}},200)}))):void s.onError("Media Devices is not supported!")},i.stop=function(){window.clearInterval(a.timer),a.stream.getTracks()[0].stop(),a.container.style.display="none",a.ctx.clearRect(0,0,240,200)},i})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={Inbox:"Bandeja de entrada",Calendar:"Calendario",Billing:"Tesorería",Archived:"Archivados",View:"Vista",Type:"Tipo","Clear cache":"Limpiar caché",Logout:"Cerrar sesión",Notifications:"Notificaciones",Language:"Idioma",Settings:"Configuración",Month:"Mes",Day:"Día",Week:"Semana",Agenda:"Agenda",all:"todos",archive:"archivar",discard:"descartar",delete:"eliminar",restore:"restaurar",read:"leídos","mark read":"marcar leído","mark unread":"marcar no leído",none:"ninguno",select:"seleccionar",send:"enviar","to {n} people":"para {n} personas",unread:"no leídos",undo:"deshacer",reply:"responder","reply to all":"responder a todos",save:"guardar",cancel:"cancelar",name:"nombre",search:"buscar",brother:"hermano",sister:"hermana","more people":"ver más",everyone:"todos",noone:"ninguno",employee:"colaborador",Checkpoints:"Portales","add checkpoint":"agregar portal","group director":"director de grupo",teacher:"profesor"}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(24),s=n(a),r=i(9),o=n(r),l=i(10),u=n(l),c=i(28),d=n(c),p=i(384),h=n(p),f=i(50),v=n(f),m=i(264),g=n(m),_=i(51),w=n(_),b=i(265),y=n(b),C=function e(t,i){if("object"!=("undefined"==typeof t?"undefined":(0,d.default)(t))||null==t)return i;for(var n in i)i.hasOwnProperty(n)&&("object"===(0,d.default)(i[n])?t[n]=e(t[n],i[n]):t[n]=i[n]);return t},k=function(){function e(t,i){var n=this;(0,o.default)(this,e),this.name=t,this.reset(),this.retrieve().then(function(e){i=C(e,i),n.set(i),n.initialize(),n.emit("load")})}return(0,u.default)(e,[{key:"reset",value:function(){this.data={title:null,logo:null,endpoint:null,organization:{},language:null,token:null,user:null,pushToken:null,googleClientId:null},this.isReady=!1,this.api=null,this.listeners={},this.navigation=new y.default,this.isFixed=!1}},{key:"set",value:function(e){e&&(this.data=C(this.data,e),this.store())}},{key:"initialize",value:function(){this.data.endpoint&&(this.api=new v.default(this.data.endpoint),!!this.data.token&&this.setToken(this.data.token),this.isReady=!0)}},{key:"store",value:function(){return h.default.setItem("app:"+this.name,this.data)}},{key:"retrieve",value:function(){var e=this;return h.default.getItem("app:"+this.name).then(function(e){return e?e:{}}).then(function(t){return C(t,e.getDataFromMetaTags())})}},{key:"clear",value:function(){return this.reset(),h.default.removeItem("app:"+this.name)}},{key:"on",value:function(e,t){var i=this;return e=e.toLowerCase(),this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t),"load"==e&&this.isReady&&t(),function(){i.listeners[e].splice(i.listeners[e].indexOf(t),1)}}},{key:"emit",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e=e.toLowerCase(),this.listeners[e]&&this.listeners[e].forEach(function(e){e.apply(t,i)})}},{key:"loadCode",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://phidias.io/";return new v.default(i).get("/code/"+e).then(function(e){t.set({title:e.title,logo:e.logo,endpoint:e.url,organization:e.organization}),t.initialize()})}},{key:"setToken",value:function(e){return this.data.user=g.default.decode(e),this.data.token=e,this.store(),this.api.setToken(this.data.token),this.emit("login",[this.data.user]),this.registerPushNotifications(),this.data.user}},{key:"logout",value:function(){this.unregisterPushNotifications(),this.data.user=null,this.data.token=null,this.api.setToken(null),this.store(),this.emit("logout")}},{key:"login",value:function(e,t){var i=this;return this.api.fetch("oauth/token",{method:"post",headers:{Authorization:"Basic "+btoa(e+":"+t)},body:{grant_type:"client_credentials"}}).then(function(e){return e.json()}).then(function(e){return i.setToken(e.access_token)})}},{key:"googleLogin",value:function(){var e=this;return new s.default(function(t,i){e.getGoogleAuthorizationCode().then(function(n){e.api.post("oauth/google",{code:n}).then(function(i){e.setToken(i.access_token),t(e.user)},i)},i)})}},{key:"getGoogleAuthorizationCode",value:function(){var e="https://accounts.google.com/o/oauth2/v2/auth?"+v.default.serialize({redirect_uri:"http://www.phidias.co/googlesignin.html",client_id:this.data.googleClientId,scope:"email",response_type:"code",prompt:"select_account"});return new s.default(function(t,i){var n=window.open(e,"_blank"),a=function e(n){"success"==n.data.status?t(n.data.code):i(n.data.error),window.removeEventListener("message",e)};window.addEventListener("message",a),n.addEventListener("loadstart",function(e){var t=e.url,i=new RegExp(/\?code=(.+)$/).exec(t),a=new RegExp(/\?error=(.+)$/).exec(t),s={};i?(s.status="success",s.code=i[1]):a&&(s.status="error",s.error=a[1]),(i||a)&&(window.postMessage(s,"*"),n.close())})})}},{key:"getDataFromMetaTags",value:function(){for(var e={organization:{}},t=document.querySelectorAll("meta"),i=0;i<t.length;i++)if("phi-endpoint"==t[i].name&&(e.endpoint=t[i].content,this.isFixed=!0),"phi-title"==t[i].name&&(e.title=t[i].content),"phi-logo"==t[i].name&&(e.logo=t[i].content),"phi-google-client-id"==t[i].name&&(e.googleClientId=t[i].content),"phi-google-client-id"==t[i].name&&(e.googleClientId=t[i].content),"phi-organization-name"==t[i].name&&(e.organization.name=t[i].content),"phi-organization-website"==t[i].name&&(e.organization.website=t[i].content),"phi-organization-phone"==t[i].name&&(e.organization.phone=t[i].content),"phi-organization-location"==t[i].name){var n=t[i].content.split(",");e.organization.latitude=n[0],e.organization.longitude=n[1]}return e}},{key:"displayNotification",value:function(e,t){return!1 in navigator?void console.warn("serviceworker not supported"):void navigator.serviceWorker.getRegistration().then(function(i){i.showNotification(e,t)})}},{key:"registerPushNotifications",value:function(){var e=this;window.isPhone=document.URL.indexOf("http://")===-1&&document.URL.indexOf("https://")===-1,window.isPhone?document.addEventListener("deviceready",function(){return e.doRegister()},!1):this.doRegister()}},{key:"doRegister",value:function(){var e=this;if("undefined"==typeof PushNotification)return void w.default.subscribe().then(function(t){e.set({pushToken:w.default.getSubscriptionId(t)}),e.api.post("people/"+e.data.user.id+"/devices",{token:e.data.pushToken,platform:"gcm",model:"browser version here soon",uuid:e.data.pushToken}),"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",function(t){e.emit("notification",[t.data,t])})}).catch(function(e){});var t=this.data.googleClientId.split(".")[0],i=PushNotification.init({android:{senderID:t},ios:{alert:"true",badge:"true",sound:"true"},windows:{}});i.on("registration",function(t){window.device&&window.device.platform&&(e.set({pushToken:t.registrationId}),e.api.post("people/"+e.data.user.id+"/devices",{token:e.data.pushToken,platform:"Android"==window.device.platform?"gcm":window.device.platform,model:window.device.model,uuid:window.device.uuid}))}),i.on("notification",function(t){e.emit("notification",[t.additionalData.payload?t.additionalData.payload:null,t])}),i.on("error",function(e){alert(e.message)})}},{key:"unregisterPushNotifications",value:function(){var e=this;return"undefined"==typeof PushNotification?w.default.unsubscribe().then(function(){return e.api.delete("people/"+e.data.user.id+"/devices/"+e.data.pushToken)}):void(!!window.device&&this.api.delete("people/"+this.data.user.id+"/devices/"+window.device.uuid))}},{key:"title",get:function(){return this.data.title}},{key:"logo",get:function(){return this.data.logo}},{key:"organization",get:function(){return this.data.organization}},{key:"user",get:function(){return this.data.user}},{key:"isAuthenticated",get:function(){return null!=this.data.token}}]),e}();t.default=k},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(13),s=n(a),r=i(9),o=n(r),l=i(10),u=n(l),c=i(318),d=n(c),p=function(){function e(t){(0,o.default)(this,e),this.id=t?t:"phidias.cache",this.createDB()}return(0,u.default)(e,[{key:"createDB",value:function(){this.db=new d.default(this.id),this.db.version(1).stores({request:"hash, url, timestamp"})}},{key:"empty",value:function(){var e=this;return this.db.delete().then(function(){return e.createDB()})}},{key:"destroy",value:function(){return this.db.delete()}},{key:"fetch",value:function(t){if(!this.db)return new d.default.Promise(function(e,t){e()});var i=e.getHash(t);return this.db.request.get(i).then(function(t){return t?e.parse(t.response):void 0})}},{key:"store",value:function(t,i){var n=this,a=e.getHash(t);return e.stringify(i).then(function(e){return n.db.request.put({hash:a,url:t.url.split("?")[0],timestamp:new Date,response:e}),i})}},{key:"clear",value:function(e){return this.db.request.where("url").equals(e).delete()}}],[{key:"stringify",value:function(e){var e=e.clone(),t={};return e.headers.forEach(function(e,i){t[i]=e}),e.text().then(function(i){return(0,s.default)({body:i,options:{status:e.status,statusText:e.statusText,headers:t}})})}},{key:"parse",value:function(e){if(!e)return e;var t=JSON.parse(e);return new Response(t.body,t.options)}},{key:"getHash",value:function(e){return"cache:"+e.url}}]),e}();t.default=p},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(28),s=n(a),r=i(13),o=n(r),l=i(23),u=n(l),c=i(9),d=n(c),p=i(10),h=n(p),f=function(){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,d.default)(this,e),this.client=t,this.url=i,this.parameters=n,this._items=[],this._response=null,this.dummy=!1,this.reset()}return(0,h.default)(e,[{key:"reset",value:function(){this.meta={},this.countCache={},this.total=null,this.pagination={page:1,limit:20,hasNext:!1}}},{key:"fetch",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parameters,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!i&&this.reset(),this.parameters=t,this.client.fetch(this.url,{method:"get",body:(0,u.default)({},t,this.pagination)}).then(function(t){return e._response=t,e.total=t.headers.get("x-phidias-collection-total"),t.json()}).then(function(t){return e.total>0?e.pagination.hasNext=e.pagination.page<Math.ceil(e.total/e.pagination.limit):e.pagination.hasNext=t.length==e.pagination.limit,!i&&(e._items=[]),e.appendItems(t)})}},{key:"next",value:function(){return this.pagination.page++,this.fetch(this.parameters,!0)}},{key:"appendItems",value:function(e){var t=this;return e.forEach(function(e){return t.push(e)}),e}},{key:"push",value:function(t){for(var i=0;i<this._items.length;i++)if(e.areEqual(t,this._items[i]))return this._items[i]=e.merge(this._items[i],t),this._items[i];return this._items.push(t),t}},{key:"unshift",value:function(t){for(var i=0;i<this._items.length;i++)if(e.areEqual(t,this._items[i]))return this._items[i]=e.merge(this._items[i],t),this._items[i];return this._items.unshift(t),t}},{key:"splice",value:function(e){this._items.splice(this.indexOf(e),1)}},{key:"indexOf",value:function(t){for(var i=0;i<this._items.length;i++)if(e.areEqual(t,this._items[i]))return i;return-1}},{key:"getItem",value:function(e){var t=this.indexOf(e);return t==-1?null:this._items[t]}},{key:"setMeta",value:function(e,t,i){var n=this;if(Array.isArray(e))return e.forEach(function(e){return n.setMeta(e,t,i)});var a=this.constructor.getId(e);void 0==this.meta[a]&&(this.meta[a]={}),this.meta[a][t]=i,this.dummy=!this.dummy}},{key:"getMeta",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=this.constructor.getId(e);return this.meta[n]&&this.meta[n][t]?this.meta[n][t]:i}},{key:"show",value:function(e){this.setMeta(e,"hidden",!1),this.countCache={}}},{key:"hide",value:function(e){this.setMeta(e,"hidden",!0),this.countCache={}}},{key:"isHidden",value:function(e){return this.getMeta(e,"hidden",!1)}},{key:"toggle",value:function(e){this.isHidden(e)?this.show(e):this.hide(e)}},{key:"tag",value:function(e,t){var i=this;if(Array.isArray(e))return e.forEach(function(e){return i.tag(e,t)});var n=this.getMeta(e,"tags",[]);n.indexOf(t)==-1&&(n.push(t),this.setMeta(e,"tags",n)),delete this.countCache[t]}},{key:"untag",value:function(e,t){var i=this;if(Array.isArray(e))return e.forEach(function(e){return i.untag(e,t)});var n=this.getMeta(e,"tags",[]),a=n.indexOf(t);a!=-1&&(n.splice(a,1),this.setMeta(e,"tags",n)),delete this.countCache[t]}},{key:"hasTag",value:function(e,t){var i=this.getMeta(e,"tags",[]);return i.indexOf(t)!=-1}},{key:"toggleTag",value:function(e,t){var i=this;return Array.isArray(e)?e.forEach(function(e){return i.toggleTag(e,t)}):void(this.hasTag(e,t)?this.untag(e,t):this.tag(e,t))}},{key:"tagged",value:function(e){var t=this;return this.items.filter(function(i){return t.hasTag(i,e)})}},{key:"count",value:function e(t){if(void 0!=this.countCache[t])return this.countCache[t];var e=0;for(var i in this.meta)!this.meta[i].hidden&&this.meta[i].tags&&this.meta[i].tags.indexOf(t)!=-1&&e++;return this.countCache[t]=e,e}},{key:"override",value:function(){var e=this.client.buildRequest(this.url,{method:"get",body:(0,u.default)({},this.parameters,this.pagination)}),t={};this._response.headers.forEach(function(e,i){t[i]=e});var i=new Response((0,o.default)(this._items),{status:this._response.status,statusText:this._response.statusText,headers:t});this.client.cache.store(e,i)}},{key:"items",get:function(){var e=this;return this.dummy,this._items.filter(function(t){return!e.isHidden(t)})}},{key:"length",get:function(){return this.items.length}},{key:"isLoading",get:function(){return this.client.isLoading}},{key:"hasNext",get:function(){return this.pagination.hasNext}},{key:"isEmpty",get:function(){return!this.length&&!this.isLoading}}],[{key:"merge",value:function(e,t){return(0,u.default)(t,e)}},{key:"areEqual",value:function(t,i){return e.getId(t)==e.getId(i)}},{key:"getId",value:function(e){return"object"!=("undefined"==typeof e?"undefined":(0,s.default)(e))?e:e.id?e.id:(0,o.default)(e)}}]),e}();t.default=f},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(9),s=n(a),r=i(10),o=n(r),l=function(){function e(){(0,s.default)(this,e)}return(0,o.default)(e,null,[{key:"isValidCssColour",value:function(e){if(""===e)return!1;if("inherit"===e)return!1;if("transparent"===e)return!1;var t=!1,i=document.createElement("img");return i.style.color="rgb(0, 0, 0)",i.style.color=e,"rgb(0, 0, 0)"!==i.style.color&&(t=!0),t||(i.style.color="rgb(255, 255, 255)",i.style.color=e,t="rgb(255, 255, 255)"!==i.style.color),t}},{key:"getTextColorForBG",value:function(e){if("#"!=e[0]&&(e="#"+e),e.length<4||e.length>7)return"#000";if(4===e.length&&(e=String(e[0])+String(e[1])+String(e[1])+String(e[2])+String(e[2])+String(e[3])+String(e[3])),this.isValidCssColour(e)){var t=parseInt(e.substr(1,2),16),i=parseInt(e.substr(3,2),16),n=parseInt(e.substr(5,2),16),a=(299*t+587*i+114*n)/1e3;return a>=128?"#000":"#fff"}return"#000"}},{key:"createColorGradient",value:function(e,t,i,n,a,s,r,o,l){void 0==r&&(r=128),void 0==o&&(o=127),void 0==l&&(l=50);for(var u=[],c=0;c<l;++c){var d=Math.sin(e*c+n)*o+r,p=Math.sin(t*c+a)*o+r,h=Math.sin(i*c+s)*o+r;u.push("#"+("0"+parseInt(d,10).toString(16)).slice(-2)+("0"+parseInt(p,10).toString(16)).slice(-2)+("0"+parseInt(h,10).toString(16)).slice(-2))}return u}},{key:"getColorsList",value:function(e){return this.createColorGradient(1.666,2.666,3.666,0,0,0,200,60,e)}}]),e}();t.default=l},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(9),s=n(a),r=i(10),o=n(r),l=function(){function e(){(0,s.default)(this,e)}return(0,o.default)(e,null,[{key:"generateUUID",value:function(){var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,i="x"==e?t:3&t|8;return i.toString(16)});return e}}]),e}();t.default=l},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(9),s=n(a),r=i(10),o=n(r),l=i(261),u=n(l),c=i(262),d=n(c),p=function(){function e(){(0,s.default)(this,e)}return(0,o.default)(e,null,[{key:"prepareSources",value:function(e){var t=u.default.getColorsList(e.length>0?e.length:50),i=-1,n="Calendar",a="undefined"!=typeof window.sessionStorage;return e.forEach(function(s,r){if(e[r].hasOwnProperty("title")||(e[r].title=n+" "+r),a){var o=sessionStorage.getItem(e[r].title);null!==o&&(e[r].enabled=JSON.parse(o))}if(e[r].hasOwnProperty("enabled")||(e[r].enabled=!0),e[r].hasOwnProperty("id")||(e[r].id=d.default.generateUUID()),e[r].hasOwnProperty("color")){if(!u.default.isValidCssColour(s.color))if(6==String(s.color).length){var l="#"+String(s.color);u.default.isValidCssColour(l)?e[r].color=l:e[r].color=t[i+=1]}else e[r].color=t[i+=1]}else e[r].color=t[i+=1];e[r].hasOwnProperty("textColor")?u.default.isValidCssColour(s.textColor)||(e[r].textColor=u.default.getTextColorForBG(e[r].color)):e[r].textColor=u.default.getTextColorForBG(e[r].color)}),e}},{key:"injectSources",value:function(e,t){var i="undefined"!=typeof window.sessionStorage;return t.forEach(function(n,a){t[a].enabled&&e.fullCalendar("addEventSource",t[a]),t[a].toggle=function(){t[a].enabled?(e.fullCalendar("removeEventSource",t[a]),t[a].enabled=!1,i&&sessionStorage.setItem(t[a].title,!1)):(e.fullCalendar("addEventSource",t[a]),t[a].enabled=!0,i&&sessionStorage.setItem(t[a].title,!0))}}),t}}]),e}();t.default=p},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={decode:function(e){var t=e.split(".");if(3!==t.length)throw new Error("JWT must have 3 parts");var n=i.urlBase64Decode(t[1]);if(!n)throw new Error("Cannot decode the token");return JSON.parse(n)},isExpired:function(e){var t=i.getExpirationDate(e);return!!t&&!(t.valueOf()>(new Date).valueOf())},getExpirationDate:function(e){var t;if(t=i.decode(e),!t.exp)return null;var n=new Date(0);return n.setUTCSeconds(t.exp),n},urlBase64Decode:function(e){var t=e.replace("-","+").replace("_","/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}return decodeURIComponent(escape(window.atob(t)))}};t.default=i},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(9),s=n(a),r=i(10),o=n(r),l=function(){function e(){(0,s.default)(this,e),this.breadcrumbs=[]}return(0,o.default)(e,[{key:"clear",value:function(){this.breadcrumbs=[]}},{key:"push",value:function(e){for(var t=0;t<this.breadcrumbs.length;t++)if(e.id==this.breadcrumbs[t].id)return void this.breadcrumbs.splice(t+1);this.breadcrumbs.push(e)}}]),e}();t.default=l},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Push=t.Client=t.App=void 0;var a=i(258),s=n(a),r=i(50),o=n(r),l=i(51),u=n(l);t.App=s.default,t.Client=o.default,t.Push=u.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=i(18),s=n(a),r=i(1),o=n(r);s.default.filter("bytes",function(e,t){if(isNaN(parseFloat(e))||!isFinite(e))return"-";"undefined"==typeof t&&(t=1);var i=["bytes","kB","MB","GB","TB","PB"],n=Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,Math.floor(n))).toFixed(t)+" "+i[n]}),s.default.filter("date",function(e){return(0,o.default)(1e3*e).calendar()}),s.default.filter("person",function(e){return null!=e?e.lastname+", "+e.firstname:""}),s.default.filter("currency",function(e){if(e){var t=parseFloat(e);return"$"+t.toLocaleString("de-DE")}}),s.default.filter("moment.format",function(e){return(0,o.default)(1e3*e).format("D MMM Y")})},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(18),s=n(a),r=i(515),o=n(r),l=i(3),u=n(l),c=i(420),d=n(c),p=i(428),h=n(p),f=i(422),v=n(f),m=i(411),g=n(m),_=i(426),w=n(_),b=i(425),y=n(b),C=i(421),k=n(C),x=i(449),A=n(x),M=i(450),P=n(M),E=i(440),I=(n(E),
i(441)),L=(n(I),i(443)),N=(n(L),i(439)),R=(n(N),i(442)),S=(n(R),i(419)),F=n(S),T=i(447),$=n(T),O=i(429),D=n(O),z=i(431),j=n(z),q=i(432),B=n(q),U=i(436),G=n(U),H=i(430),W=n(H),Q=i(435),V=n(Q),Y=i(434),X=n(Y),Z=i(433),J=n(Z),K=i(444),ee=n(K),te=i(437),ie=n(te),ne=i(438),ae=n(ne),se=i(412),re=n(se),oe=i(413),le=n(oe),ue=i(424),ce=n(ue),de=i(448),pe=n(de),he=i(445),fe=n(he),ve=i(427),me=n(ve),ge=i(446),_e=n(ge),we=i(423),be=n(we),ye=i(414),Ce=n(ye),ke=i(417),xe=n(ke),Ae=i(418),Me=n(Ae),Pe=i(416),Ee=n(Pe),Ie=i(415),Le=n(Ie);s.default.use(o.default);var Ne=new o.default({routes:[{path:"/santiago",component:fe.default},{path:"/",redirect:"/dashboard"},{path:"/code",component:d.default,name:"code",meta:{isPublic:!0,exitOnBack:!0}},{path:"/login",component:h.default,name:"login",meta:{isPublic:!0,exitOnBack:!0}},{path:"/deck",component:v.default,children:[{path:"/hidden",component:y.default},{path:"/about",component:g.default,meta:{order:1}},{path:"/id",component:w.default,meta:{order:1}},{path:"/dashboard",component:k.default,meta:{order:1,exitOnBack:!0}},{path:"/archive",component:A.default,meta:{endpoint:"archive",order:3,exitOnBack:!0},name:"archive"},{path:"/threads/feed",component:A.default,meta:{endpoint:"feed",order:2},name:"feed"},{path:"/threads/feed/:threadId",component:P.default,meta:{order:3},name:"thread"},{path:"/billing/:personId",component:Ce.default,name:"billing",meta:{order:1}},{path:"/people",component:ie.default,meta:{order:10},name:"people"},{path:"/person/:personId",component:ae.default,meta:{order:11},name:"person"},{path:"/calendar",component:F.default,meta:{order:12,exitOnBack:!0},name:"calendar"},{path:"/settings",component:$.default,meta:{order:12,exitOnBack:!0},name:"settings"},{path:"/map",component:D.default,meta:{order:12,exitOnBack:!0},name:"map"},{path:"/attendance/admin",component:re.default,meta:{order:10,exitOnBack:!0},name:"attendance-admin"},{path:"/attendance/checkpoint/:nodeId",component:le.default,meta:{order:20},name:"attendance-checkpoint"},{path:"/tracker/:targetId",component:ce.default,meta:{order:1,exitOnBack:!0},name:"geo-tracker"},{path:"/root",component:ee.default,meta:{order:12},name:"root"},{path:"/nodes/:nodeId",component:j.default,meta:{order:13},children:[{path:"",component:B.default,meta:{order:14},name:"node"},{path:"posts/:type",component:G.default,meta:{order:15},name:"node-posts"},{path:"people",component:V.default,meta:{order:16},name:"node-people"},{path:"nodes",component:X.default,meta:{order:17},name:"node-nodes"},{path:"import",component:J.default,meta:{order:18},name:"node-import"}]},{path:"/nodes/:nodeId/posts/compose/:postId",component:W.default,meta:{order:20},name:"node-compose"},{path:"/test",component:pe.default},{path:"/sebas",component:_e.default,name:"Sebas"},{path:"/felipe",component:be.default},{path:"/leo",component:me.default},{path:"/billing/debits",component:xe.default},{path:"/billing/debits/:debitId",component:Me.default,name:"billing-debit-debitId",meta:{order:2}},{path:"/billing/credits",component:Ee.default},{path:"/billing/credits/:creditId",component:Le.default,name:"billing-credit-creditId",meta:{order:2}}]}]});Ne.beforeEach(function(e,t,i){return"code"==e.name||u.default.isReady?e.meta.isPublic||u.default.isAuthenticated?void i():void i({name:"login"}):void i({name:"code"})}),Ne.afterEach(function(e,t){Ne.previousRoute=t}),t.default=Ne},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,,,,function(e,t,i){function n(e){return i(a(e))}function a(e){return s[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var s={"./af":68,"./af.js":68,"./ar":75,"./ar-dz":69,"./ar-dz.js":69,"./ar-kw":70,"./ar-kw.js":70,"./ar-ly":71,"./ar-ly.js":71,"./ar-ma":72,"./ar-ma.js":72,"./ar-sa":73,"./ar-sa.js":73,"./ar-tn":74,"./ar-tn.js":74,"./ar.js":75,"./az":76,"./az.js":76,"./be":77,"./be.js":77,"./bg":78,"./bg.js":78,"./bn":79,"./bn.js":79,"./bo":80,"./bo.js":80,"./br":81,"./br.js":81,"./bs":82,"./bs.js":82,"./ca":83,"./ca.js":83,"./cs":84,"./cs.js":84,"./cv":85,"./cv.js":85,"./cy":86,"./cy.js":86,"./da":87,"./da.js":87,"./de":90,"./de-at":88,"./de-at.js":88,"./de-ch":89,"./de-ch.js":89,"./de.js":90,"./dv":91,"./dv.js":91,"./el":92,"./el.js":92,"./en-au":93,"./en-au.js":93,"./en-ca":94,"./en-ca.js":94,"./en-gb":95,"./en-gb.js":95,"./en-ie":96,"./en-ie.js":96,"./en-nz":97,"./en-nz.js":97,"./eo":98,"./eo.js":98,"./es":100,"./es-do":99,"./es-do.js":99,"./es.js":100,"./et":101,"./et.js":101,"./eu":102,"./eu.js":102,"./fa":103,"./fa.js":103,"./fi":104,"./fi.js":104,"./fo":105,"./fo.js":105,"./fr":108,"./fr-ca":106,"./fr-ca.js":106,"./fr-ch":107,"./fr-ch.js":107,"./fr.js":108,"./fy":109,"./fy.js":109,"./gd":110,"./gd.js":110,"./gl":111,"./gl.js":111,"./gom-latn":112,"./gom-latn.js":112,"./he":113,"./he.js":113,"./hi":114,"./hi.js":114,"./hr":115,"./hr.js":115,"./hu":116,"./hu.js":116,"./hy-am":117,"./hy-am.js":117,"./id":118,"./id.js":118,"./is":119,"./is.js":119,"./it":120,"./it.js":120,"./ja":121,"./ja.js":121,"./jv":122,"./jv.js":122,"./ka":123,"./ka.js":123,"./kk":124,"./kk.js":124,"./km":125,"./km.js":125,"./kn":126,"./kn.js":126,"./ko":127,"./ko.js":127,"./ky":128,"./ky.js":128,"./lb":129,"./lb.js":129,"./lo":130,"./lo.js":130,"./lt":131,"./lt.js":131,"./lv":132,"./lv.js":132,"./me":133,"./me.js":133,"./mi":134,"./mi.js":134,"./mk":135,"./mk.js":135,"./ml":136,"./ml.js":136,"./mr":137,"./mr.js":137,"./ms":139,"./ms-my":138,"./ms-my.js":138,"./ms.js":139,"./my":140,"./my.js":140,"./nb":141,"./nb.js":141,"./ne":142,"./ne.js":142,"./nl":144,"./nl-be":143,"./nl-be.js":143,"./nl.js":144,"./nn":145,"./nn.js":145,"./pa-in":146,"./pa-in.js":146,"./pl":147,"./pl.js":147,"./pt":149,"./pt-br":148,"./pt-br.js":148,"./pt.js":149,"./ro":150,"./ro.js":150,"./ru":151,"./ru.js":151,"./sd":152,"./sd.js":152,"./se":153,"./se.js":153,"./si":154,"./si.js":154,"./sk":155,"./sk.js":155,"./sl":156,"./sl.js":156,"./sq":157,"./sq.js":157,"./sr":159,"./sr-cyrl":158,"./sr-cyrl.js":158,"./sr.js":159,"./ss":160,"./ss.js":160,"./sv":161,"./sv.js":161,"./sw":162,"./sw.js":162,"./ta":163,"./ta.js":163,"./te":164,"./te.js":164,"./tet":165,"./tet.js":165,"./th":166,"./th.js":166,"./tl-ph":167,"./tl-ph.js":167,"./tlh":168,"./tlh.js":168,"./tr":169,"./tr.js":169,"./tzl":170,"./tzl.js":170,"./tzm":172,"./tzm-latn":171,"./tzm-latn.js":171,"./tzm.js":172,"./uk":173,"./uk.js":173,"./ur":174,"./ur.js":174,"./uz":176,"./uz-latn":175,"./uz-latn.js":175,"./uz.js":176,"./vi":177,"./vi.js":177,"./x-pseudo":178,"./x-pseudo.js":178,"./yo":179,"./yo.js":179,"./zh-cn":180,"./zh-cn.js":180,"./zh-hk":181,"./zh-hk.js":181,"./zh-tw":182,"./zh-tw.js":182};n.keys=function(){return Object.keys(s)},n.resolve=a,e.exports=n,n.id=386},,,,,,,function(e,t,i){i(329);var n=i(2)(i(191),i(461),null,null);e.exports=n.exports},function(e,t,i){i(343);var n=i(2)(i(192),i(477),null,null);e.exports=n.exports},function(e,t,i){i(375);var n=i(2)(i(194),i(514),"data-v-fb98817a",null);e.exports=n.exports},function(e,t,i){i(363);var n=i(2)(i(195),i(501),"data-v-b2025db0",null);e.exports=n.exports},function(e,t,i){var n=i(2)(i(196),i(490),null,null);e.exports=n.exports},function(e,t,i){var n=i(2)(i(197),i(502),null,null);e.exports=n.exports},function(e,t,i){var n=i(2)(i(198),i(468),null,null);e.exports=n.exports},function(e,t,i){i(366);var n=i(2)(i(199),i(505),"data-v-cdf54622",null);e.exports=n.exports},function(e,t,i){i(319);var n=i(2)(i(200),i(451),"data-v-00b4427b",null);e.exports=n.exports},function(e,t,i){i(338);var n=i(2)(i(201),i(472),"data-v-3d11da4c",null);e.exports=n.exports},function(e,t,i){i(355);var n=i(2)(i(204),i(491),"data-v-7b12df23",null);e.exports=n.exports},function(e,t,i){i(369);var n=i(2)(i(206),i(508),"data-v-df02c9a8",null);e.exports=n.exports},function(e,t,i){i(356);var n=i(2)(i(207),i(492),"data-v-7f940f4a",null);e.exports=n.exports},function(e,t,i){i(327);var n=i(2)(i(209),i(458),null,null);e.exports=n.exports},function(e,t,i){i(342);var n=i(2)(i(210),i(476),"data-v-425b7455",null);e.exports=n.exports},function(e,t,i){var n=i(2)(i(212),i(507),null,null);e.exports=n.exports},function(e,t,i){i(373);var n=i(2)(i(213),i(512),"data-v-fa6f79de",null);e.exports=n.exports},function(e,t,i){var n=i(2)(i(214),i(459),null,null);e.exports=n.exports},function(e,t,i){i(353);var n=i(2)(i(215),i(488),"data-v-70492eb6",null);e.exports=n.exports},function(e,t,i){i(348);var n=i(2)(i(216),i(481),"data-v-5341ada1",null);e.exports=n.exports},function(e,t,i){i(359);var n=i(2)(i(217),i(495),"data-v-8bf17db4",null);e.exports=n.exports},function(e,t,i){i(347);var n=i(2)(i(218),i(480),"data-v-510c46df",null);e.exports=n.exports},function(e,t,i){var n=i(2)(i(219),i(497),null,null);e.exports=n.exports},function(e,t,i){i(335);var n=i(2)(i(220),i(469),"data-v-3a83b17e",null);e.exports=n.exports},function(e,t,i){i(349);var n=i(2)(i(221),i(482),"data-v-5a699f53",null);e.exports=n.exports},function(e,t,i){var n=i(2)(i(222),i(483),null,null);e.exports=n.exports},function(e,t,i){i(372);var n=i(2)(i(223),i(511),null,null);e.exports=n.exports},function(e,t,i){i(374);var n=i(2)(i(224),i(513),null,null);e.exports=n.exports},function(e,t,i){i(351);var n=i(2)(i(225),i(486),"data-v-6c0fd42c",null);e.exports=n.exports},function(e,t,i){i(346);var n=i(2)(i(226),i(479),null,null);e.exports=n.exports},function(e,t,i){i(321);var n=i(2)(i(227),i(453),null,null);e.exports=n.exports},function(e,t,i){i(339);var n=i(2)(i(228),i(473),"data-v-3dd1b0f2",null);e.exports=n.exports},function(e,t,i){var n=i(2)(i(229),i(475),null,null);e.exports=n.exports},function(e,t,i){i(370);var n=i(2)(i(230),i(509),"data-v-e2cb8d9a",null);e.exports=n.exports},function(e,t,i){i(332);var n=i(2)(i(231),i(465),"data-v-2ef08aa4",null);e.exports=n.exports},function(e,t,i){i(361);var n=i(2)(i(232),i(498),null,null);e.exports=n.exports},function(e,t,i){i(326);var n=i(2)(i(233),i(457),null,null);e.exports=n.exports},function(e,t,i){i(368),i(367);var n=i(2)(i(234),i(506),"data-v-d3d4ed06",null);e.exports=n.exports},function(e,t,i){i(345),i(344);var n=i(2)(i(235),i(478),"data-v-4817e7a8",null);e.exports=n.exports},function(e,t,i){i(337);var n=i(2)(i(236),i(471),"data-v-3d0a68bf",null);e.exports=n.exports},function(e,t,i){i(350);var n=i(2)(i(237),i(484),"data-v-640ab70a",null);e.exports=n.exports},function(e,t,i){i(352);var n=i(2)(i(238),i(487),"data-v-6d640848",null);e.exports=n.exports},function(e,t,i){i(333),i(334);var n=i(2)(i(239),i(466),"data-v-31ddf0f4",null);e.exports=n.exports},function(e,t,i){i(330);var n=i(2)(i(240),i(462),"data-v-24ed03fe",null);e.exports=n.exports},function(e,t,i){var n=i(2)(i(241),i(463),null,null);e.exports=n.exports},function(e,t,i){i(325);var n=i(2)(i(242),i(456),"data-v-09609a6d",null);e.exports=n.exports},function(e,t,i){i(320);var n=i(2)(i(243),i(452),"data-v-00ffe66a",null);e.exports=n.exports},function(e,t,i){i(341),i(340);var n=i(2)(i(244),i(474),"data-v-3f01eb6c",null);e.exports=n.exports},function(e,t,i){i(365);var n=i(2)(i(245),i(504),"data-v-cdc3fa3e",null);e.exports=n.exports},function(e,t,i){i(371);var n=i(2)(i(246),i(510),"data-v-f39ba8de",null);e.exports=n.exports},function(e,t,i){i(357);var n=i(2)(i(247),i(493),"data-v-80ed04de",null);e.exports=n.exports},function(e,t,i){var n=i(2)(i(248),i(499),null,null);e.exports=n.exports},function(e,t,i){i(322);var n=i(2)(i(249),i(454),null,null);e.exports=n.exports},function(e,t,i){i(364);var n=i(2)(i(250),i(503),"data-v-cb2291cc",null);e.exports=n.exports},function(e,t,i){i(360);var n=i(2)(i(251),i(496),"data-v-8d7a378a",null);e.exports=n.exports},function(e,t,i){i(354);var n=i(2)(i(252),i(489),"data-v-72061d2a",null);e.exports=n.exports},function(e,t,i){i(328);var n=i(2)(i(253),i(460),"data-v-1a1fdcbb",null);e.exports=n.exports},function(e,t,i){i(323),i(324);var n=i(2)(i(254),i(455),"data-v-08a7bc32",null);e.exports=n.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"phi-credit"}},[i("section",[i("h2",[e._v("# "+e._s(e.credit.sequence))]),e._v(" "),i("div",{staticClass:"types phi-card _z-0"},[e.credit.person?i("div",{staticClass:"label"},[i("span",{staticClass:"fa fa-user-o"}),e._v(e._s(e.credit.person.firstname)+" ")]):e._e(),e._v(" "),i("div",{staticClass:"label"},[i("span",{staticClass:"fa fa-calendar-check-o"}),e._v(" Fecha "+e._s(e._f("moment.format")(e.credit.date)))]),e._v(" "),i("div",{staticClass:"label"},[i("span",{staticClass:"fa fa-calendar-times-o"}),e._v(" Fecha contable "+e._s(e._f("moment.format")(e.credit.effective_date)))]),e._v(" "),i("div",{staticClass:"label"},[i("span",{staticClass:"fa fa-money"}),e._v(" Total pagado "+e._s(e._f("currency")(e.credit.value)))])])]),e._v(" "),i("section",[i("h2",[e._v("conceptos pagados")]),e._v(" "),i("div",{staticClass:"types phi-card _z-0"},e._l(e.credit.debits,function(t){return i("div",{staticClass:"concepts"},[i("div",{staticClass:"concept_name"},[i("p",[i("b",[e._v(e._s(t.period.name)+" "),i("small",[e._v("#"+e._s(t.sequence))])])]),e._v(" "),e._l(t.distributions,function(t){return i("div",{staticClass:"concepts"},[i("p",[e._v(e._s(t.price.concept.name)+" "),i("small",[e._v("("+e._s(t.price.name)+")")])]),e._v(" "),i("div",{staticClass:"balance"},[e._v(e._s(e._f("currency")(t.value)))])])})],2)])}))])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"post-audience"},e._l(e.audience.items,function(t){return i("div",{staticClass:"phi-media person",on:{click:function(i){e.toggleUserInfo(t)}}},[i("div",{staticClass:"phi-media-figure phi-avatar"},[i("img",{attrs:{src:t.person.avatar,alt:t.person.firstName}})]),e._v(" "),i("div",{staticClass:"phi-media-body"},[i("h1",[e._v(e._s(t.person.lastName)+", "+e._s(t.person.firstName))]),e._v(" "),i("div",{staticClass:"read-date"},[t.readDate?i("span",[e._v(e._s(e.moment.unix(t.readDate).format("h:mm a")))]):e._e(),e._v(" "),t.readDate?e._e():i("span",[e._v("no leído")])]),e._v(" "),i("phi-drawer",{attrs:{open:e.audience.hasTag(t,"expanded")}},[e.audience.hasTag(t,"hasInfo")?i("phi-person-inscriptions",{attrs:{person:t.person},on:{ready:function(i){e.audience.tag(t,"expanded")}}}):e._e()],1)],1)])}))},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mapContainer"},[i("div",{staticClass:"controls",attrs:{id:"controlMaps"}},[i("button",{attrs:{id:"menu"},on:{click:function(t){e.$parent.$el.left.toggle()}}},[i("i",{staticClass:"fa fa-bars"})]),e._v(" "),i("div",{staticClass:"options"},[i("button",{attrs:{id:"findMe",title:"Reiniciar ruta"},on:{click:function(t){e.findMe()}}},[i("i",{staticClass:"ion-android-locate"})]),e._v(" "),i("button",{attrs:{id:"traceMe",title:"Ver mi ruta"},on:{click:function(t){e.traceRoute()}}},[i("i",{staticClass:"fa fa-bus"})]),e._v(" "),i("button",{attrs:{id:"markStop",title:"Marcar parada"},on:{click:function(t){e.markStop()}}},[i("i",{staticClass:"fa fa-thumb-tack"})]),e._v(" "),i("button",{attrs:{id:"logMe",title:"Ver coordenadas"},on:{click:function(t){e.logs()}}},[i("i",{staticClass:"fa fa-binoculars"})]),e._v(" "),i("button",{attrs:{title:"Actualizar"},on:{click:function(t){e.refresh()}}},[i("i",{staticClass:"fa fa-map-marker"})]),e._v(" "),i("button",{attrs:{title:"Activar/Desactivar"},on:{click:function(t){e.setAutorefresh(!e.isRefreshing)}}},[i("i",{directives:[{name:"show",rawName:"v-show",value:!e.isRefreshing,expression:"!isRefreshing"}],staticClass:"fa fa-play"}),e._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:e.isRefreshing,expression:"isRefreshing"}],staticClass:"fa fa-pause"})])])]),e._v(" "),i("div",{staticClass:"msg"},[i("div",{attrs:{id:"printMessage"}},[e._v(" "+e._s(e.message)+" ")])]),e._v(" "),i("div",{staticStyle:{"background-color":"rgba(0,0,0,0):"},attrs:{id:"map"}})])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"santiago"}},[i("h1",{on:{click:function(t){e.cambiarTitulo()}}},[e._v("HOLA MUNDO")]),e._v(" "),i("span",[e._v(e._s(e.titulo))]),e._v(" "),i("button",{on:{click:function(t){e.cargarDatos()}}},[e._v("Cargar datos")]),e._v(" "),i("ul",e._l(e.personas,function(t){return i("li",[e._v(e._s(t.firstName))])}))])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-page scrollable"},[i("div",{staticClass:"phi-page-cover"},[i("div",{staticClass:"phi-page-toolbar"},[i("button",{staticClass:"phi-button",on:{click:function(t){e.$router.go(-1)}}},[i("i",{staticClass:"fa fa-arrow-left"})]),e._v(" "),i("h1"),e._v(" "),e.posts.items[0]&&e.posts.items[0].event?i("a",{attrs:{href:e.app.api.host+"/calendar/events/"+e.posts.items[0].event.id+"/ics"}},[i("i",{staticClass:"fa fa-calendar-plus-o"})]):e._e()]),e._v(" "),e.posts.items[0]?i("div",{staticClass:"phi-page-header"},[i("h1",{domProps:{textContent:e._s(e.posts.items[0].title)}}),e._v(" "),e.posts.items[0].event?i("div",{staticClass:"phi-post-event"},[i("i",{staticClass:"fa fa-calendar-o"}),e._v(" "),"1"==e.posts.items[0].event.allDay?i("span",[e._v("\n                        "+e._s(e.moment.unix(e.posts.items[0].event.startDate).format("LL"))+"\n                    ")]):e._e(),e._v(" "),"1"!=e.posts.items[0].event.allDay?i("span",[i("span",[e._v(e._s(e.moment.unix(e.posts.items[0].event.startDate).format("LL h:mm a")))]),e._v(" "),e.posts.items[0].event.startDate!=e.posts.items[0].event.endDate?i("span",[e._v(" - "+e._s(e.moment.unix(e.posts.items[0].event.endDate).format("h:mm a")))]):e._e()]):e._e()]):e._e()]):e._e()]),e._v(" "),i("div",{staticClass:"phi-page-contents"},[e._l(e.posts.items.reverse(),function(t){return i("div",{staticClass:"post",class:{expanded:e.posts.hasTag(t,"expanded"),collapsed:!e.posts.hasTag(t,"expanded"),read:!e.isUnread(t),unread:e.isUnread(t)},on:{click:function(i){!e.posts.hasTag(t,"expanded")&&e.posts.tag(t,"expanded")}}},[i("div",{staticClass:"post-face phi-media"},[i("div",{staticClass:"phi-media-figure phi-avatar",on:{click:function(i){e.posts.hasTag(t,"expanded")&&e.togglePersonDetails(t.author)}}},[i("img",{attrs:{src:t.author.avatar,alt:t.author.firstName}}),e._v(" "),i("i",{staticClass:"fa fa-check"})]),e._v(" "),i("div",{staticClass:"phi-media-body"},[i("div",{staticClass:"post-author",domProps:{textContent:e._s(t.author.firstName)},on:{click:function(i){i.stopPropagation(),e.posts.toggleTag(t,"expanded")}}}),e._v(" "),i("div",{staticClass:"post-date"},[e._v(e._s(e.moment.unix(t.publishDate).calendar(null,{sameElse:"MMM D h:mm a"})))]),e._v(" "),e.allowed(t,"audience")?i("div",{staticClass:"post-audience",domProps:{textContent:e._s(e.$t("to {n} people",{n:t.audienceCount}))},on:{click:function(i){e.toggleAudience(t)}}}):e._e(),e._v(" "),i("div",{staticClass:"post-preview",domProps:{textContent:e._s(t.description)}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.blocks&&t.blocks.length>0,expression:"post.blocks && post.blocks.length > 0"}],staticClass:"post-attachment-count"},[i("i",{staticClass:"fa fa-paperclip"})])])]),e._v(" "),i("div",{staticClass:"post-contents"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.audienceIsShown,expression:"post.audienceIsShown"}],staticClass:"post-audience-people"},e._l(t.people,function(n){return i("div",{staticClass:"phi-chip phi-media",on:{click:function(i){t.author.id==e.app.user.id&&e.togglePersonDetails(n)}}},[i("div",{staticClass:"phi-media-figure phi-avatar"},[i("img",{attrs:{src:n.avatar,alt:"person.firstName"}})]),e._v(" "),i("div",{staticClass:"phi-media-body"},[e._v(e._s(n.firstName)+" "+e._s(n.lastName))])])})),e._v(" "),i("div",{staticClass:"post-description",domProps:{textContent:e._s(t.description)}}),e._v(" "),t.quotes?i("div",{staticClass:"post-quotes"},e._l(t.quotes,function(t){return i("div",{staticClass:"post quote phi-media"},[i("div",{staticClass:"phi-media-figure phi-avatar"},[i("img",{attrs:{src:t.author.avatar,alt:"quote.author.firstName"}})]),e._v(" "),i("div",{staticClass:"phi-media-body"},[i("div",{staticClass:"post-author"},[e._v(e._s(t.author.firstName)+" "+e._s(t.author.lastName))]),e._v(" "),i("div",{staticClass:"post-date"},[e._v(e._s(e.moment.unix(t.publishDate).calendar(null,{sameElse:"MMM D h:mm a"})))]),e._v(" "),i("div",{staticClass:"post-description"},[e._v(e._s(t.description))])])])})):e._e(),e._v(" "),e.allowed(t,"trail")?i("div",[i("button",{staticClass:"post-trail-handle",on:{click:function(i){e.toggleTrail(t)}}},[e._v("···")]),e._v(" "),i("post-trail",{directives:[{name:"show",rawName:"v-show",value:t.trailIsShown,expression:"post.trailIsShown"}],attrs:{post:t.objTrail}})],1):e._e(),e._v(" "),i("div",{staticClass:"post-blocks"},e._l(t.blocks,function(e){return i("phi-block",{attrs:{block:e}})})),e._v(" "),i("div",{staticClass:"post-actions"},[e.allowed(t,"reply")?i("button",{staticClass:"post-reply",on:{click:function(i){e.openReply(t)}}},[e._v(e._s(e.$t("reply")))]):e._e(),e._v(" "),e.allowed(t,"replyAll")?i("button",{staticClass:"post-reply-all",on:{click:function(i){e.openReply(t,!0)}}},[e._v(e._s(e.$t("reply to all")))]):e._e()])])])}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.tpl.replyIsOpen,expression:"tpl.replyIsOpen"}],staticClass:"reply post expanded"},[i("div",{staticClass:"post-contents"},[i("label",[e._v("Para:")]),e._v(" "),i("div",{staticClass:"post-audience-people"},[e._l(e.sanitizedAudience,function(t){return i("div",{staticClass:"phi-chip phi-media"},[i("div",{staticClass:"phi-media-figure phi-avatar"},[i("img",{attrs:{src:t.avatar,alt:"person.firstName"}})]),e._v(" "),i("div",{staticClass:"phi-media-body"},[e._v(e._s(t.firstName)+" "+e._s(t.lastName))]),e._v(" "),i("i",{staticClass:"phi-media-right fa fa-times",on:{click:function(i){e.audience.splice(e.audience.indexOf(t),1)}}})])}),e._v(" "),e.reply.replyTo&&e.allowed(e.posts.getItem(e.reply.replyTo),"invites")?i("phi-person-relevance-picker",{attrs:{api:e.app.api,"person-id":e.app.user.id},model:{value:e.audience,callback:function(t){e.audience=t},expression:"audience"}},[i("div",{staticClass:"phi-chip phi-media adder"},[i("div",{staticClass:"phi-media-body"},[e._v("...")]),e._v(" "),i("i",{staticClass:"phi-media-right fa fa-plus"})])]):e._e()],2),e._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.reply.description,expression:"reply.description"}],domProps:{value:e.reply.description},on:{input:[function(t){t.target.composing||(e.reply.description=t.target.value)},e.saveReply]}}),e._v(" "),i("button",{staticClass:"post-trail-handle",on:{click:function(t){e.toggleTrail(e.reply)}}},[e._v("···")]),e._v(" "),i("post-trail",{directives:[{name:"show",rawName:"v-show",value:e.reply.trailIsShown,expression:"reply.trailIsShown"}],attrs:{post:e.reply.objTrail}}),e._v(" "),i("div",{staticClass:"post-blocks"},e._l(e.reply.blocks,function(e){return i("div",{staticClass:"phi-media"},[i("div",{staticClass:"phi-media-body"},[i("phi-block",{attrs:{block:e,action:"files"==e.type?"edit":null}})],1)])})),e._v(" "),i("footer",[i("button",{staticClass:"cancel",on:{click:function(t){e.tpl.replyIsOpen=!1}}},[i("i",{staticClass:"fa fa-trash"})]),e._v(" "),i("button",{staticClass:"attach",on:{click:e.addFilesBlock}},[i("i",{staticClass:"fa fa-paperclip"})]),e._v(" "),i("button",{staticClass:"send phi-button",on:{click:e.sendReply}},[e._v("\n                            "+e._s(e.$t("send"))+"\n                        ")])])],1)])],2),e._v(" "),i("phi-slider-panel",{attrs:{side:"right",open:null!=e.currentPerson},on:{closed:function(t){e.currentPerson=null}}},[null!=e.currentPerson?i("div",{staticClass:"authorinfo"},[i("div",{staticClass:"cover"},[i("div",{staticClass:"avatar"},[i("img",{attrs:{src:e.currentPerson.avatar,alt:e.currentPerson.firstName}})]),e._v(" "),i("h1",[e._v(e._s(e.currentPerson.firstName)+" "+e._s(e.currentPerson.lastName))])]),e._v(" "),i("div",{staticClass:"contents"},[i("div",{staticClass:"roles"},e._l(e.currentPerson.roles,function(t){return i("div",{staticClass:"role"},[t.role?i("div",[i("label",[e._v(e._s(e.$t(t.role.singular)))]),e._v(" "),i("ul",e._l(t.nodes,function(t){return i("li",[e._v(e._s(t.name))])}))]):e._e(),e._v(" "),t.relation?i("div",[i("label",[e._v(e._s(e.$t(t.relation)))]),e._v(" "),i("ul",e._l(t.relatives,function(t){return i("li",[i("span",[e._v(e._s(t.person.firstname)+" "+e._s(t.person.lastname))]),e._v(" "),t.node?i("span",[e._v("("+e._s(t.node.name)+")")]):e._e()])}))]):e._e()])}))])]):e._e()])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-page"},[i("mu-linear-progress",{directives:[{name:"show",rawName:"v-show",value:e.app.api.isLoading,expression:"app.api.isLoading"}],attrs:{color:"#1c89b8"}}),e._v(" "),i("div",{staticClass:"phi-page-cover"},[i("div",{staticClass:"phi-page-toolbar"},[i("button",{staticClass:"phi-button",on:{click:function(t){e.$router.go(-1)}}},[i("i",{staticClass:"fa fa-arrow-left"})]),e._v(" "),i("h1",{domProps:{textContent:e._s(e.person.name)}})]),e._v(" "),i("div",{staticClass:"phi-page-header"},[i("div",{staticClass:"phi-media",staticStyle:{"font-size":"1.3em",color:"#fff"}},[i("div",{staticClass:"phi-media-figure phi-avatar",staticStyle:{width:"64px",height:"64px","max-width":"64px","max-height":"64px"}},[i("img",{attrs:{src:e.person.avatar,alt:e.person.firstName}})]),e._v(" "),i("div",{staticClass:"phi-media-body"},[i("h1",{domProps:{textContent:e._s(e.person.firstName+" "+e.person.lastName)}}),e._v(" "),i("small",{domProps:{textContent:e._s(e.person.email)}})])])])]),e._v(" "),i("div",{staticClass:"phi-page-contents"},[i("div",{staticClass:"phi-card _padded"},e._l(e.person,function(t,n){return i("phi-input",{staticStyle:{display:"block","margin-bottom":"32px"},attrs:{label:n},model:{value:e.person[n],callback:function(t){var i=e.person,a=n;Array.isArray(i)?i.splice(a,1,t):e.person[n]=t},expression:"person[propertyName]"}})})),e._v(" "),i("pre",[e._v(e._s(e.person))])])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"controls"},[i("button",{attrs:{id:"menu"},on:{click:function(t){e.$parent.$el.left.toggle()}}},[i("i",{staticClass:"fa fa-bars"})]),e._v(" "),i("button",{attrs:{id:"myLocation"},on:{click:function(t){e.locateMe()}}},[e._v("Mi ubicacion")])]),e._v(" "),i("div",{attrs:{id:"main-map"}})])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-qrc-reader"})},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;e._self._c||t;return e._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"editor"})])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-page scrollable"},[i("div",{staticClass:"phi-page-cover"},[i("div",{staticClass:"phi-page-toolbar",class:{_hidden:e.tpl.toolbarIsHidden}},[e.isArchive?i("button",{staticClass:"phi-button",on:{click:function(t){e.$parent.$el.left.toggle()}}},[i("i",{staticClass:"fa fa-bars"})]):i("button",{staticClass:"phi-button",on:{click:function(t){e.$router.go(-1)}}},[i("i",{staticClass:"fa fa-arrow-left"})]),e._v(" "),i("h1",{domProps:{textContent:e._s(e.isArchive?e.$t("Archived"):e.$route.query.type)}}),e._v(" "),e.isArchive?e._e():i("button",{directives:[{name:"show",rawName:"v-show",value:e.feed.count("selected")>0,expression:"feed.count('selected') > 0"}],staticClass:"phi-button selection-count",on:{click:function(t){e.move("archive")}}},[i("span",{domProps:{textContent:e._s(e.feed.count("selected"))}}),e._v(" "),i("i",{staticClass:"fa fa-archive"})]),e._v(" "),e.isArchive?i("button",{directives:[{name:"show",rawName:"v-show",value:e.feed.count("selected")>0,expression:"feed.count('selected') > 0"}],staticClass:"phi-button selection-count",on:{click:function(t){e.move("feed")}}},[i("span",{domProps:{textContent:e._s(e.feed.count("selected"))}}),e._v(" "),i("i",{staticClass:"fa fa-inbox"})]):e._e(),e._v(" "),i("div",{staticClass:"phi-tooltip"},[e._m(0),e._v(" "),i("ul",{staticClass:"phi-menu _texture-paper"},[i("li",{on:{click:function(t){e.tpl.menuIsOpen=!e.tpl.menuIsOpen}}},[i("span",[e._v(e._s(e.$t("select")))]),e._v(" "),i("phi-drawer",{attrs:{open:e.tpl.menuIsOpen}},[i("ul",{staticClass:"phi-menu"},[i("li",{on:{click:function(t){e.select("all")}}},[e._v(e._s(e.$t("all")))]),e._v(" "),i("li",{on:{click:function(t){e.select("read")}}},[e._v(e._s(e.$t("read")))]),e._v(" "),i("li",{on:{click:function(t){e.select("unread")}}},[e._v(e._s(e.$t("unread")))]),e._v(" "),i("li",{on:{click:function(t){e.select("none")}}},[e._v(e._s(e.$t("none")))])])])],1),e._v(" "),e.isArchive?e._e():i("li",{attrs:{disabled:!e.feed.count("selected")},on:{click:function(t){e.move("archive")}}},[e._v(e._s(e.$t("archive")))]),e._v(" "),e.isArchive?i("li",{attrs:{disabled:!e.feed.count("selected")},on:{click:function(t){e.move("feed")}}},[e._v(e._s(e.$t("restore")))]):e._e(),e._v(" "),i("li",{attrs:{disabled:!e.feed.count("selected")},on:{click:function(t){e.move("read")}}},[e._v(e._s(e.$t("mark read")))]),e._v(" "),i("li",{attrs:{disabled:!e.feed.count("selected")},on:{click:function(t){e.move("unread")}}},[e._v(e._s(e.$t("mark unread")))]),e._v(" "),i("li",{attrs:{disabled:!e.feed.count("selected")},on:{click:function(t){e.move("trash")}}},[e._v(e._s(e.$t("delete")))])])])])]),e._v(" "),i("mu-linear-progress",{directives:[{name:"show",rawName:"v-show",value:e.feed.isLoading,expression:"feed.isLoading"}],attrs:{color:"#1c89b8"}}),e._v(" "),i("div",{staticClass:"phi-page-contents"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.feed.isEmpty,expression:"feed.isEmpty"}],staticClass:"empty"},[i("p",[e._v("no hay nada aquí")])]),e._v(" "),i("div",{staticClass:"phi-card _z-0"},e._l(e.feed.items,function(t){return i("div",{staticClass:"post phi-media",class:{selected:e.feed.hasTag(t,"selected"),read:!e.isUnread(t),unread:e.isUnread(t)}},[i("div",{staticClass:"phi-media-figure phi-avatar",on:{click:function(i){e.feed.toggleTag(t,"selected")}}},[i("img",{attrs:{src:t.author.avatar,alt:t.author.firstName}}),e._v(" "),i("i",{staticClass:"fa fa-check"})]),e._v(" "),i("router-link",{staticClass:"phi-media-body",attrs:{to:{name:"thread",params:{threadId:t.thread.thread}}}},[i("h1",{staticClass:"post-title",domProps:{textContent:e._s(t.title)}}),e._v(" "),i("div",{staticClass:"post-author",domProps:{textContent:e._s(t.author.firstName)}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.thread.nTotal>1,expression:"post.thread.nTotal > 1"}],staticClass:"post-count",domProps:{textContent:e._s(t.thread.nTotal)}}),e._v(" "),i("div",{staticClass:"post-date"},[e._v(e._s(e.moment.unix(t.publishDate).calendar(null,{sameElse:"MMM D"})))]),e._v(" "),i("div",{staticClass:"post-preview",
domProps:{textContent:e._s(t.description)}})])],1)})),e._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:e.feed.hasNext,expression:"feed.hasNext"}],staticClass:"loadNext",domProps:{textContent:e._s(e.feed.isLoading?"cargando ...":"cargar más")},on:{click:function(t){e.feed.next()}}})]),e._v(" "),e.tpl.toastIsShown&&e.lastAction?i("mu-snackbar",{attrs:{message:e.lastAction.text,action:e.$t("undo")},on:{actionClick:function(t){e.undo()},close:function(t){e.tpl.toastIsShown=!1}}}):e._e()],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{staticClass:"phi-button"},[i("i",{staticClass:"fa fa-ellipsis-v"})])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vue-dropzone-container"},[i("div",{staticClass:"vue-dropzone"},[i("div",{staticClass:"dz-message"},[e._t("default",[i("h1",[e._v("Subir archivos")]),e._v(" "),i("p",{staticClass:"dz-message-idle"},[e._v("Arrastra archivos aquí o haz click")]),e._v(" "),i("p",{staticClass:"dz-message-hover"},[e._v("Sueltalos aquí")])])],2)])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("ons-fab",{attrs:{position:"bottom right"},on:{click:function(t){e.compose()}}},[i("ons-icon",{attrs:{icon:"md-plus"}})],1),e._v(" "),e.drafts.items.length?i("section",{staticClass:"drafts"},[i("label",{attrs:{for:""}},[e._v("borradores")]),e._v(" "),i("div",e._l(e.drafts.items,function(t){return i("router-link",{staticClass:"phi-media",attrs:{to:{name:"node-compose",params:{nodeId:e.$parent.nodeId,postId:t.id}}}},[i("div",{staticClass:"phi-media-figure"},[i("img",{attrs:{src:t.type.icon,alt:t.type.singular}})]),e._v(" "),i("div",{staticClass:"phi-media-body"},[i("h1",{domProps:{textContent:e._s(t.title||"sin asunto")}}),e._v(" "),i("p",{domProps:{textContent:e._s(t.description||"sin texto")}}),e._v(" "),i("small",[e._v("creado "+e._s(e._f("date")(t.creationDate)))])])])}))]):e._e(),e._v(" "),i("div",{staticClass:"phi-card _z-0"},e._l(e.posts.items,function(t){return i("router-link",{staticClass:"phi-media",attrs:{to:{name:"read",params:{threadId:t.thread}}}},[i("div",{staticClass:"phi-media-figure"},[i("img",{attrs:{src:t.type.icon,alt:t.type.singular}})]),e._v(" "),i("div",{staticClass:"phi-media-body"},[i("h1",{domProps:{textContent:e._s(t.title)}}),e._v(" "),i("p",{domProps:{textContent:e._s(t.description)}}),e._v(" "),i("small",[e._v("publicado "+e._s(e._f("date")(t.publishDate)))])])])}))],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-page"},[i("mu-linear-progress",{directives:[{name:"show",rawName:"v-show",value:e.app.api.isLoading,expression:"app.api.isLoading"}],attrs:{color:"#1c89b8"}}),e._v(" "),e._m(0),e._v(" "),i("div",{staticClass:"phi-page-contents"},[i("div",{staticClass:"phi-card"},[i("div",{staticClass:"_padded phi-media"},[i("i",{staticClass:"phi-media-figure fa fa-search",staticStyle:{"line-height":"2em","text-align":"center"}}),e._v(" "),i("phi-input",{staticClass:"phi-media-body",staticStyle:{margin:"5px",display:"block"},attrs:{label:"buscar"},on:{input:function(t){e.debounce()}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),e._l(e.people.items,function(t){return i("router-link",{staticClass:"phi-media",attrs:{to:{name:"person",params:{personId:t.id}}}},[i("div",{staticClass:"phi-media-figure phi-avatar"},[i("img",{attrs:{src:t.avatar,alt:t.firstName}})]),e._v(" "),i("div",{staticClass:"phi-media-body"},[i("h1",{domProps:{textContent:e._s(t.firstName+" "+t.lastName)}}),e._v(" "),i("small",{domProps:{textContent:e._s(t.email)}})])])})],2)])],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-page-cover"},[i("div",{staticClass:"phi-page-toolbar"},[i("h1",[e._v("Personas")])])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;e._self._c||t;return e._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-qrc-generator"},[i("canvas",{staticClass:"qr-container"})])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-page"},[i("div",{staticClass:"phi-page-cover"},[i("div",{staticClass:"phi-page-toolbar"},[i("button",{staticClass:"phi-button",on:{click:function(t){e.$parent.$el.left.toggle()}}},[i("i",{staticClass:"fa fa-bars"})]),e._v(" "),i("h1",[e._v("QR code components")])])]),e._v(" "),i("div",{staticClass:"phi-page-contents"},[i("ons-progress-bar",{directives:[{name:"show",rawName:"v-show",value:e.app.api.isLoading,expression:"app.api.isLoading"}],attrs:{indeterminate:""}}),e._v(" "),i("phi-qrc-generator",{attrs:{size:250,value:e.QRValue}}),e._v(" "),i("br"),e._v(" "),i("br"),e._v(" "),i("br"),e._v(" "),i("br"),e._v(" "),i("br"),e._v(" "),i("button",{on:{click:function(t){e.QRReaderEnabled=!e.QRReaderEnabled}}},[e._v("Scan/Stop")]),e._v(" "),i("phi-qrc-reader",{attrs:{enabled:e.QRReaderEnabled},on:{result:e.qrresult,error:e.qrerror}})],1)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-container"},[i("phi-input",{staticClass:"search",staticStyle:{display:"block"},attrs:{label:"buscar"},on:{input:function(t){e.debounce()}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e._v(" "),i("div",{staticClass:"phi-card inscription-adder"},[i("phi-drawer",{attrs:{open:e.isOpen}},[i("form",{on:{submit:function(t){t.preventDefault(),e.saveInscriptions()}}},[e._l(e.inscriptions,function(t){return i("div",{staticClass:"inscription phi-media"},[i("div",{staticClass:"phi-media-figure phi-avatar"},[i("img",{attrs:{src:t.avatar,alt:t.firstName}})]),e._v(" "),i("div",{staticClass:"phi-media-body"},[i("h1",[e._v(e._s(t.firstName)+" "+e._s(t.lastName))]),e._v(" "),i("phi-role-picker",{attrs:{gender:t.gender,label:"escoger rol"},model:{value:t.roles,callback:function(e){t.roles=e},expression:"inscription.roles"}})],1)])}),e._v(" "),i("phi-person-picker",{attrs:{label:"persona"},on:{select:function(t){e.appendPerson(arguments[0])}}}),e._v(" "),i("footer",[i("button",{staticClass:"phi-button",attrs:{disabled:!e.inscriptions.length}},[e._v("inscribir")]),e._v(" "),i("button",{staticClass:"phi-button cancel",attrs:{type:"button"},on:{click:function(t){e.isOpen=!1,e.inscriptions=[]}}},[e._v("cancelar")]),e._v(" "),i("router-link",{staticClass:"import phi-media",attrs:{to:{name:"node-import",params:{nodeId:e.$parent.nodeId}}}},[i("i",{staticClass:"fa fa-upload phi-media-figure"}),e._v(" "),i("span",{staticClass:"phi-media-body"},[e._v("importar archivo")])])],1)],2)]),e._v(" "),i("phi-drawer",{attrs:{open:!e.isOpen}},[i("div",{staticClass:"phi-media handle",on:{click:function(t){e.isOpen=!0}}},[i("i",{staticClass:"phi-media-figure fa fa-plus"}),e._v(" "),i("h1",{staticClass:"phi-media-body"},[e._v("inscribir")])])])],1),e._v(" "),i("div",{staticClass:"phi-card"},e._l(e.people.items,function(t){return i("div",{staticClass:"person phi-media"},[i("router-link",{staticClass:"phi-media-figure phi-avatar",attrs:{to:{name:"person",params:{personId:t.id}}}},[i("img",{attrs:{src:t.avatar,alt:t.firstName}})]),e._v(" "),i("div",{staticClass:"phi-media-body"},[i("h1",{domProps:{textContent:e._s(t.firstName+" "+t.lastName)}}),e._v(" "),i("phi-role-picker",{attrs:{label:"agregar rol",gender:t.gender},on:{select:function(i){e.addRole(t,arguments[0])},deselect:function(i){e.removeRole(t,arguments[0])}},model:{value:t.roles,callback:function(e){t.roles=e},expression:"person.roles"}})],1),e._v(" "),i("i",{staticClass:"phi-media-right fa fa-times",on:{click:function(i){e.deleteInscription(t)}}})],1)}))],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("phi-block-"+e.block.type,{tag:"component",staticClass:"phi-block",attrs:{post:e.post,block:e.block,action:e.action},on:{change:function(t){e.change()},destroy:function(t){e.destroy()},reset:function(t){e.reset()}}})},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-block-v3"},[e.action?e._e():[i("div",{domProps:{innerHTML:e._s(e.body)}})]],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-page",attrs:{id:"state-billing-credits"}},[i("div",{staticClass:"phi-page-cover"},[i("div",{staticClass:"phi-page-toolbar"},[i("button",{staticClass:"phi-button",on:{click:function(t){e.$parent.$el.left.toggle()}}},[i("i",{staticClass:"fa fa-bars"})]),e._v(" "),i("h1",[e._v("Consolidado de tesorería")])])]),e._v(" "),i("div",{staticClass:"phi-page-contents"},[i("section",[i("h2",[e._v("Pagos recientes")]),e._v(" "),e.loading1?i("div",{staticClass:"loading"},[i("i",{staticClass:"fa fa-spinner fa-pulse fa-3x fa-fw"})]):e._e(),e._v(" "),i("div",{staticClass:"types phi-card _z-0"},[i("ul",{staticClass:"list"},e._l(e.recent,function(t){return i("li",[i("router-link",{attrs:{to:{name:"billing-credit-creditId",params:{creditId:t.id}}}},[i("div",{staticClass:"info"},[i("p",[i("b",[e._v(e._s(t.method.name))]),e._v(" "),i("small",[e._v("#"+e._s(t.sequence))])]),e._v(" "),i("p",{staticClass:"dato"},[i("span",{staticClass:"fa fa-user-o"}),e._v(" "),i("small",[e._v(e._s(e._f("person")(t.person)))])]),e._v(" "),i("p",{staticClass:"dato"},[i("span",{staticClass:"fa fa-clock-o"}),e._v(" "),i("small",[e._v(e._s(e._f("moment.format")(t.date)))])])]),e._v(" "),i("div",{staticClass:"balance"},[i("p",{staticClass:"dato"},[i("span",{staticClass:"fa fa-money-o"}),i("b",[e._v(e._s(t.value))]),e._v(" "),i("br")])])])],1)}))])]),e._v(" "),i("br"),e._v(" "),i("section",[i("h2",[e._v("Pagos por aplicar")]),e._v(" "),e.loading2?i("div",{staticClass:"loading"},[i("i",{staticClass:"fa fa-spinner fa-pulse fa-3x fa-fw"})]):e._e(),e._v(" "),i("div",{staticClass:"types phi-card _z-0"},[i("ul",{staticClass:"list"},e._l(e.unapplied,function(t){return i("router-link",{attrs:{to:{name:"billing-credit-creditId",params:{creditId:t.id}},tag:"li"}},[i("p",[i("span",{staticClass:"fa fa-thumb-tack"}),e._v(" "+e._s(t.method.name)+" "),i("br"),e._v(" "),i("small",[e._v(e._s(e._f("person")(t.person)))])]),e._v(" "),i("p",[i("b",[e._v(e._s(t.balance))]),e._v(" "),i("br"),e._v(" "),i("small",[e._v(e._s(e._f("moment.format")(t.date)))])])])}))])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-drawer",class:{open:e.open,closed:!e.open}},[e._t("default")],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._m(0),e._v(" "),e._l(e.types,function(t){return i("section",{staticClass:"type"},[i("h1",{domProps:{textContent:e._s(1==t.nodes.length?t.type.singular:t.type.plural)}}),e._v(" "),i("div",{staticClass:"phi-card"},e._l(t.nodes,function(t){return i("router-link",{staticClass:"phi-media",attrs:{to:{name:"node",params:{nodeId:t.id}}}},[i("div",{staticClass:"phi-media-figure"},[i("img",{attrs:{src:e.app.api.host+"/icons/fa-users.png?color=2196F3&size=42",alt:t.type}})]),e._v(" "),i("h1",{staticClass:"phi-media-body",domProps:{textContent:e._s(t.name)}})])}))])})],2)},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"billboard"},[i("h1",[e._v("cartelera")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-debit"},[i("section",[i("h2",{directives:[{name:"show",rawName:"v-show",value:e.debit.sequence,expression:"debit.sequence"}]},[e._v("# "+e._s(e.debit.sequence))]),e._v(" "),i("h2",{directives:[{name:"show",rawName:"v-show",value:!e.debit.sequence,expression:"!debit.sequence"}]},[e._v(e._s(e.$t("not issued")))]),e._v(" "),i("div",{staticClass:"types phi-card _z-0"},[e.debit.person?i("div",{staticClass:"label"},[i("span",{staticClass:"fa fa-user-o"}),e._v(" "+e._s(e.debit.person.firstname))]):e._e(),e._v(" "),i("div",{staticClass:"label"},[i("span",{staticClass:"fa fa-calendar-check-o"}),e._v(" Expedido el "+e._s(e._f("moment.format")(e.debit.issue_date)))]),e._v(" "),i("div",{staticClass:"label"},[i("span",{staticClass:"fa fa-calendar-times-o"}),e._v(" Vence el "+e._s(e._f("moment.format")(e.debit.expiration_date)))]),e._v(" "),i("div",{staticClass:"label"},[i("span",{staticClass:"fa fa-money"}),e._v(" Saldo a pagar "+e._s(e._f("currency")(e.debit.balance)))])])]),e._v(" "),e.debit.prices?i("section",[i("h2",[e._v("conceptos a pagar")]),e._v(" "),i("div",{staticClass:"types phi-card _z-0"},e._l(e.debit.prices,function(t){return i("div",{staticClass:"concepts"},[i("div",{staticClass:"concept_name"},[i("p",[e._v(e._s(t.concept!=t.name?t.concept:"")+" "+e._s(t.name))]),e._v(" "),t.observations?i("p",[e._v('"'+e._s(t.observations)+'"')]):e._e()]),e._v(" "),i("div",{staticClass:"balance"},[e._v(e._s(e._f("currency")(t.balance)))])])}))]):e._e()])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-page"},[e._m(0),e._v(" "),i("div",{staticClass:"phi-page-contents"},[e.target?i("div",{staticClass:"phi-card target"},[i("h1",[e._v(e._s(e.target.name))]),e._v(" "),i("phi-tracker",{attrs:{target:e.target.id,every:e.every,enabled:e.enabled},on:{update:e.update}}),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.every,expression:"every"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.every=t.target.multiple?i:i[0]}}},[i("option",{domProps:{value:3e3}},[e._v("3 segundos")]),e._v(" "),i("option",{domProps:{value:1e4}},[e._v("10 segundos")]),e._v(" "),i("option",{domProps:{value:2e4}},[e._v("20 segundos")])]),e._v(" "),i("button",{on:{click:function(t){e.enabled=!e.enabled}}},[i("i",{directives:[{name:"show",rawName:"v-show",value:e.enabled,expression:"enabled"}],staticClass:"fa fa-pause"}),e._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:!e.enabled,expression:"!enabled"}],staticClass:"fa fa-play"})]),e._v(" "),i("ul",e._l(e.log,function(t){return i("li",[i("a",{attrs:{target:"_blank",href:"https://www.google.com.co/maps/place//@"+t.latitude+","+t.longitude+",17z"}},[e._v(e._s(t.latitude)+", "+e._s(t.longitude))])])}))],1):e._e()])])},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-page-toolbar"},[i("h1",[e._v("Ubicación")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-page scrollable"},[i("mu-linear-progress",{directives:[{name:"show",rawName:"v-show",value:e.app.api.isLoading,expression:"app.api.isLoading"}],attrs:{color:"#1c89b8"}}),e._v(" "),i("div",{staticClass:"phi-page-cover",style:{"background-image":"url("+e.coverImage+")"}},[i("div",{staticClass:"phi-page-toolbar",class:{_hidden:e.toolbarIsHidden}},[i("button",{staticClass:"phi-button",on:{click:function(t){e.$router.go(-1)}}},[i("i",{staticClass:"fa fa-arrow-left"})]),e._v(" "),i("h1"),e._v(" "),e.post.event?i("a",{attrs:{href:e.app.api.host+"/calendar/events/"+e.post.event.id+"/ics"}},[i("i",{staticClass:"fa fa-calendar-plus-o"})]):e._e()]),e._v(" "),i("phi-drawer",{attrs:{open:!e.pageIsCollapsed}},[i("div",{staticClass:"phi-page-header"},[i("h1",{domProps:{innerHTML:e._s(e.post.title||"&nbsp;")}}),e._v(" "),e.post.event?i("div",{staticClass:"phi-post-event"},[i("i",{staticClass:"fa fa-calendar-o"}),e._v(" "),"1"==e.post.event.allDay?i("span",[e._v("\n\t\t\t\t\t\t"+e._s(e.moment.unix(e.post.event.startDate).format("LL"))+"\n\t\t\t\t\t")]):e._e(),e._v(" "),"1"!=e.post.event.allDay?i("span",[i("span",[e._v(e._s(e.moment.unix(e.post.event.startDate).format("LL h:mm a")))]),e._v(" "),e.post.event.startDate!=e.post.event.endDate?i("span",[e._v(" - "+e._s(e.moment.unix(e.post.event.endDate).format("h:mm a")))]):e._e()]):e._e()]):e._e()])])],1),e._v(" "),i("div",{staticClass:"phi-page-contents",class:"moving-"+e.transitionDirection},[i("transition",{attrs:{name:"slidepost"}},[i("router-view",{key:e.$route.path})],1)],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-page"},[i("div",{staticClass:"phi-page-cover"},[i("div",{staticClass:"phi-page-toolbar"},[i("button",{staticClass:"phi-button",on:{click:function(t){e.$parent.$el.left.toggle()}}},[i("i",{staticClass:"fa fa-bars"})]),e._v(" "),i("h1",[e._v("Labs")])])]),e._v(" "),i("div",{staticClass:"phi-page-contents"},[i("div",{staticClass:"phi-card"},[i("router-link",{staticClass:"phi-media",attrs:{to:"/map"}},[i("div",{staticClass:"phi-media-figure fa fa-map-marker"}),e._v(" "),i("div",{staticClass:"phi-media-body"},[e._v("Mapa")])]),e._v(" "),i("router-link",{staticClass:"phi-media",attrs:{to:"/felipe"}},[i("div",{staticClass:"phi-media-figure fa fa-map-marker"}),e._v(" "),i("div",{staticClass:"phi-media-body"},[e._v("Mapa v2")])]),e._v(" "),i("router-link",{staticClass:"phi-media",attrs:{to:"/leo"}},[i("div",{staticClass:"phi-media-figure fa fa-map-marker"}),e._v(" "),i("div",{staticClass:"phi-media-body"},[e._v("QR Test")])]),e._v(" "),i("router-link",{staticClass:"phi-media",attrs:{to:"/attendance/admin"}},[i("div",{staticClass:"phi-media-figure fa fa-map-marker"}),e._v(" "),i("div",{staticClass:"phi-media-body"},[e._v("Asistencia")])])],1)])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-role-picker"},[i("phi-drawer",{attrs:{open:!e.isCreating}},[i("div",{staticClass:"role-list"},[e._l(e.selection,function(t){return i("div",{staticClass:"role"},[i("p",{domProps:{textContent:e._s(e.toString(t))}}),e._v(" "),i("i",{staticClass:"fa fa-times",on:{click:function(i){e.deselect(t)}}})])}),e._v(" "),i("select",{on:{change:function(t){e.select(t)}}},[i("option",{attrs:{value:""}},[e._v("- "+e._s(e.label)+" -")]),e._v(" "),e._l(e.availableRoles,function(t){return i("option",{domProps:{value:t.maleNoun.singular,textContent:e._s(e.toString(t))}})}),e._v(" "),i("option",{attrs:{value:"+"}},[e._v("Crear rol")])],2)],2)]),e._v(" "),i("phi-drawer",{attrs:{open:e.isCreating}},[i("form",{staticClass:"role-adder",on:{submit:function(t){t.preventDefault(),e.createRole()}}},[i("phi-input",{attrs:{label:"el"},model:{value:e.newRole.maleNoun.singular,callback:function(t){e.newRole.maleNoun.singular=t},expression:"newRole.maleNoun.singular"}}),e._v(" "),i("phi-input",{attrs:{label:"los"},model:{value:e.newRole.maleNoun.plural,callback:function(t){e.newRole.maleNoun.plural=t},expression:"newRole.maleNoun.plural"}}),e._v("\n                /\n                "),i("phi-input",{attrs:{label:"la"},model:{value:e.newRole.femaleNoun.singular,callback:function(t){e.newRole.femaleNoun.singular=t},expression:"newRole.femaleNoun.singular"}}),e._v(" "),i("phi-input",{attrs:{label:"las"},model:{value:e.newRole.femaleNoun.plural,callback:function(t){e.newRole.femaleNoun.plural=t},expression:"newRole.femaleNoun.plural"}}),e._v(" "),i("button",{staticClass:"phi-button"},[e._v("crear")]),e._v(" "),i("button",{staticClass:"phi-button cancel",attrs:{type:"button"},on:{click:function(t){e.isCreating=!1}}},[e._v("cancelar")])],1)])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;e._self._c||t;return e._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"calendar-container"})])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-page"},[i("mu-linear-progress",{directives:[{name:"show",rawName:"v-show",value:e.app.api.isLoading,expression:"app.api.isLoading"}],attrs:{color:"#1c89b8"}}),e._v(" "),i("div",{staticClass:"phi-page-cover",style:{"background-image":"url("+e.coverImage+")"}},[i("div",{staticClass:"phi-page-toolbar"},[i("button",{staticClass:"phi-button",on:{click:function(t){e.$parent.$el.left.toggle()}}},[i("i",{staticClass:"fa fa-bars"})]),e._v(" "),i("ul",{staticClass:"phi-breadcrumbs phi-page-toolbar-wide"},e._l(e.app.navigation.breadcrumbs,function(t){return i("li",[i("router-link",{attrs:{to:{name:"node",params:{nodeId:t.id}}},domProps:{textContent:e._s(t.name)}})],1)}))]),e._v(" "),i("phi-drawer",{attrs:{open:!e.pageIsCollapsed}},[i("div",{staticClass:"phi-page-header"},[i("small",{domProps:{innerHTML:e._s(e.node.type.singular||"&nbsp;")}}),e._v(" "),i("h1",{domProps:{innerHTML:e._s(e.node.name||"&nbsp;")}})])]),e._v(" "),i("div",{staticClass:"phi-page-navigation"},[i("router-link",{attrs:{to:{name:"node",params:{nodeId:e.nodeId}},exact:""}},[e._v("Inicio")]),e._v(" "),e._l(e.types,function(t){return i("router-link",{attrs:{to:{name:"node-posts",params:{nodeId:e.nodeId,type:t.singular}}},domProps:{textContent:e._s(t.plural)}})}),e._v(" "),i("router-link",{attrs:{to:{name:"node-people",params:{nodeId:e.nodeId}}}},[e._v("Personas")]),e._v(" "),i("router-link",{attrs:{to:{name:"node-nodes",params:{nodeId:e.nodeId}}}},[e._v("Grupos")])],2)],1),e._v(" "),i("div",{staticClass:"phi-page-contents",class:"moving-"+e.transitionDirection},[i("transition",{attrs:{name:"slidetab"}},[i("router-view",{key:e.$route.path})],1)],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.app.user?i("ons-splitter",[i("ons-splitter-content",{class:"move-"+e.transitionDirection,attrs:{id:"main-view"}},[i("transition",{attrs:{name:"slide"},on:{"before-enter":e.beforeEnter,"before-leave":e.beforeLeave,enter:e.enter,"after-leave":e.afterLeave}},[i("router-view",{key:e.$route.params.nodeId})],1)],1),e._v(" "),i("ons-splitter-side",{attrs:{id:"sidemenu","swipe-target-width":"64",side:"left",width:"314px",collapse:"(max-width: 800px)",swipeable:""}},[i("header",[i("div",{staticClass:"school",on:{click:e.toggleMenu}},[i("router-link",{attrs:{to:"/about"}},[i("h1",{domProps:{textContent:e._s(e.app.title)}})])],1),e._v(" "),e.app.user?i("div",{staticClass:"user",on:{click:e.toggleMenu}},[i("router-link",{attrs:{to:"/id"}},[i("div",{staticClass:"phi-media"},[i("div",{staticClass:"phi-media-figure phi-avatar"},[i("img",{attrs:{src:e.app.user.avatar,alt:e.app.user.firstName}})]),e._v(" "),i("h1",{staticClass:"phi-media-body",domProps:{textContent:e._s(e.app.user.firstName+" "+e.app.user.lastName)}})])])],1):e._e()]),e._v(" "),i("div",{staticClass:"phi-menu main-options",on:{click:e.toggleMenu}},[i("router-link",{attrs:{to:"/dashboard"}},[e._v(e._s(e.$t("Inbox")))]),e._v(" "),i("router-link",{attrs:{to:"/calendar"}},[e._v(e._s(e.$t("Calendar")))]),e._v(" "),e.allowed.billing?i("router-link",{attrs:{to:"/billing/"+e.app.user.id}},[e._v(e._s(e.$t("Billing")))]):e._e(),e._v(" "),i("router-link",{attrs:{to:"/archive"}},[e._v(e._s(e.$t("Archived")))]),e._v(" "),i("hr"),e._v(" "),i("router-link",{attrs:{to:"/settings"}},[e._v(e._s(e.$t("Settings")))])],1)])],1):e._e()},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-page",attrs:{id:"state-billing"}},[i("div",{staticClass:"phi-page-cover"},[i("div",{staticClass:"phi-page-toolbar"},[i("button",{staticClass:"phi-button",on:{click:function(t){e.$parent.$el.left.toggle()}}},[i("i",{staticClass:"fa fa-bars"})]),e._v(" "),i("h1",[e._v(e._s(e.$t("Billing")))])])]),e._v(" "),i("mu-linear-progress",{directives:[{name:"show",rawName:"v-show",value:e.app.api.isLoading,expression:"app.api.isLoading"}],attrs:{color:"#1c89b8"}}),e._v(" "),i("div",{staticClass:"phi-page-contents"},[e.pendings.length?i("mu-list",[i("mu-sub-header",[e._v("Cobros pendientes")]),e._v(" "),e._l(e.pendings,function(t){return i("router-link",{attrs:{to:{name:"billing-debit-debitId",params:{debitId:t.id}}}},[i("mu-list-item",{attrs:{title:t.period.name+" #"+t.sequence}},[i("mu-avatar",{staticStyle:{"background-color":"#009688"},attrs:{src:"../../static/img/billing.png"},slot:"leftAvatar"}),e._v(" "),i("div",{staticClass:"document"},[i("div",{staticClass:"info"},[i("p",{class:t.expiration_date<=e.fecha?"expiration":""},[i("span",{staticClass:"fa fa-clock-o"}),e._v(" Vence: "+e._s(e._f("moment.format")(t.expiration_date)))]),e._v(" "),i("p",[i("span",{staticClass:"fa fa-user-o"}),e._v(" "+e._s(t.person.firstname))])]),e._v(" "),i("div",{staticClass:"balance",attrs:{align:"right"}},[i("b",[e._v(e._s(e._f("currency")(t.balance)))]),e._v(" "),i("br"),e._v(" "),i("span",{staticClass:"interest"},[t.interests?i("span",{staticClass:"fa fa-warning"}):e._e(),e._v(" "+e._s(e._f("currency")(t.interests?t.interests.value:"")))])])])],1)],1)})],2):e._e(),e._v(" "),e.recent.length?i("mu-list",[i("mu-sub-header",[e._v("Pagos recientes")]),e._v(" "),e._l(e.recent,function(t){return i("router-link",{attrs:{to:{name:"billing-credit-creditId",params:{creditId:t.id}}}},[i("mu-list-item",{attrs:{title:t.method.name}},[i("mu-avatar",{staticStyle:{"background-color":"#FFFF00"},attrs:{src:"../../static/img/billing.png"},slot:"leftAvatar"}),e._v(" "),i("div",{staticClass:"document"},[i("div",{staticClass:"info"},[i("p",{class:t.date<=e.fecha?"expiration":""},[i("span",{staticClass:"fa fa-calendar"}),e._v(" "+e._s(e._f("moment.format")(t.date)))]),e._v(" "),t.person?i("p",[i("span",{staticClass:"fa fa-user-o"}),e._v(" "+e._s(t.person.firstname))]):e._e()]),e._v(" "),i("div",{staticClass:"balance",attrs:{align:"right"}},[i("b",[e._v(e._s(e._f("currency")(t.value)))]),e._v(" "),i("br")])])],1)],1)})],2):e._e(),e._v(" "),e.unapplied.length?i("mu-list",[i("mu-sub-header",[e._v("Pagos por aplicar")]),e._v(" "),e._l(e.unapplied,function(t){return i("router-link",{attrs:{to:{name:"billing-credit-creditId",params:{creditId:t.id}}}},[i("mu-list-item",{attrs:{title:t.method.name}},[i("mu-avatar",{staticStyle:{"background-color":"#3F51B5"},attrs:{src:"../../static/img/billing.png"},slot:"leftAvatar"}),e._v(" "),i("div",{staticClass:"document"},[i("div",{staticClass:"info"},[i("p",{class:t.date<=e.fecha?"expiration":""},[i("span",{staticClass:"fa fa-calendar"}),e._v(" "+e._s(e._f("moment.format")(t.date)))]),e._v(" "),t.person?i("p",[i("span",{staticClass:"fa fa-user-o"}),e._v(" "+e._s(t.person.firstname))]):e._e()]),e._v(" "),i("div",{staticClass:"balance",attrs:{align:"right"}},[i("b",[e._v(e._s(e._f("currency")(t.balance)))]),e._v(" "),i("br")])])],1)],1)})],2):e._e()],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-page"},[i("div",{staticClass:"phi-page-cover"},[i("div",{staticClass:"phi-page-toolbar"},[i("button",{staticClass:"phi-button",on:{click:function(t){e.$parent.$el.left.toggle()}}},[i("i",{staticClass:"fa fa-bars"})]),e._v(" "),i("h1",[e._v(e._s(e.$t("Checkpoints")))])])]),e._v(" "),i("div",{staticClass:"phi-page-contents"},[i("div",{staticClass:"phi-card"},[e._l(e.checkpoints.items,function(t){return i("router-link",{attrs:{to:{name:"attendance-checkpoint",params:{nodeId:t.id},query:{title:t.name}}}},[i("div",{staticClass:"phi-media"},[i("div",{staticClass:"phi-media-body"},[e._v(e._s(t.name))])])])}),e._v(" "),i("phi-drawer",{attrs:{open:e.tpl.drawerIsOpen}},[i("fieldset",[i("phi-input",{attrs:{label:e.$t("name")},model:{value:e.newNode.name,callback:function(t){e.newNode.name=t},expression:"newNode.name"}})],1),e._v(" "),i("footer",[i("div",{staticClass:"phi-media save",on:{click:e.createCheckpoint}},[i("i",{staticClass:"phi-media-figure fa fa-check"}),e._v(" "),i("div",{staticClass:"phi-media-body"},[e._v(e._s(e.$t("save")))])]),e._v(" "),i("div",{staticClass:"phi-media cancel",on:{click:function(t){e.tpl.drawerIsOpen=!1}}},[i("i",{staticClass:"phi-media-figure fa fa-times"}),e._v(" "),i("div",{staticClass:"phi-media-body"},[e._v(e._s(e.$t("cancel")))])])])]),e._v(" "),i("phi-drawer",{attrs:{open:!e.tpl.drawerIsOpen}},[i("div",{staticClass:"phi-media",on:{click:function(t){e.tpl.drawerIsOpen=!0}}},[i("i",{staticClass:"phi-media-figure fa fa-plus"}),e._v(" "),i("div",{staticClass:"phi-media-body"},[e._v(e._s(e.$t("add checkpoint")))])])])],2)])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-page",attrs:{id:"state-billing-debits"}},[i("div",{staticClass:"phi-page-cover"},[i("div",{staticClass:"phi-page-toolbar"},[i("button",{staticClass:"phi-button",on:{click:function(t){e.$parent.$el.left.toggle()}}},[i("i",{staticClass:"fa fa-bars"})]),e._v(" "),i("h1",[e._v(e._s(e.$t("Billing")))])])]),e._v(" "),i("mu-linear-progress",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],attrs:{color:"#1c89b8"}}),e._v(" "),e.isLoading?e._e():i("div",{staticClass:"phi-page-contents"},[i("section",[i("h2",[e._v("Cobros pendientes")]),e._v(" "),i("div",{staticClass:"types phi-card _z-0"},[i("ul",{staticClass:"list"},e._l(e.pendings,function(t){return i("li",[i("router-link",{attrs:{to:{name:"billing-debit-debitId",params:{debitId:t.id}}}},[i("div",{staticClass:"col info"},[i("p",[i("b",[e._v(e._s(t.period.name)+" "),i("small",[e._v("#"+e._s(t.sequence))])])]),e._v(" "),i("p",{staticClass:"dato"},[i("span",{staticClass:"fa fa-clock-o"}),e._v(" "+e._s(e._f("moment.format")(t.expiration_date)))]),e._v(" "),i("p",{staticClass:"dato"},[i("span",{staticClass:"fa fa-user-o"}),e._v(" "+e._s(t.person.firstname))])]),e._v(" "),i("div",{staticClass:"col balance",attrs:{align:"right"}},[i("b",[e._v(e._s(e._f("currency")(t.balance)))]),e._v(" "),i("br"),e._v(" "),i("span",{staticClass:"interest"},[t.interests?i("span",{staticClass:"fa fa-warning"}):e._e(),e._v(" "+e._s(e._f("currency")(t.interests?t.interests.value:"")))])])])],1)}))])])])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-page",attrs:{id:"state-debits-details"}},[i("div",{staticClass:"phi-page-cover"},[i("div",{staticClass:"phi-page-toolbar"},[i("button",{staticClass:"phi-button",on:{click:function(t){e.$router.go(-1)}}},[i("i",{staticClass:"fa fa-arrow-left"})]),e._v(" "),e.debit.period?i("h1",[e._v(e._s(e.debit.period.name))]):e._e()])]),e._v(" "),i("div",{staticClass:"phi-page-contents"},[i("phi-debit",{attrs:{debit:e.debit}})],1)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-container",attrs:{id:"node-import"}},[i("router-link",{staticClass:"go-back",attrs:{to:{name:"node-people",params:{nodeId:e.nodeId}}}},[i("i",{staticClass:"fa fa-arrow-left"})]),e._v(" "),i("section",{staticClass:"file-picker"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.file,expression:"!file"}]},[i("h1",[e._v("Selecciona o arrastra un archivo CSV")]),e._v(" "),i("input",{attrs:{type:"file"},on:{change:function(t){e.fileChanged(t)}}})]),e._v(" "),i("a",{directives:[{name:"show",rawName:"v-show",value:e.file,expression:"file"}],on:{click:function(t){e.file=null}}},[i("i",{staticClass:"fa fa-times"}),e._v(" "),i("span",[e._v("cambiar archivo")])])]),e._v(" "),i("section",{directives:[{name:"show",rawName:"v-show",value:e.filePreview.length>0,expression:"filePreview.length > 0"}],staticClass:"file-preview"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.ignoreFirstLine,expression:"ignoreFirstLine"}],attrs:{type:"checkbox",id:"ignoreFirstLine"
},domProps:{checked:Array.isArray(e.ignoreFirstLine)?e._i(e.ignoreFirstLine,null)>-1:e.ignoreFirstLine},on:{__c:function(t){var i=e.ignoreFirstLine,n=t.target,a=!!n.checked;if(Array.isArray(i)){var s=null,r=e._i(i,s);a?r<0&&(e.ignoreFirstLine=i.concat(s)):r>-1&&(e.ignoreFirstLine=i.slice(0,r).concat(i.slice(r+1)))}else e.ignoreFirstLine=a}}}),e._v(" "),i("label",{attrs:{for:"ignoreFirstLine"}},[e._v("ignorar primera linea")]),e._v(" "),i("table",{attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[i("thead",{directives:[{name:"show",rawName:"v-show",value:e.ignoreFirstLine,expression:"ignoreFirstLine"}]},[i("tr",e._l(e.fileColumns,function(t,n){return i("td",{domProps:{textContent:e._s(t)},on:{click:function(t){e.selectColumn(n)}}})}))]),e._v(" "),i("tbody",[i("tr",{directives:[{name:"show",rawName:"v-show",value:!e.ignoreFirstLine,expression:"!ignoreFirstLine"}]},e._l(e.fileColumns,function(t,n){return i("td",{domProps:{textContent:e._s(t)},on:{click:function(t){e.selectColumn(n)}}})})),e._v(" "),e._l(e.filePreview,function(t){return i("tr",e._l(t,function(t,n){return i("td",{domProps:{textContent:e._s(t)},on:{click:function(t){e.selectColumn(n)}}})}))})],2)])]),e._v(" "),e.fileColumns.length?i("section",{staticClass:"map"},[i("div",{staticClass:"person"},[i("h1",[e._v("Persona")]),e._v(" "),i("ul",e._l(e.map.person.attributes,function(t,n){return i("li",[i("label",{domProps:{textContent:e._s(t.label)},on:{click:function(i){e.selectedAttribute=t}}}),e._v(" "),i("select",{directives:[{name:"show",rawName:"v-show",value:"value"!=t.source,expression:"attribute.source != 'value'"}],on:{change:function(i){e.setAttributeSource(t,i.target.value)}}},[i("option",{attrs:{value:""}},[e._v("---")]),e._v(" "),i("option",{attrs:{value:"value"},domProps:{selected:"value"==t.source}},[e._v("valor")]),e._v(" "),e._l(e.fileColumns,function(n,a){return i("option",{domProps:{value:a,selected:"column"==t.source&&t.value==a}},[e._v("columna "+e._s(a+1)+": "+e._s(n))])})],2),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"value"==t.source,expression:"attribute.source == 'value'"}],staticClass:"value-picker"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"attribute.value"}],attrs:{type:"text"},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}}),e._v(" "),i("i",{staticClass:"fa fa-times",on:{click:function(i){e.setAttributeSource(t,null)}}})])])}))]),e._v(" "),i("div",{staticClass:"relatives"},[i("h1",[e._v("Familiares")]),e._v(" "),e._l(e.map.relatives,function(t){return i("ul",[i("li",[i("label",[e._v("Parentesco")]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.role,expression:"relative.role"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});t.role=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"padre"}},[e._v("padre/madre")]),e._v(" "),i("option",{attrs:{value:"tio"}},[e._v("tio/tia")]),e._v(" "),i("option",{attrs:{value:"acudiente"}},[e._v("acudiente")])])]),e._v(" "),e._l(t.attributes,function(t,n){return i("li",[i("label",{domProps:{textContent:e._s(t.label)},on:{click:function(i){e.selectedAttribute=t}}}),e._v(" "),i("select",{directives:[{name:"show",rawName:"v-show",value:"value"!=t.source,expression:"attribute.source != 'value'"}],on:{change:function(i){e.setAttributeSource(t,i.target.value)}}},[i("option",{attrs:{value:""}},[e._v("---")]),e._v(" "),i("option",{attrs:{value:"value"},domProps:{selected:"value"==t.source}},[e._v("valor")]),e._v(" "),e._l(e.fileColumns,function(n,a){return i("option",{domProps:{value:a,selected:"column"==t.source&&t.value==a}},[e._v("columna "+e._s(a+1)+": "+e._s(n))])})],2),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"value"==t.source,expression:"attribute.source == 'value'"}],staticClass:"value-picker"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"attribute.value"}],attrs:{type:"text"},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}}),e._v(" "),i("i",{staticClass:"fa fa-times",on:{click:function(i){e.setAttributeSource(t,null)}}})])])})],2)}),e._v(" "),i("button",{staticClass:"phi-button adder",on:{click:function(t){e.addRelative()}}},[e._v("Agregar familiar")])],2),e._v(" "),i("div",{staticClass:"groups"},[i("h1",[e._v("Inscripción")]),e._v(" "),e._l(e.map.groups,function(t){return i("ul",e._l(t.attributes,function(t,n){return i("li",[i("label",{domProps:{textContent:e._s(t.label)},on:{click:function(i){e.selectedAttribute=t}}}),e._v(" "),i("select",{directives:[{name:"show",rawName:"v-show",value:"value"!=t.source,expression:"attribute.source != 'value'"}],on:{change:function(i){e.setAttributeSource(t,i.target.value)}}},[i("option",{attrs:{value:""}},[e._v("---")]),e._v(" "),i("option",{attrs:{value:"value"},domProps:{selected:"value"==t.source}},[e._v("valor")]),e._v(" "),e._l(e.fileColumns,function(n,a){return i("option",{domProps:{value:a,selected:"column"==t.source&&t.value==a}},[e._v("columna "+e._s(a+1)+": "+e._s(n))])})],2),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"value"==t.source,expression:"attribute.source == 'value'"}],staticClass:"value-picker"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"attribute.value"}],attrs:{type:"text"},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}}),e._v(" "),i("i",{staticClass:"fa fa-times",on:{click:function(i){e.setAttributeSource(t,null)}}})])])}))}),e._v(" "),i("button",{staticClass:"phi-button adder",on:{click:function(t){e.addGroup()}}},[e._v("Crear subgrupo")])],2)]):e._e(),e._v(" "),i("footer",{directives:[{name:"show",rawName:"v-show",value:e.fileColumns.length>0,expression:"fileColumns.length > 0"}]},[i("button",{directives:[{name:"show",rawName:"v-show",value:!e.uploading,expression:"!uploading"}],staticClass:"phi-button",on:{click:function(t){e.upload()}}},[e._v("subir datos")]),e._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:e.uploading,expression:"uploading"}]},[e._v("importando datos (esta operación puede tardar varios minutos)")])])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-input",class:{_focused:e.focused,_dirty:!!e.value}},[i("input",{attrs:{type:"text"},domProps:{value:e.value},on:{input:e.input,focus:function(t){e.focused=!0},blur:function(t){e.focused=!1}}}),e._v(" "),i("label",{domProps:{textContent:e._s(e.label)}})])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-page"},[i("div",{staticClass:"phi-page-cover"},[i("div",{staticClass:"phi-page-toolbar"},[i("button",{staticClass:"phi-button",on:{click:function(t){e.$parent.$el.left.toggle()}}},[i("i",{staticClass:"fa fa-bars"})]),e._v(" "),i("h1",[e._v(e._s(e.$t("Inbox")))])])]),e._v(" "),i("mu-linear-progress",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],attrs:{color:"#1c89b8"}}),e._v(" "),i("div",{staticClass:"phi-page-contents"},[e.billboard?i("section",[i("div",{staticClass:"billboard phi-card _z-0"},[i("router-link",{staticClass:"phi-card",attrs:{to:{name:"thread",params:{threadId:e.billboard.thread2}}}},[i("h1",{domProps:{textContent:e._s(e.billboard.title)}}),e._v(" "),i("div",{domProps:{textContent:e._s(e.billboard.description)}})]),e._v(" "),e.billboard.blocks.length?i("div",{staticClass:"blocks"},[i("phi-block",{attrs:{block:e.billboard.blocks[0]}})],1):e._e()],1)]):e._e(),e._v(" "),i("section",{directives:[{name:"show",rawName:"v-show",value:!!e.types,expression:"!!types"}]},[i("div",{staticClass:"types phi-card _z-0"},e._l(e.types,function(t){return i("router-link",{staticClass:"phi-media",attrs:{to:{name:"feed",query:{type:t.singular}}}},[i("img",{staticClass:"phi-media-figure",attrs:{src:t.icon||e.defaultIcon,alt:t.plural}}),e._v(" "),i("h1",{staticClass:"phi-media-body",domProps:{textContent:e._s(t.plural)}}),e._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:t.unread>0,expression:"type.unread > 0"}],staticClass:"phi-media-right",domProps:{textContent:e._s(t.unread)}})])}))])])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-container"},[i("div",{staticClass:"phi-card group-adder"},[i("phi-drawer",{attrs:{open:e.isOpen}},[i("form",{on:{submit:function(t){t.preventDefault(),e.createGroup()}}},[i("phi-type-picker",{attrs:{context:"node",label:"escoge un tipo"},model:{value:e.newGroup.type,callback:function(t){e.newGroup.type=t},expression:"newGroup.type"}}),e._v(" "),i("phi-input",{staticClass:"group-name",attrs:{label:"nombre"},model:{value:e.newGroup.name,callback:function(t){e.newGroup.name=t},expression:"newGroup.name"}}),e._v(" "),i("footer",[i("button",{staticClass:"phi-button",attrs:{disabled:!e.newGroup.name.trim()||!e.newGroup.type}},[e._v("guardar")]),e._v(" "),i("button",{staticClass:"phi-button cancel",attrs:{type:"button"},on:{click:function(t){e.isOpen=!1}}},[e._v("cancelar")])])],1)]),e._v(" "),i("phi-drawer",{attrs:{open:!e.isOpen}},[i("div",{staticClass:"phi-media",on:{click:function(t){e.isOpen=!0}}},[i("i",{staticClass:"phi-media-figure fa fa-plus"}),e._v(" "),i("h1",{staticClass:"phi-media-body"},[e._v("crear grupo")])])])],1),e._v(" "),e._l(e.types,function(t){return i("section",{staticClass:"type"},[i("h1",{domProps:{textContent:e._s(1==t.nodes.length?t.type.singular:t.type.plural)}}),e._v(" "),i("div",{staticClass:"phi-card"},e._l(t.nodes,function(t){return i("router-link",{staticClass:"phi-media",attrs:{to:{name:"node-nodes",params:{nodeId:t.id}}}},[i("div",{staticClass:"phi-media-figure"},[i("img",{attrs:{src:t.type.icon||e.defaultIcon,alt:t.type}})]),e._v(" "),i("h1",{staticClass:"phi-media-body",domProps:{textContent:e._s(t.name)}})])}))])})],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-page"},[i("div",{staticClass:"phi-page-cover"},[i("div",{staticClass:"phi-page-toolbar"},[i("button",{staticClass:"phi-button",on:{click:function(t){e.$parent.$el.left.toggle()}}},[i("i",{staticClass:"fa fa-bars"})]),e._v(" "),i("h1",{domProps:{textContent:e._s(e.app.title)}})])]),e._v(" "),i("div",{staticClass:"phi-page-contents"},[i("div",{staticClass:"phi-card school"},[i("header",[i("img",{attrs:{src:e.app.logo,alt:e.app.title}})]),e._v(" "),i("section",[e.app.organization?i("div",[e.app.organization.website?i("a",{staticClass:"phi-media",attrs:{href:e.app.organization.website,target:"_blank"}},[i("div",{staticClass:"phi-media-figure fa fa-laptop"}),e._v(" "),i("div",{staticClass:"phi-media-body"},[e._v("Página web")])]):e._e(),e._v(" "),e.app.organization.phone?i("a",{staticClass:"phi-media",attrs:{href:"tel:"+e.app.organization.phone}},[i("div",{staticClass:"phi-media-figure fa fa-phone"}),e._v(" "),i("div",{staticClass:"phi-media-body"},[e._v("Llamar al colegio")])]):e._e(),e._v(" "),e.app.organization.latitude?i("a",{staticClass:"phi-media",attrs:{href:e.locationUrl}},[i("div",{staticClass:"phi-media-figure fa fa-map-marker"}),e._v(" "),i("div",{staticClass:"phi-media-body"},[e._v("Ubicación")])]):e._e(),e._v(" "),e.app.organization.phidias?i("a",{staticClass:"phi-media",attrs:{href:e.app.organization.phidias,target:"_blank"}},[i("div",{staticClass:"phi-media-figure fa fa-building"}),e._v(" "),i("div",{staticClass:"phi-media-body"},[e._v("Phidias")])]):e._e()]):e._e()])]),e._v(" "),i("footer",{on:{click:e.openHidden}},[i("p",[e._v("Desarrollado por Phidias SAS © 2016")]),e._v(" "),e.app.organization?i("p",[e._v("para "+e._s(e.app.organization.name))]):e._e(),e._v(" "),i("p",[e._v("Todos los derechos reservados")])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-page"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.parameters.q,expression:"parameters.q"}],domProps:{value:e.parameters.q},on:{input:[function(t){t.target.composing||(e.parameters.q=t.target.value)},function(t){e.debounce()}]}}),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:e.people.isLoading,expression:"people.isLoading"}]},[e._v("Looking for "+e._s(e.parameters.q))]),e._v(" "),i("ul",e._l(e.people.items,function(t){return i("li",{class:{selected:e.people.hasTag(t,"selected")},on:{click:function(i){e.people.toggleTag(t,"selected")}}},[e._v("\n\t\t\t"+e._s(t.id)+": "+e._s(t.firstName)+"\n\t\t")])})),e._v(" "),e.people.hasNext?i("button",{on:{click:function(t){e.people.next()}}},[e._v("next page")]):e._e(),e._v(" "),e.people.count("selected")?i("div",[e._v("\n\t\tSelection: ("+e._s(e.people.count("selected"))+")\n\t\t"),i("ul",e._l(e.people.tagged("selected"),function(t){return i("li",{on:{click:function(i){e.people.untag(t,"selected")}}},[e._v("\n\t\t\t\t"+e._s(t.id)+": "+e._s(t.firstName)+"\n\t\t\t")])})),e._v(" "),i("button",{on:{click:function(t){e.hide()}}},[e._v("Hide")])]):e._e(),e._v(" "),e.selected?i("button",{on:{click:function(t){e.restore()}}},[e._v("restore")]):e._e()])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-block-html"},[e.action?e._e():[i("div",{domProps:{innerHTML:e._s(e.body)}})],e._v(" "),"edit"==e.action?[i("quill",{on:{input:function(t){e.save()}},model:{value:e.body,callback:function(t){e.body=t},expression:"body"}})]:e._e(),e._v(" "),"delete"==e.action?[i("h1",[e._v("Eliminar este texto ?")]),e._v(" "),i("button",{staticClass:"phi-button danger",on:{click:function(t){e.destroy()}}},[e._v("Eliminar")]),e._v(" "),i("button",{staticClass:"phi-button cancel",on:{click:function(t){e.$emit("reset")}}},[e._v("Cancelar")])]:e._e()],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-person-inscriptions"},[e._l(e.roles,function(t){return i("div",{staticClass:"role"},[t.role?i("div",[i("label",[e._v(e._s(t.role.singular)+" en")]),e._v(" "),i("ul",e._l(t.nodes,function(t){return i("li",[e._v(e._s(t.name))])}))]):e._e(),e._v(" "),t.relation?i("div",[i("label",[e._v(e._s(t.relation)+" de")]),e._v(" "),i("ul",e._l(t.relatives,function(t){return i("li",[e._v("\n\t\t\t\t\t"+e._s(t.person.firstname)+" "+e._s(t.person.lastname)+"\n\t\t\t\t\t"),t.node?i("span",[e._v(e._s(t.node.name))]):e._e()])}))]):e._e()])}),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:!e.roles.length,expression:"!roles.length"}]},[e._v("No hay informacion disponible")])],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-post-editor"},[i("div",{staticClass:"phi-post-editor-blocks"},e._l(e.editables,function(t){return i("div",{attrs:{"data-id":t.block.id}},[t.deleted?e._e():i("div",{staticClass:"editable-block"},[i("div",{staticClass:"phi-block-toolbar phi-media"},[i("div",{staticClass:"phi-media-body sortable-handle"}),e._v(" "),i("div",{staticClass:"phi-media-right"},[i("div",{staticClass:"phi-tooltip",class:{open:t.menuIsOpen}},[i("button",{on:{focus:function(e){t.menuIsOpen=!0},blur:function(e){t.menuIsOpen=!1},click:function(e){t.menuIsOpen=!0}}},[i("i",{staticClass:"fa fa-ellipsis-v"})]),e._v(" "),i("ul",{staticClass:"phi-menu _texture-paper"},e._l(t.actions,function(n,a){return i("li",{domProps:{textContent:e._s(n.title)},on:{mousedown:function(e){t.setAction(a),t.menuIsOpen=!1},touchstart:function(e){t.setAction(a),t.menuIsOpen=!1}}})}))])])]),e._v(" "),i("phi-block",{attrs:{post:e.post,block:t.block,action:t.currentAction},on:{change:function(e){t.save(arguments[0])},destroy:function(e){t.destroy()},reset:function(e){t.setAction()}}})],1)])})),e._v(" "),i("div",{staticClass:"phi-post-editor-adder phi-card"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"type-list",on:{click:function(t){e.toggleAdder()}}},e._l(e.types,function(t,n){return i("div",{staticClass:"phi-media",class:"type-"+n,on:{click:function(t){e.createBlock(n)}}},[i("i",{staticClass:"phi-media-figure fa",class:t.icon}),e._v(" "),i("p",{staticClass:"phi-media-body",domProps:{textContent:e._s(t.title)}})])})),e._v(" "),i("div",{staticClass:"toggler phi-media",on:{click:function(t){e.toggleAdder()}}},[i("i",{staticClass:"phi-media-figure fa fa-plus"}),e._v(" "),i("p",{staticClass:"phi-media-body"},[e._v("adjuntar")])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"post-thread"},[e._l(e.thread.items.reverse(),function(t){return i("div",{staticClass:"post"},[i("div",{staticClass:"phi-media"},[i("div",{staticClass:"phi-media-figure phi-avatar",on:{click:function(i){e.toggleUserInfo(t)}}},[i("img",{attrs:{src:t.author.avatar,alt:t.author.firstName}})]),e._v(" "),i("div",{staticClass:"phi-media-body"},[i("h1",{staticClass:"post-author",domProps:{textContent:e._s(t.author.firstName+" "+t.author.lastName)}}),e._v(" "),i("div",{staticClass:"post-date"},[t.publishDate?i("span",[e._v(e._s(e.moment.unix(t.publishDate).calendar(null,{sameElse:"DD/MM/YYYY h:mm a"})))]):e._e(),e._v(" "),t.publishDate?e._e():i("span",[e._v("enviando ...")])]),e._v(" "),t.node?i("phi-drawer",{attrs:{open:t.isExpanded}},[t.isInfoLoaded?i("phi-person-inscriptions",{attrs:{person:t.author,node:t.node},on:{ready:function(e){t.isExpanded=!0}}}):e._e()],1):e._e(),e._v(" "),i("div",{staticClass:"post-description",domProps:{textContent:e._s(t.description)}})],1)]),e._v(" "),i("div",{staticClass:"post-blocks"},e._l(t.blocks,function(e){return i("phi-block",{attrs:{block:e}})}))])}),e._v(" "),i("footer",{staticClass:"phi-page-footer"},[i("div",{staticClass:"reply"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.replyBody,expression:"replyBody"}],domProps:{value:e.replyBody},on:{keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13)?(t.preventDefault(),void e.sendReply()):null},input:function(t){t.target.composing||(e.replyBody=t.target.value)}}}),e._v(" "),i("button",{staticClass:"phi-button",attrs:{disabled:!e.replyBody.trim()},on:{click:function(t){e.sendReply()}}},[e._v("enviar")])]),e._v(" "),e.$route.query.cn?i("p",[e._v("Escribiendo a "+e._s(e.$route.query.cn-1)+" "+e._s(2==e.$route.query.cn?"destinatario":"destinatarios"))]):e._e()])],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-person-picker"},[i("div",{staticClass:"search"},[i("phi-input",{attrs:{label:e.label},on:{input:function(t){e.debounce()}},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}}),e._v(" "),i("button",{class:{running:e.scanner.isRunning},on:{click:e.toggleScan}},[i("i",{staticClass:"fa fa-qrcode"})])],1),e._v(" "),i("div",{staticClass:"results"},e._l(e.results,function(t){return i("div",{staticClass:"person phi-media",on:{click:function(i){e.select(t)}}},[i("div",{staticClass:"phi-media-figure phi-avatar"},[i("img",{attrs:{src:t.avatar,alt:t.firstName}})]),e._v(" "),i("h1",{staticClass:"phi-media-body"},[e._v(e._s(t.firstName)+" "+e._s(t.lastName))])])}))])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-page"},[i("div",{staticClass:"phi-page-cover"},[i("div",{staticClass:"phi-page-toolbar"},[i("button",{staticClass:"phi-button",on:{click:function(t){e.$router.go(-1)}}},[i("i",{staticClass:"fa fa-arrow-left"})]),e._v(" "),i("h1",[e._v(e._s(e.$route.query.title))])])]),e._v(" "),i("div",{staticClass:"phi-page-contents"},[i("div",{staticClass:"picker"},[i("label",{attrs:{for:""}},[e._v("Registrar:")]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.entry.type,expression:"entry.type"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.entry.type=t.target.multiple?i:i[0]}}},e._l(e.types.items,function(t){return i("option",{domProps:{value:t.singular}},[e._v(e._s(t.singular))])})),e._v(" "),i("phi-person-picker",{attrs:{api:e.app.api,label:"buscar"},on:{select:e.selectPerson}})],1),e._v(" "),i("div",{staticClass:"phi-card"},e._l(e.log.items,function(t){return i("div",{staticClass:"phi-media entry"},[i("div",{staticClass:"phi-media-figure phi-avatar"},[i("img",{attrs:{src:t.person.avatar,alt:"entry.person.firstName"}})]),e._v(" "),i("div",{staticClass:"phi-media-body"},[i("h1",{staticClass:"name"},[e._v(e._s(t.person.firstName)+" "+e._s(t.person.lastName))]),e._v(" "),i("span",{staticClass:"type"},[e._v(e._s(t.type))]),e._v(" "),i("span",{staticClass:"timestamp"},[e._v(e._s(e.moment.unix(t.timestamp).calendar(null,{sameElse:"MMM D"})))])])])}))])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-page"},[i("div",{staticClass:"phi-page-cover"},[i("div",{staticClass:"phi-page-toolbar"},[i("button",{staticClass:"phi-button",on:{click:function(t){e.$parent.$el.left.toggle()}}},[i("i",{staticClass:"fa fa-bars"})]),e._v(" "),i("h1",[e._v(e._s(e.$t("Settings")))])])]),e._v(" "),i("mu-linear-progress",{directives:[{name:"show",rawName:"v-show",value:e.app.api.isLoading,expression:"app.api.isLoading"}],attrs:{color:"#1c89b8"}}),e._v(" "),e.app.user?i("div",{staticClass:"phi-page-contents"},[e.destinations.length?i("section",[i("h2",[e._v(e._s(e.$t("Notifications")))]),e._v(" "),i("div",{staticClass:"phi-card"},e._l(e.destinations,function(t){return"gcm"==t.transport||"email"==t.transport?i("div",[i("div",{staticClass:"phi-media"},[i("div",{staticClass:"phi-media-figure fa",class:t.drawerIsOpen?"fa-chevron-down":"fa-chevron-right",on:{click:function(e){t.drawerIsOpen=!t.drawerIsOpen}}}),e._v(" "),i("div",{staticClass:"phi-media-body",on:{click:function(e){t.drawerIsOpen=!t.drawerIsOpen}}},[e._v("\n\t\t\t\t\t\t\t"+e._s("gcm"==t.transport?"Aplicación móvil":"E-mail")+"\n\t\t\t\t\t\t")]),e._v(" "),i("div",{staticClass:"phi-media-right"},[i("mu-switch",{attrs:{value:"1"==t.isEnabled},on:{change:function(i){e.toggleDestination(t)}}})],1)]),e._v(" "),i("phi-drawer",{attrs:{open:t.drawerIsOpen}},e._l(t.preferences,function(n){return i("div",{staticClass:"phi-media"},[i("div",{staticClass:"phi-media-body"},[e._v(e._s(n.type))]),e._v(" "),i("mu-switch",{staticClass:"phi-media-right",attrs:{value:"1"==n.isEnabled},on:{change:function(i){e.togglePreference(n,t)}}})],1)}))],1):e._e()}))]):e._e(),e._v(" "),i("section",[i("h2",[e._v(e._s(e.$t("Language")))]),e._v(" "),i("div",{staticClass:"phi-card"},[i("div",{staticClass:"phi-media"},[i("div",{staticClass:"phi-media-right fa",class:"es"==e.locale.language?"fa-check":""}),e._v(" "),i("a",{staticClass:"phi-media-body",on:{click:function(t){e.locale.set("es")}}},[e._v("Español")])]),e._v(" "),i("div",{staticClass:"phi-media"},[i("div",{staticClass:"phi-media-right fa",class:"en"==e.locale.language?"fa-check":""}),e._v(" "),i("a",{staticClass:"phi-media-body",on:{click:function(t){e.locale.set("en")}}},[e._v("English")])])])]),e._v(" "),i("section",[i("h2",[e._v(e._s(e.$t("General")))]),e._v(" "),i("div",{staticClass:"phi-card"},[i("div",{staticClass:"phi-media clear-cache",on:{click:e.clearCache}},[i("div",{staticClass:"phi-media-figure fa fa-trash-o"}),e._v(" "),i("div",{staticClass:"phi-media-body"},[e._v(e._s(e.$t("Clear cache")))])]),e._v(" "),i("div",{staticClass:"phi-media logout",on:{click:e.logout}},[i("div",{staticClass:"phi-media-figure fa fa-sign-out"}),e._v(" "),i("div",{staticClass:"phi-media-body"},[e._v(e._s(e.$t("Logout")))])])])])]):e._e()],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-page",attrs:{id:"state-credit-details"}},[i("div",{staticClass:"phi-page-cover"},[i("div",{staticClass:"phi-page-toolbar"},[i("button",{staticClass:"phi-button",on:{click:function(t){e.$router.go(-1)}}},[i("i",{staticClass:"fa fa-arrow-left"})]),e._v(" "),e.credit.method?i("h1",[e._v(e._s(e.credit.method.name))]):e._e()])]),e._v(" "),i("div",{staticClass:"phi-page-contents"},[i("phi-credit",{attrs:{credit:e.credit}})],1)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"state-login"}},[i("form",{staticClass:"phi-card",on:{submit:function(t){t.preventDefault(),e.login()}}},[i("img",{attrs:{src:e.app.logo,alt:e.app.title}}),e._v(" "),i("div",{staticClass:"phi-card-contents"},[i("phi-input",{attrs:{label:"usuario",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"},on:{input:function(t){e.error=null}},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),e._v(" "),i("phi-input",{attrs:{label:"contraseña",type:"password"},on:{input:function(t){e.error=null}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),e._v(" "),i("div",{staticClass:"phi-card-actions"},[i("button",{staticClass:"phi-button login",class:{danger:!!e.error}},[i("span",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]},[e._v("ingresando")]),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:!e.isLoading&&!e.error,expression:"!isLoading && !error"}]},[e._v("ingresar")]),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:!e.isLoading&&e.error,expression:"!isLoading && error"}],domProps:{textContent:e._s(e.error)}})]),e._v(" "),i("button",{staticClass:"phi-button google",attrs:{type:"button"},on:{click:function(t){e.googleLogin()}}},[e._v("ingresar con google")])])]),e._v(" "),e.app.isFixed?e._e():i("button",{staticClass:"reset",on:{click:function(t){e.resetCode()}}},[e._v("Cambiar institución")])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-page"},[i("mu-linear-progress",{directives:[{name:"show",rawName:"v-show",value:e.app.api.isLoading,expression:"app.api.isLoading"}],attrs:{color:"#1c89b8"}}),e._v(" "),e._m(0),e._v(" "),i("div",{staticClass:"phi-page-cover",staticStyle:{background:"transparent"}}),e._v(" "),i("div",{staticClass:"phi-page-contents"},[i("div",{staticClass:"phi-card"},e._l(e.nodes.items,function(t){return i("router-link",{staticClass:"phi-media",attrs:{to:{name:"node",params:{nodeId:t.id}}}},[i("div",{staticClass:"phi-media-body"},[i("small",{domProps:{textContent:e._s(t.type)}}),e._v(" "),i("h1",{domProps:{textContent:e._s(t.name)}})])])}))])],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-page-toolbar"},[i("h1",[e._v("Administración")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-slider-pannel"},[i("div",{staticClass:"modal-mask",on:{click:function(t){e.closePannel()}}}),e._v(" "),i("div",{staticClass:"slider-pannel",class:{open:e.open},style:e.styleConfiguration},[e._t("default")],2)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-block-form"},[e.action?e._e():[i("div",{staticClass:"entity phi-card _z-0 _padded"},[i("h3",{domProps:{textContent:e._s(e.form.description)}}),e._v(" "),e.records.length?i("div",{staticClass:"records"},e._l(e.records,function(t){return i("div",{staticClass:"record"},[i("div",{staticClass:"fields"},e._l(e.form.fields,function(n){return i("div",{staticClass:"field"},[i("label",{domProps:{textContent:e._s(n.title)}}),e._v(" "),"checkbox"==n.type?i("div",{staticClass:"value",domProps:{textContent:e._s(t.values[n.name]?"Si":"No")}}):e._e(),e._v(" "),"checkbox"!=n.type?i("div",{staticClass:"value",domProps:{textContent:e._s(t.values[n.name])}}):e._e()])}))])})):e._e(),e._v(" "),e.records.length?e._e():i("div",{staticClass:"form"},[i("div",{staticClass:"fields"},e._l(e.form.fields,function(t){return i("div",{staticClass:"field"},["text"==t.type?i("div",[i("label",{domProps:{textContent:e._s(t.title)}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.newRecord[t.name],expression:"newRecord[field.name]"}],attrs:{type:"text"},domProps:{value:e.newRecord[t.name]},on:{input:function(i){if(!i.target.composing){var n=e.newRecord,a=t.name;Array.isArray(n)?n.splice(a,1,i.target.value):e.newRecord[t.name]=i.target.value}}}})]):e._e(),e._v(" "),"textarea"==t.type?i("div",[i("label",{domProps:{textContent:e._s(t.title)}}),e._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newRecord[t.name],expression:"newRecord[field.name]"}],domProps:{value:e.newRecord[t.name]},on:{input:function(i){if(!i.target.composing){var n=e.newRecord,a=t.name;Array.isArray(n)?n.splice(a,1,i.target.value):e.newRecord[t.name]=i.target.value}}}})]):e._e(),e._v(" "),"select"==t.type?i("div",[i("label",{domProps:{textContent:e._s(t.title)}}),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.newRecord[t.name],expression:"newRecord[field.name]"}],on:{change:function(i){var n=Array.prototype.filter.call(i.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t}),a=e.newRecord,s=t.name;Array.isArray(a)?a.splice(s,1,i.target.multiple?n:n[0]):e.newRecord[t.name]=i.target.multiple?n:n[0]}}},e._l(e.getOptions(t),function(t){return i("option",{domProps:{textContent:e._s(t)}})}))]):e._e(),e._v(" "),"checkbox"==t.type?i("div",[i("label",{attrs:{for:"chbox-"+t.id},domProps:{textContent:e._s(t.title)}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.newRecord[t.name],expression:"newRecord[field.name]"}],attrs:{id:"chbox-"+t.id,type:"checkbox"},domProps:{checked:Array.isArray(e.newRecord[t.name])?e._i(e.newRecord[t.name],null)>-1:e.newRecord[t.name]},on:{__c:function(i){var n=e.newRecord[t.name],a=i.target,s=!!a.checked;if(Array.isArray(n)){var r=null,o=e._i(n,r);s?o<0&&(e.newRecord[t.name]=n.concat(r)):o>-1&&(e.newRecord[t.name]=n.slice(0,o).concat(n.slice(o+1)))}else e.newRecord[t.name]=s}}})]):e._e(),e._v(" "),i("span",{staticClass:"description",domProps:{textContent:e._s(t.description)}})])})),e._v(" "),i("button",{staticClass:"phi-button",on:{click:function(t){e.saveRecord()}}},[e._v("Guardar")])])])],e._v(" "),"edit"==e.action?void 0:e._e(),e._v(" "),"delete"==e.action?[i("h1",[e._v("Eliminar este formulario ?")]),e._v(" "),i("button",{staticClass:"phi-button danger",on:{click:function(t){e.destroy()}}},[e._v("Eliminar")]),e._v(" "),i("button",{staticClass:"phi-button cancel",on:{click:function(t){e.$emit("reset")}}},[e._v("Cancelar")])]:e._e()],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-block-image"},[i("img",{staticStyle:{"max-width":"100%"},attrs:{src:e.block.url}})])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"state-sebas"}},[e._v("\n\n\tsebas\n\n")])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"post-contents"},[e.$parent.post.author?i("div",{staticClass:"main post"},[i(e.$parent.isAllowed("audience")?"router-link":"div",{tag:"div",staticClass:"phi-media post-header",attrs:{to:{
name:"post-audience"}}},[i("div",{staticClass:"phi-media-figure phi-avatar"},[i("img",{attrs:{src:e.$parent.post.author.avatar,alt:e.$parent.post.author.firstName}})]),e._v(" "),i("div",{staticClass:"phi-media-body"},[i("h1",{staticClass:"post-author",domProps:{textContent:e._s(e.$parent.post.author.firstName+" "+e.$parent.post.author.lastName)}}),e._v(" "),i("div",{staticClass:"post-date"},[e._v(e._s(e.moment.unix(e.$parent.post.publishDate).calendar(null,{sameElse:"MMM D, h:mm a"})))]),e._v(" "),e.$parent.isAllowed("audience")?i("div",{staticClass:"post-audience"},[e._v("enviado a "+e._s(e.$parent.post.audienceCount)+" "+e._s(1==e.$parent.post.audienceCount?"persona":"personas"))]):e._e()])]),e._v(" "),i("div",{staticClass:"post-description",domProps:{textContent:e._s(e.$parent.post.description)}}),e._v(" "),i("div",{staticClass:"post-blocks"},e._l(e.$parent.post.blocks,function(e){return i("phi-block",{attrs:{block:e}})})),e._v(" "),e.$parent.post.forwards.length>0?i("div",{staticClass:"post-forwards"},[i("label",[e._v("Mensaje reenviado")]),e._v(" "),e._l(e.$parent.post.forwards,function(t){return i("div",{staticClass:"forwarded post"},[i("div",{staticClass:"phi-media post-header"},[i("div",{staticClass:"phi-media-figure phi-avatar"},[i("img",{attrs:{src:t.author.avatar,alt:t.author.firstName}})]),e._v(" "),i("div",{staticClass:"phi-media-body"},[i("h1",{staticClass:"post-author",domProps:{textContent:e._s(t.author.firstName+" "+t.author.lastName)}}),e._v(" "),i("div",{staticClass:"post-date"},[e._v(e._s(e.moment.unix(t.publishDate).calendar(null,{sameElse:"MMM D, h:mm a"})))]),e._v(" "),i("div",{staticClass:"post-subject",domProps:{textContent:e._s(t.title)}})])]),e._v(" "),i("div",{staticClass:"post-description",domProps:{textContent:e._s(t.description)}}),e._v(" "),i("div",{staticClass:"post-blocks"},e._l(t.blocks,function(e){return i("phi-block",{attrs:{block:e}})}))])})],2):e._e()]):e._e(),e._v(" "),i("div",{staticClass:"post-threads"},e._l(e.threads.items,function(t){return i("router-link",{staticClass:"thread phi-card _z-0",class:{read:0==t.countUnread,unread:t.countUnread>0,empty:!t.lastPost},attrs:{to:{name:"post-thread",params:{thread:t.id},query:{cn:t.countPeople}}}},[i("div",{staticClass:"thread-header _padded"},[t.lastPost?i("div",{staticClass:"thread-title"},[e._v("conversación con")]):e._e(),e._v(" "),t.lastPost?e._e():i("div",{staticClass:"thread-title"},[e._v("Escribir a")]),e._v(" "),i("div",{staticClass:"thread-people"},[e._l(t.people,function(n){return t.id!=e.$parent.post.thread?i("div",{staticClass:"person"},[e._v(e._s(n.firstName)+" "+e._s(n.lastName))]):e._e()}),e._v(" "),t.id==e.$parent.post.thread?i("div",{staticClass:"person"},[e._v("todos")]):e._e()],2)]),e._v(" "),t.highlightPost?i("div",{staticClass:"phi-media post"},[i("div",{staticClass:"phi-media-figure phi-avatar"},[i("img",{attrs:{src:t.highlightPost.author.avatar,alt:t.highlightPost.author.firstName}})]),e._v(" "),i("div",{staticClass:"phi-media-body"},[i("h1",{staticClass:"post-author",domProps:{textContent:e._s(t.highlightPost.author.firstName+" "+t.highlightPost.author.lastName)}}),e._v(" "),i("div",{staticClass:"post-date"},[e._v(e._s(e.moment.unix(t.highlightPost.publishDate).calendar(null,{sameElse:"MMM D, h:mm a"})))]),e._v(" "),i("div",{staticClass:"post-description",domProps:{textContent:e._s(t.highlightPost.description)}})])]):e._e(),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.countUnread>1,expression:"thread.countUnread > 1"}],staticClass:"thread-count-unread _padded"},[e._v(" ... y "+e._s(t.countUnread-1)+" más")])])}))])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-block-youtube"},[e.action?e._e():i("section",{staticClass:"default"},[e.video.id?i("iframe",{attrs:{width:"100%",height:"420",src:"https://www.youtube.com/embed/"+e.video.id,frameborder:"0",allowfullscreen:""}}):e._e()],1),e._v(" "),"edit"==e.action?i("section",{staticClass:"edit"},[i("phi-input",{attrs:{label:"URL de youtube"},model:{value:e.block.url,callback:function(t){e.block.url=t},expression:"block.url"}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.block.url&&!e.video.id,expression:"block.url && !video.id"}],staticClass:"warning"},[e._v("Esa no parece una URL válida de youtube")]),e._v(" "),e.video.id?i("img",{attrs:{src:"https://img.youtube.com/vi/"+e.video.id+"/0.jpg"}}):e._e(),e._v(" "),i("footer",[i("button",{staticClass:"phi-button",attrs:{disabled:!e.block.url||!e.video.id},on:{click:function(t){e.save()}}},[e._v("Aceptar")]),e._v(" "),i("button",{staticClass:"phi-button cancel",on:{click:function(t){e.cancel()}}},[e._v("Cancelar")])])],1):e._e(),e._v(" "),"delete"==e.action?i("section",{staticClass:"delete"},[i("h1",[e._v("Eliminar este video ?")]),e._v(" "),i("button",{staticClass:"phi-button danger",on:{click:function(t){e.$emit("destroy")}}},[e._v("Eliminar")]),e._v(" "),i("button",{staticClass:"phi-button cancel",on:{click:function(t){e.$emit("reset")}}},[e._v("Cancelar")])]):e._e()])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-page",attrs:{id:"compose"}},[i("div",{staticClass:"phi-page-cover"},[i("div",{staticClass:"phi-page-toolbar"},[i("button",{staticClass:"phi-button",on:{click:function(t){e.$router.go(-1)}}},[i("i",{staticClass:"fa fa-arrow-left"})]),e._v(" "),i("h1",[e._v("Redactar")])]),e._v(" "),i("div",{staticClass:"phi-page-header"},[i("phi-input",{attrs:{label:"Título"},on:{input:function(t){e.save()}},model:{value:e.post.title,callback:function(t){e.post.title=t},expression:"post.title"}})],1)]),e._v(" "),i("div",{staticClass:"phi-page-contents"},[e.post.id?i("div",[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.post.description,expression:"post.description"}],domProps:{value:e.post.description},on:{input:[function(t){t.target.composing||(e.post.description=t.target.value)},function(t){e.save()}]}}),e._v(" "),i("phi-post-editor",{attrs:{post:e.post}})],1):e._e()])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div")},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-person-relevance-picker"},[i("div",{on:{click:e.togglePicker}},[e._t("default")],2),e._v(" "),i("phi-slider-panel",{attrs:{side:"right",open:e.template.panelIsOpen},on:{closed:function(t){e.template.panelIsOpen=!1,e.template.boxIsFlipped=!1}}},[i("div",{staticClass:"box",class:{flipped:e.template.boxIsFlipped}},[i("div",{staticClass:"front"},[i("div",{staticClass:"toolbar phi-media"},[i("button",{staticClass:"phi-media-left phi-button",on:{click:function(t){e.template.panelIsOpen=!1}}},[i("i",{staticClass:"fa fa-chevron-left"})]),e._v(" "),i("div",{staticClass:"phi-media-body"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],staticClass:"search-field",attrs:{type:"text",placeholder:e.$t("search")},domProps:{value:e.query},on:{input:function(t){t.target.composing||(e.query=t.target.value)}}})]),e._v(" "),e.query.length>0?i("button",{staticClass:"phi-media-right phi-button",on:{click:function(t){e.query=""}}},[i("i",{staticClass:"fa fa-times"})]):i("button",{staticClass:"phi-media-right phi-button"},[i("i",{staticClass:"fa fa-search"})]),e._v(" "),i("button",{staticClass:"phi-media-right phi-button groups-counter"},[e._v("\n                       "+e._s(e.selection.length)+"\n                    ")])]),e._v(" "),e._l(e.filteredGroups,function(t){return i("div",{staticClass:"group phi-card"},[t.people.length>0?i("h2",[e._v(e._s(t.name))]):e._e(),e._v(" "),e._l(t.people,function(t){return i("div",{staticClass:"person phi-media",class:{selected:e.isSelected(t)},on:{click:function(i){e.togglePerson(t)}}},[i("div",{staticClass:"phi-media-figure phi-avatar"},[i("img",{attrs:{src:t.avatar,alt:t.firstname}})]),e._v(" "),i("div",{staticClass:"phi-media-body"},[i("h1",[e._v(e._s(t.firstname)+" "+e._s(t.lastname))]),e._v(" "),e._l(t.roles,function(n,a){return i("span",{staticClass:"roles"},[e._v(e._s(e.$t(n))),a<t.roles.length-1?i("span",[e._v(", ")]):e._e()])})],2),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isSelected(t),expression:"isSelected(person)"}],staticClass:"phi-media-options"},[i("i",{staticClass:"blue fa fa-check"})])])}),e._v(" "),"relatives"!==t.type?i("div",{staticClass:"person phi-media",class:{optionsBar:t.people.length>0},on:{click:function(i){e.openGroup(t)}}},[i("div",{staticClass:"phi-media-body",class:{optionsHelp:t.people.length>0}},[i("h1",[i("span",{directives:[{name:"show",rawName:"v-show",value:t.people.length>0,expression:"(group.people.length > 0)"}]},[e._v(e._s(e.$t("more people")))]),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.people.length<=0,expression:"(group.people.length <= 0)"}]},[e._v(e._s(t.name))])])]),e._v(" "),i("div",{staticClass:"phi-media-options"},[i("i",{staticClass:"fa fa-chevron-right"})])]):e._e()],2)})],2),e._v(" "),i("div",{staticClass:"back"},[e.activeGroup?i("div",[i("div",{staticClass:"toolbar phi-media"},[i("button",{staticClass:"phi-media-left phi-button",on:{click:function(t){e.closeGroup()}}},[i("i",{staticClass:"fa fa-chevron-left"})]),e._v(" "),i("div",{staticClass:"phi-media-body"},[i("div",[e._v(e._s(e.activeGroup.name))])]),e._v(" "),i("button",{staticClass:"phi-media-right phi-button groups-counter"},[e._v("\n                            "+e._s(e.selection.length)+"\n                        ")]),e._v(" "),i("div",{staticClass:"phi-media-right phi-tooltip"},[i("button",{staticClass:"phi-button"},[i("i",{staticClass:"fa fa-ellipsis-v"})]),e._v(" "),i("ul",{staticClass:"phi-menu _texture-paper"},[i("li",{on:{click:function(t){e.activeGroup.members.forEach(e.selectPerson),e.getRelatives(e.activeGroup.members).forEach(e.selectPerson)}}},[e._v(e._s(e.$t("everyone")))]),e._v(" "),i("li",{on:{click:function(t){e.activeGroup.members.forEach(e.deselectPerson),e.getRelatives(e.activeGroup.members).forEach(e.deselectPerson)}}},[e._v(e._s(e.$t("noone")))]),e._v(" "),e._l(e.distinctRoles(e.activeGroup),function(t){return i("li",{class:{checked:e.roleIsSelected(e.activeGroup.members,t)},on:{click:function(i){e.toggleWithRole(e.activeGroup.members,t)}}},[e._v("\n                                    "+e._s(e.$t(t))+"\n                                ")])})],2)])]),e._v(" "),i("div",{staticClass:"toolbar phi-media sub-toolbar"},[i("div",{staticClass:"phi-media-body"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.activeQuery,expression:"activeQuery"}],staticClass:"search-field",attrs:{type:"text",placeholder:e.$t("search")},domProps:{value:e.activeQuery},on:{input:function(t){t.target.composing||(e.activeQuery=t.target.value)}}})]),e._v(" "),e.activeQuery.length>0?i("button",{staticClass:"phi-media-right phi-button",on:{click:function(t){e.activeQuery=""}}},[i("i",{staticClass:"fa fa-times"})]):i("button",{staticClass:"phi-media-right phi-button"},[i("i",{staticClass:"fa fa-search"})])]),e._v(" "),e._l(e.activeMembers,function(t){return i("div",{staticClass:"phi-card"},[i("div",{staticClass:"person phi-media",class:{selected:e.isSelected(t)},on:{click:function(i){e.togglePerson(t)}}},[i("div",{staticClass:"phi-media-figure phi-avatar"},[i("img",{attrs:{src:t.avatar,alt:t.firstname}})]),e._v(" "),i("div",{staticClass:"phi-media-body"},[i("h1",[e._v(e._s(t.firstname)+" "+e._s(t.lastname))]),e._v(" "),e._l(t.roles,function(n,a){return i("span",{staticClass:"roles"},[e._v(e._s(e.$t(n))),a<t.roles.length-1?i("span",[e._v(", ")]):e._e()])})],2),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isSelected(t),expression:"isSelected(person)"}],staticClass:"phi-media-options"},[i("i",{staticClass:"blue fa fa-check"})])]),e._v(" "),e._l(t.relatives,function(t){return i("div",{staticClass:"person phi-media",class:{selected:e.isSelected(t)},on:{click:function(i){e.togglePerson(t)}}},[i("div",{staticClass:"phi-media-figure phi-avatar"},[i("img",{attrs:{src:t.avatar,alt:t.firstname}})]),e._v(" "),i("div",{staticClass:"phi-media-body"},[i("h1",[e._v(e._s(t.firstname)+" "+e._s(t.lastname))]),e._v(" "),e._l(t.roles,function(n,a){return i("span",{staticClass:"roles"},[e._v(e._s(e.$t(n))),a<t.roles.length-1?i("span",[e._v(", ")]):e._e()])})],2),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isSelected(t),expression:"isSelected(relative)"}],staticClass:"phi-media-options"},[i("i",{staticClass:"blue fa fa-check"})])])})],2)})],2):e._e()])])])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-page"},[i("div",{staticClass:"phi-page-cover"},[i("div",{staticClass:"phi-page-toolbar"},[i("button",{staticClass:"phi-button",on:{click:function(t){e.$parent.$el.left.toggle()}}},[i("i",{staticClass:"fa fa-bars"})])]),e._v(" "),i("div",{staticClass:"phi-page-header"},[i("h1",{staticClass:"phi-media-body"},[e._v(e._s(e.app.user.firstName)+" "+e._s(e.app.user.lastName))])])]),e._v(" "),i("div",{staticClass:"phi-page-contents"},[i("div",{staticClass:"avatar"},[i("img",{attrs:{src:e.app.user.avatar}})]),e._v(" "),i("qrc-generator",{attrs:{size:256,value:e.qrdata}})],1)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"post-replies"},[e._l(e.replies.items.slice().reverse(),function(t){return i("div",{staticClass:"post"},[i("div",{staticClass:"phi-media"},[i("div",{staticClass:"phi-media-figure phi-avatar",on:{click:function(i){e.toggleUserInfo(t)}}},[i("img",{attrs:{src:t.author.avatar,alt:t.author.firstName}})]),e._v(" "),i("div",{staticClass:"phi-media-body"},[i("h1",{staticClass:"post-author",domProps:{textContent:e._s(t.author.firstName+" "+t.author.lastName)}}),e._v(" "),i("div",{staticClass:"post-date"},[t.publishDate?i("span",[e._v(e._s(e.moment.unix(t.publishDate).format("h:mm a")))]):e._e(),e._v(" "),t.publishDate?e._e():i("span",[e._v("enviando ...")])]),e._v(" "),t.node?i("phi-drawer",{attrs:{open:t.isExpanded}},[t.isInfoLoaded?i("phi-person-inscriptions",{attrs:{person:t.author,node:t.node},on:{ready:function(e){t.isExpanded=!0}}}):e._e()],1):e._e(),e._v(" "),i("div",{staticClass:"post-description",domProps:{textContent:e._s(t.description)}})],1)]),e._v(" "),i("div",{staticClass:"post-blocks"},e._l(t.blocks,function(e){return i("phi-block",{attrs:{block:e}})}))])}),e._v(" "),i("footer",{staticClass:"phi-page-footer"},[i("div",{staticClass:"reply"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.replyBody,expression:"replyBody"}],domProps:{value:e.replyBody},on:{keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13)?(t.preventDefault(),void e.sendReply()):null},input:function(t){t.target.composing||(e.replyBody=t.target.value)}}}),e._v(" "),i("button",{staticClass:"phi-button",attrs:{disabled:!e.replyBody.trim()},on:{click:function(t){e.sendReply()}}},[e._v("enviar")])])])],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-page"},[i("div",{staticClass:"phi-page-cover"},[i("div",{staticClass:"phi-page-toolbar"},[i("button",{staticClass:"phi-button",on:{click:function(t){e.$parent.$el.left.toggle()}}},[i("i",{staticClass:"fa fa-bars"})]),e._v(" "),i("h1",[e._v(e._s(e.$t("Calendar")))]),e._v(" "),i("a",{attrs:{href:e.app.api.host+"/people/"+e.app.user.id+"/calendar/ics?h="+e.hash}},[i("i",{staticClass:"fa fa-calendar-plus-o"})])])]),e._v(" "),i("mu-linear-progress",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],attrs:{color:"#1c89b8"}}),e._v(" "),i("div",{staticClass:"phi-page-contents"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.displayViewsMenu,expression:"displayViewsMenu"}],staticClass:"views-list-menu"},[i("ul",{staticClass:"phi-menu"},[i("li",{class:{"phi-menu-selected":"month"===e.currentView},on:{click:function(t){e.currentView="month"}}},[e._v(e._s(e.$t("Month")))]),e._v(" "),i("li",{class:{"phi-menu-selected":"agendaDay"===e.currentView},on:{click:function(t){e.currentView="agendaDay"}}},[e._v(e._s(e.$t("Day")))]),e._v(" "),i("li",{class:{"phi-menu-selected":"agendaWeek"===e.currentView},on:{click:function(t){e.currentView="agendaWeek"}}},[e._v(e._s(e.$t("Week")))]),e._v(" "),i("li",{class:{"phi-menu-selected":"listMonth"===e.currentView},on:{click:function(t){e.currentView="listMonth"}}},[e._v(e._s(e.$t("Agenda")))])])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.displaySourcesFilter,expression:"displaySourcesFilter"}],staticClass:"sources-filter-menu"},[i("ul",{staticClass:"phi-menu short-padding"},e._l(e.eventSources,function(t){return i("li",{staticClass:"prevent-menu-hiding",class:{"phi-menu-selected-alt":t.enabled},on:{click:function(e){t.toggle()}}},[i("span",{staticClass:"list-square",style:{color:t.color}},[e._v("■ ")]),e._v("\n\t\t\t\t\t\t"+e._s(t.title)+"\n\t\t\t\t\t")])}))]),e._v(" "),i("full-calendar",{attrs:{options:e.myCalendar,"current-view":e.currentView},on:{created:e.setCalendar}})],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-type-picker"},[i("phi-drawer",{attrs:{open:!e.isCreating}},[i("select",{on:{change:function(t){e.select(t)}}},[i("option",{attrs:{value:""},domProps:{selected:!e.value}},[e._v("- "+e._s(e.label)+" -")]),e._v(" "),e._l(e.types,function(t){return i("option",{domProps:{value:t.singular,selected:e.value==t.singular,textContent:e._s(t.singular)}})}),e._v(" "),i("option",{attrs:{value:"+"}},[e._v("crear tipo")])],2)]),e._v(" "),i("phi-drawer",{attrs:{open:e.isCreating}},[i("form",{on:{submit:function(t){t.preventDefault(),e.createType()}}},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.newType.gender,expression:"newType.gender"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.newType.gender=t.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"1"}},[e._v("el")]),e._v(" "),i("option",{attrs:{value:"0"}},[e._v("la")])]),e._v(" "),i("phi-input",{attrs:{label:"singular"},model:{value:e.newType.singular,callback:function(t){e.newType.singular=t},expression:"newType.singular"}}),e._v(" "),i("phi-input",{attrs:{label:"plural"},model:{value:e.newType.plural,callback:function(t){e.newType.plural=t},expression:"newType.plural"}}),e._v(" "),i("button",{staticClass:"phi-button"},[e._v("crear")]),e._v(" "),i("button",{staticClass:"phi-button cancel",attrs:{type:"button"},on:{click:function(t){e.isCreating=!1}}},[e._v("cancelar")])],1)])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"state-code"}},[i("form",{on:{submit:function(t){t.preventDefault(),e.submit()}}},[i("phi-input",{attrs:{label:"código de la institución",autocorrect:"off",autocapitalize:"off",spellcheck:"false"},on:{input:function(t){e.error=!1}},model:{value:e.inputCode,callback:function(t){e.inputCode=t},expression:"inputCode"}}),e._v(" "),i("footer",[i("button",{staticClass:"phi-button",class:{danger:!!e.error},attrs:{disabled:!e.inputCode.trim()}},[i("span",{directives:[{name:"show",rawName:"v-show",value:!e.isLoading&&!e.error,expression:"!isLoading && !error"}]},[e._v("CONTINUAR")]),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],staticClass:"loading"},[i("i",{staticClass:"fa fa-spinner fa-spin"}),e._v("\n\t\t\t\t\tBUSCANDO\n\t\t\t\t")]),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:e.error,expression:"error"}]},[e._v("CÓDIGO NO ENCONTRADO")])])]),e._v(" "),i("a",{attrs:{id:"toggle-dialog"},on:{click:function(t){e.showDialog()}}},[e._v("Qué es esto ?")])],1),e._v(" "),i("ons-dialog",{attrs:{id:"dialog",cancelable:""}},[i("h2",[e._v("Código de acceso")]),e._v(" "),i("p",[e._v("Esta aplicación funciona exclusivamente para colegios que utilizan el sistema "),i("strong",[e._v("Phidias Académico")]),e._v(".")]),e._v(" "),i("p",[e._v("Comunícate con tu colegio para obtener tu código de acceso e ingresar al sistema")]),e._v(" "),i("div",{staticClass:"buttons"},[i("button",{staticClass:"phi-button",on:{click:function(t){e.hideDialog()}}},[e._v("OK")])])])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phi-block-files"},[e._l(e.files,function(t){return i("a",{staticClass:"phi-card file",attrs:{href:t.url,target:"_blank",rel:"noopener",title:t.title}},[i("div",{staticClass:"preview"},[t.thumbnail?i("img",{attrs:{src:t.thumbnail,alt:t.title}}):e._e(),e._v(" "),"audio/x-m4a"==t.mimetype?i("audio",{attrs:{controls:"",preload:"none"}},[i("source",{attrs:{src:t.url,type:"audio/mp4"}})]):e._e()]),e._v(" "),i("div",{staticClass:"description"},[i("h1",{domProps:{textContent:e._s(t.title)}}),e._v(" "),i("p",[e._v(e._s(e._f("bytes")(t.size)))])]),e._v(" "),"edit"==e.action?i("div",{staticClass:"actions"},[i("a",{on:{click:function(i){i.preventDefault(),e.remove(t)}}},[i("i",{staticClass:"fa fa-trash"})])]):e._e()])}),e._v(" "),"edit"==e.action&&e.fullUrl?[i("dropzone",{staticClass:"dropzone",attrs:{url:e.fullUrl},on:{success:function(t){e.success(arguments[0],arguments[1])}}},[i("h1",[e._v("Toca aqui para subir archivos")])])]:e._e()],2)},staticRenderFns:[]}}]);
//# sourceMappingURL=app.f36f33abca4874eb1d2e.js.map